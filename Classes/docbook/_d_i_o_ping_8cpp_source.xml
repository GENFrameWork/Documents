<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<section xmlns="http://docbook.org/ns/docbook" version="5.0" xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="__d_i_o_ping_8cpp_source" xml:lang="en-US">
<title>DIOPing.cpp</title>
<indexterm><primary>D:/Projects/GENFrameWork/GEN/DataIO/Protocols/DIOPing.cpp</primary></indexterm>
Go to the documentation of this file.<programlisting linenumbering="unnumbered"><anchor xml:id="__d_i_o_ping_8cpp_source_1l00001"/>00001 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00029"/>00029 <emphasis role="comment">/*----&#32;PRECOMPILATION&#32;INCLUDES&#32;----------------------------------------------------------------------------------------*/</emphasis>
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00030"/>00030 <emphasis role="preprocessor">#pragma&#32;region&#32;PRECOMPILATION_INCLUDES</emphasis>
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00031"/>00031 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00032"/>00032 <emphasis role="preprocessor">#include&#32;&quot;<link linkend="__g_e_n___defines_8h">GEN_Defines.h</link>&quot;</emphasis>
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00033"/>00033 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00034"/>00034 <emphasis role="preprocessor">#pragma&#32;endregion</emphasis>
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00035"/>00035 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00036"/>00036 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00037"/>00037 <emphasis role="comment">/*----&#32;INCLUDES&#32;------------------------------------------------------------------------------------------------------*/</emphasis>
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00038"/>00038 <emphasis role="preprocessor">#pragma&#32;region&#32;INCLUDES</emphasis>
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00039"/>00039 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00040"/>00040 <emphasis role="preprocessor">#include&#32;&quot;<link linkend="__d_i_o_ping_8h">DIOPing.h</link>&quot;</emphasis>
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00041"/>00041 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00042"/>00042 <emphasis role="preprocessor">#include&#32;&lt;stdio.h&gt;</emphasis>
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00043"/>00043 <emphasis role="preprocessor">#include&#32;&lt;string.h&gt;</emphasis>
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00044"/>00044 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00045"/>00045 <emphasis role="preprocessor">#include&#32;&quot;<link linkend="__x_factory_8h">XFactory.h</link>&quot;</emphasis>
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00046"/>00046 <emphasis role="preprocessor">#include&#32;&quot;<link linkend="__x_timer_8h">XTimer.h</link>&quot;</emphasis>
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00047"/>00047 <emphasis role="preprocessor">#include&#32;&quot;<link linkend="__x_trace_8h">XTrace.h</link>&quot;</emphasis>
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00048"/>00048 <emphasis role="preprocessor">#include&#32;&quot;<link linkend="__x_rand_8h">XRand.h</link>&quot;</emphasis>
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00049"/>00049 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00050"/>00050 <emphasis role="preprocessor">#include&#32;&quot;<link linkend="__d_i_o_stream_i_c_m_p_config_8h">DIOStreamICMPConfig.h</link>&quot;</emphasis>
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00051"/>00051 <emphasis role="preprocessor">#include&#32;&quot;<link linkend="__d_i_o_stream_i_c_m_p_8h">DIOStreamICMP.h</link>&quot;</emphasis>
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00052"/>00052 <emphasis role="preprocessor">#include&#32;&quot;<link linkend="__d_i_o_factory_8h">DIOFactory.h</link>&quot;</emphasis>
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00053"/>00053 <emphasis role="preprocessor">#include&#32;&quot;<link linkend="__hash_c_r_c32_8h">HashCRC32.h</link>&quot;</emphasis>
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00054"/>00054 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00055"/>00055 <emphasis role="preprocessor">#include&#32;&quot;<link linkend="__d_i_o_ping___x_event_8h">DIOPing_XEvent.h</link>&quot;</emphasis>
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00056"/>00056 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00057"/>00057 <emphasis role="preprocessor">#include&#32;&quot;<link linkend="__x_memory___control_8h">XMemory_Control.h</link>&quot;</emphasis>
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00058"/>00058 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00059"/>00059 <emphasis role="preprocessor">#pragma&#32;endregion</emphasis>
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00060"/>00060 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00061"/>00061 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00062"/>00062 <emphasis role="comment">/*----&#32;GENERAL&#32;VARIABLE&#32;----------------------------------------------------------------------------------------------*/</emphasis>
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00063"/>00063 <emphasis role="preprocessor">#pragma&#32;region&#32;GENERAL_VARIABLE</emphasis>
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00064"/>00064 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00065"/>00065 <link linkend="_class_d_i_o_p_i_n_g">DIOPING</link>*&#32;DIOPING::instance&#32;=&#32;<link linkend="__x_base_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</link>;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00066"/>00066 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00067"/>00067 <emphasis role="preprocessor">#pragma&#32;endregion</emphasis>
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00068"/>00068 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00069"/>00069 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00070"/>00070 <emphasis role="comment">/*----&#32;CLASS&#32;MEMBERS&#32;-------------------------------------------------------------------------------------------------*/</emphasis>
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00071"/>00071 <emphasis role="preprocessor">#pragma&#32;region&#32;CLASS_MEMBERS</emphasis>
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00072"/>00072 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00073"/>00073 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00074"/>00074 <emphasis role="preprocessor">#pragma&#32;region&#32;CLASS_DIOPINGREPLY</emphasis>
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00075"/>00075 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00076"/>00076 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00084"/><link linkend="_group___d_a_t_a_i_o_1ga0890d88e39001818b125a41de2f22912">00084</link> <link linkend="_group___d_a_t_a_i_o_1ga0890d88e39001818b125a41de2f22912">DIOPINGREPLY::DIOPINGREPLY</link>()
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00085"/>00085 {
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00086"/>00086 &#32;&#32;Clean();
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00087"/>00087 }
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00088"/>00088 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00089"/>00089 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00098"/><link linkend="_group___d_a_t_a_i_o_1ga5a2cdc37cbbc34d4c49541dc22dd7e23">00098</link> <link linkend="_group___d_a_t_a_i_o_1ga5a2cdc37cbbc34d4c49541dc22dd7e23">DIOPINGREPLY::~DIOPINGREPLY</link>()
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00099"/>00099 {
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00100"/>00100 &#32;&#32;Clean();
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00101"/>00101 }
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00102"/>00102 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00103"/>00103 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00113"/><link linkend="_group___d_a_t_a_i_o_1gaff9ff783530d47f2130bd42aa5a4276e">00113</link> <link linkend="__x_base_8h_1a0e5b572e67f127f1afb599e257c539cf">XDWORD</link>&#32;<link linkend="_group___d_a_t_a_i_o_1gaff9ff783530d47f2130bd42aa5a4276e">DIOPINGREPLY::GetSequence</link>()
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00114"/>00114 {
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00115"/>00115 &#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;sequence;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00116"/>00116 }
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00117"/>00117 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00118"/>00118 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00128"/><link linkend="_group___d_a_t_a_i_o_1gad15ef5ac477f5238e62ad8b6cf1b6986">00128</link> <emphasis role="keywordtype">void</emphasis>&#32;<link linkend="_group___d_a_t_a_i_o_1gad15ef5ac477f5238e62ad8b6cf1b6986">DIOPINGREPLY::SetSequence</link>(<link linkend="__x_base_8h_1a0e5b572e67f127f1afb599e257c539cf">XDWORD</link>&#32;sequence)
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00129"/>00129 {
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00130"/>00130 &#32;&#32;this-&gt;sequence&#32;&#32;=&#32;sequence;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00131"/>00131 }
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00132"/>00132 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00133"/>00133 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00143"/><link linkend="_group___d_a_t_a_i_o_1ga7a8f2de1e2dc081a6d647063e68163d0">00143</link> <link linkend="_class_x_s_t_r_i_n_g">XSTRING</link>*&#32;<link linkend="_group___d_a_t_a_i_o_1ga7a8f2de1e2dc081a6d647063e68163d0">DIOPINGREPLY::GetFromIP</link>()
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00144"/>00144 {
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00145"/>00145 &#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;&amp;fromIP;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00146"/>00146 }
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00147"/>00147 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00148"/>00148 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00158"/><link linkend="_group___d_a_t_a_i_o_1ga46b727d0b1d498ac56c3549162aabd18">00158</link> <link linkend="__x_base_8h_1a0e5b572e67f127f1afb599e257c539cf">XDWORD</link>&#32;<link linkend="_group___d_a_t_a_i_o_1ga46b727d0b1d498ac56c3549162aabd18">DIOPINGREPLY::GetSizeRequest</link>()
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00159"/>00159 {
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00160"/>00160 &#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;sizerequest;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00161"/>00161 }
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00162"/>00162 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00163"/>00163 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00173"/><link linkend="_group___d_a_t_a_i_o_1gae64e6edc7bf76eb880c1d9fa6babb41a">00173</link> <emphasis role="keywordtype">void</emphasis>&#32;<link linkend="_group___d_a_t_a_i_o_1gae64e6edc7bf76eb880c1d9fa6babb41a">DIOPINGREPLY::SetSizeRequest</link>(<link linkend="__x_base_8h_1a0e5b572e67f127f1afb599e257c539cf">XDWORD</link>&#32;sizerequest)
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00174"/>00174 {
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00175"/>00175 &#32;&#32;this-&gt;sizerequest&#32;=&#32;sizerequest;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00176"/>00176 }
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00177"/>00177 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00178"/>00178 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00188"/><link linkend="_group___d_a_t_a_i_o_1ga6620f5f01afec5b11f79f36252609e3a">00188</link> <link linkend="__x_base_8h_1a0e5b572e67f127f1afb599e257c539cf">XDWORD</link>&#32;<link linkend="_group___d_a_t_a_i_o_1ga6620f5f01afec5b11f79f36252609e3a">DIOPINGREPLY::GetTimeElapsed</link>()
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00189"/>00189 {
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00190"/>00190 &#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;timeelapsed;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00191"/>00191 }
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00192"/>00192 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00193"/>00193 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00203"/><link linkend="_group___d_a_t_a_i_o_1ga8008eb7761c3231c19ad0c4ff96ecbf6">00203</link> <emphasis role="keywordtype">void</emphasis>&#32;<link linkend="_group___d_a_t_a_i_o_1ga8008eb7761c3231c19ad0c4ff96ecbf6">DIOPINGREPLY::SetTimeElapsed</link>(<link linkend="__x_base_8h_1a0e5b572e67f127f1afb599e257c539cf">XDWORD</link>&#32;timeelapsed)
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00204"/>00204 {
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00205"/>00205 &#32;&#32;this-&gt;timeelapsed&#32;=&#32;timeelapsed;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00206"/>00206 }
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00207"/>00207 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00208"/>00208 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00218"/><link linkend="_group___d_a_t_a_i_o_1ga9e3e29a50126057214cb1f2262d46b4f">00218</link> <link linkend="__x_base_8h_1a7ba3d378cab4450418bec78e604d47da">XBYTE</link>&#32;<link linkend="_group___d_a_t_a_i_o_1ga9e3e29a50126057214cb1f2262d46b4f">DIOPINGREPLY::GetTTL</link>()
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00219"/>00219 {
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00220"/>00220 &#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;TTL;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00221"/>00221 }
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00222"/>00222 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00223"/>00223 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00233"/><link linkend="_group___d_a_t_a_i_o_1gaf8102ba313a8d529fc71673802cd2eb1">00233</link> <emphasis role="keywordtype">void</emphasis>&#32;<link linkend="_group___d_a_t_a_i_o_1gaf8102ba313a8d529fc71673802cd2eb1">DIOPINGREPLY::SetTTL</link>(<link linkend="__x_base_8h_1a7ba3d378cab4450418bec78e604d47da">XBYTE</link>&#32;TTL)
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00234"/>00234 {
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00235"/>00235 &#32;&#32;this-&gt;TTL&#32;=&#32;TTL;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00236"/>00236 }
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00237"/>00237 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00238"/>00238 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00247"/>00247 <emphasis role="keywordtype">void</emphasis>&#32;DIOPINGREPLY::Clean()
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00248"/>00248 {
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00249"/>00249 &#32;&#32;sequence&#32;&#32;&#32;&#32;&#32;&#32;=&#32;0;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00250"/>00250 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00251"/>00251 &#32;&#32;fromIP.<link linkend="_group___x_u_t_i_l_s_1ga9275997c1605fa79646c301e63a77d06">Empty</link>();
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00252"/>00252 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00253"/>00253 &#32;&#32;sizerequest&#32;&#32;&#32;=&#32;0;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00254"/>00254 &#32;&#32;timeelapsed&#32;&#32;&#32;=&#32;0;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00255"/>00255 &#32;&#32;TTL&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;=&#32;0;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00256"/>00256 }
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00257"/>00257 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00258"/>00258 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00259"/>00259 <emphasis role="preprocessor">#pragma&#32;endregion</emphasis>
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00260"/>00260 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00261"/>00261 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00262"/>00262 <emphasis role="preprocessor">#pragma&#32;region&#32;CLASS_DIOPING</emphasis>
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00263"/>00263 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00264"/>00264 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00272"/><link linkend="_group___d_a_t_a_i_o_1ga87867d2631585df573df31460db7fd67">00272</link> <link linkend="_group___d_a_t_a_i_o_1ga87867d2631585df573df31460db7fd67">DIOPING::DIOPING</link>()
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00273"/>00273 {
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00274"/>00274 &#32;&#32;Clean();
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00275"/>00275 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00276"/>00276 &#32;&#32;<link linkend="_group___x_u_t_i_l_s_1gac83006698567c749aecf727dddef5d9c">RegisterEvent</link>(<link linkend="__d_i_o_ping___x_event_8h_1af257017f982acb3d112970c96cad1155a5dc351afb5794b3d65438ec7b5fd73e5">DIOPING_XEVENT_TYPE_DOPING</link>);
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00277"/>00277 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00278"/>00278 &#32;&#32;GEN_XFACTORY_CREATE(<link linkend="_class_d_i_o_p_i_n_g_1ad7348cf5f34bcb13e51b211f8479b54f">xtimer</link>,&#32;CreateTimer())
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00279"/>00279 &#32;&#32;GEN_XFACTORY_CREATE(<link linkend="_class_d_i_o_p_i_n_g_1a12b0479761b5d9f37a0890dd9fc28bcb">xmutexreplys</link>,&#32;Create_Mutex())
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00280"/>00280 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00281"/>00281 &#32;&#32;<link linkend="_class_d_i_o_p_i_n_g_1ac331c897792d0e552de837a98b0c79c2">urltarget</link>&#32;=&#32;<emphasis role="keyword">new</emphasis>&#32;<link linkend="_class_d_i_o_u_r_l">DIOURL</link>();
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00282"/>00282 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00283"/>00283 &#32;&#32;<link linkend="_class_h_a_s_h_c_r_c32">HASHCRC32</link>&#32;crc32;&#32;&#32;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00284"/>00284 &#32;&#32;<link linkend="_class_x_b_u_f_f_e_r">XBUFFER</link>&#32;&#32;&#32;xbuffer;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00285"/>00285 &#32;&#32;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00286"/>00286 &#32;&#32;<link linkend="_class_x_r_a_n_d">XRAND</link>*&#32;GEN_XFACTORY_CREATE(xrand,&#32;CreateRand())
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00287"/>00287 &#32;&#32;<emphasis role="keywordflow">if</emphasis>(xrand)
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00288"/>00288 &#32;&#32;&#32;&#32;{
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00289"/>00289 &#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">for</emphasis>(<emphasis role="keywordtype">int</emphasis>&#32;c=0;&#32;c&lt;128;&#32;c++)
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00290"/>00290 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00291"/>00291 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;xbuffer.<link linkend="_group___x_u_t_i_l_s_1ga03212e4f31a9d07995ac4f72db1dd0cf">Add</link>((<link linkend="__x_base_8h_1a7ba3d378cab4450418bec78e604d47da">XBYTE</link>)xrand-&gt;Max(255));
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00292"/>00292 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00293"/>00293 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00294"/>00294 &#32;&#32;&#32;&#32;&#32;&#32;crc32.<link linkend="_group___c_i_p_h_e_r_1gab01cc6a04a2c4ee67dcca98c7b233913">ResetResult</link>();
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00295"/>00295 &#32;&#32;&#32;&#32;&#32;&#32;crc32.<link linkend="_group___c_i_p_h_e_r_1ga170fa5c716219e92d4724553d6e8e0ce">Do</link>(xbuffer);
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00296"/>00296 &#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_class_d_i_o_p_i_n_g_1a60f169aaddf8119cf8f3f217fdbcbbdf">applicationID</link>&#32;=&#32;crc32.<link linkend="_group___c_i_p_h_e_r_1gab33e363f6374a0e559e99f2f80e5abf6">GetResultCRC32</link>();
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00297"/>00297 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00298"/>00298 &#32;&#32;&#32;&#32;&#32;&#32;GEN_XFACTORY.DeleteRand(xrand);
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00299"/>00299 &#32;&#32;&#32;&#32;}
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00300"/>00300 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00301"/>00301 &#32;&#32;GEN_XFACTORY_CREATE(<link linkend="_class_d_i_o_p_i_n_g_1aaa0cdf7c8bc04f82edfd189d3779a7e9">xmutexping</link>,&#32;Create_Mutex());&#32;&#32;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00302"/>00302 }
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00303"/>00303 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00304"/>00304 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00313"/><link linkend="_group___d_a_t_a_i_o_1ga1ca67e8a937d684e0759a68a48f3b1c3">00313</link> <link linkend="_group___d_a_t_a_i_o_1ga1ca67e8a937d684e0759a68a48f3b1c3">DIOPING::~DIOPING</link>()
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00314"/>00314 {
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00315"/>00315 &#32;&#32;<link linkend="_group___x_u_t_i_l_s_1gab78992063b09d37612e7719e37d415bc">DeRegisterEvent</link>(<link linkend="__d_i_o_ping___x_event_8h_1af257017f982acb3d112970c96cad1155a5dc351afb5794b3d65438ec7b5fd73e5">DIOPING_XEVENT_TYPE_DOPING</link>);
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00316"/>00316 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00317"/>00317 &#32;&#32;<link linkend="_group___d_a_t_a_i_o_1gab0766ead8ed90a8e99e7ecef20ad4deb">DeleteAllReplys</link>();
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00318"/>00318 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00319"/>00319 &#32;&#32;<emphasis role="keywordflow">if</emphasis>(<link linkend="_class_d_i_o_p_i_n_g_1ad7348cf5f34bcb13e51b211f8479b54f">xtimer</link>)&#32;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00320"/>00320 &#32;&#32;&#32;&#32;{
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00321"/>00321 &#32;&#32;&#32;&#32;&#32;&#32;GEN_XFACTORY.DeleteTimer(<link linkend="_class_d_i_o_p_i_n_g_1ad7348cf5f34bcb13e51b211f8479b54f">xtimer</link>);
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00322"/>00322 &#32;&#32;&#32;&#32;}
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00323"/>00323 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00324"/>00324 &#32;&#32;<emphasis role="keywordflow">if</emphasis>(<link linkend="_class_d_i_o_p_i_n_g_1ac331c897792d0e552de837a98b0c79c2">urltarget</link>)&#32;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00325"/>00325 &#32;&#32;&#32;&#32;{
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00326"/>00326 &#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">delete</emphasis>&#32;<link linkend="_class_d_i_o_p_i_n_g_1ac331c897792d0e552de837a98b0c79c2">urltarget</link>;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00327"/>00327 &#32;&#32;&#32;&#32;}
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00328"/>00328 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00329"/>00329 &#32;&#32;<emphasis role="keywordflow">if</emphasis>(<link linkend="_class_d_i_o_p_i_n_g_1a12b0479761b5d9f37a0890dd9fc28bcb">xmutexreplys</link>)&#32;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00330"/>00330 &#32;&#32;&#32;&#32;{
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00331"/>00331 &#32;&#32;&#32;&#32;&#32;&#32;GEN_XFACTORY.Delete_Mutex(<link linkend="_class_d_i_o_p_i_n_g_1a12b0479761b5d9f37a0890dd9fc28bcb">xmutexreplys</link>);
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00332"/>00332 &#32;&#32;&#32;&#32;}&#32;&#32;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00333"/>00333 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00334"/>00334 &#32;&#32;<emphasis role="keywordflow">if</emphasis>(<link linkend="_class_d_i_o_p_i_n_g_1aaa0cdf7c8bc04f82edfd189d3779a7e9">xmutexping</link>)&#32;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00335"/>00335 &#32;&#32;&#32;&#32;{
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00336"/>00336 &#32;&#32;&#32;&#32;&#32;&#32;GEN_XFACTORY.Delete_Mutex(<link linkend="_class_d_i_o_p_i_n_g_1aaa0cdf7c8bc04f82edfd189d3779a7e9">xmutexping</link>);
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00337"/>00337 &#32;&#32;&#32;&#32;}&#32;&#32;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00338"/>00338 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00339"/>00339 &#32;&#32;Clean();
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00340"/>00340 }
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00341"/>00341 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00342"/>00342 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00352"/><link linkend="_group___d_a_t_a_i_o_1gacac150d01fb95af5b450dc451d3fffc8">00352</link> <emphasis role="keywordtype">bool</emphasis>&#32;<link linkend="_group___d_a_t_a_i_o_1gacac150d01fb95af5b450dc451d3fffc8">DIOPING::GetIsInstanced</link>()
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00353"/>00353 {
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00354"/>00354 &#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;instance!=<link linkend="__x_base_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</link>;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00355"/>00355 }
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00356"/>00356 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00357"/>00357 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00367"/><link linkend="_group___d_a_t_a_i_o_1gaf09b5bfb7a8a33beb77e9011db116282">00367</link> <link linkend="_class_d_i_o_p_i_n_g">DIOPING</link>&amp;&#32;<link linkend="_group___d_a_t_a_i_o_1gaf09b5bfb7a8a33beb77e9011db116282">DIOPING::GetInstance</link>()
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00368"/>00368 {
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00369"/>00369 &#32;&#32;<emphasis role="keywordflow">if</emphasis>(!instance)&#32;instance&#32;=&#32;<emphasis role="keyword">new</emphasis>&#32;<link linkend="_group___d_a_t_a_i_o_1ga87867d2631585df573df31460db7fd67">DIOPING</link>();
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00370"/>00370 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00371"/>00371 &#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;(*instance);
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00372"/>00372 }
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00373"/>00373 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00374"/>00374 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00386"/><link linkend="_group___d_a_t_a_i_o_1ga7a251ef02eff6917fb140b776f62e7bd">00386</link> <emphasis role="keywordtype">bool</emphasis>&#32;<link linkend="_group___d_a_t_a_i_o_1ga7a251ef02eff6917fb140b776f62e7bd">DIOPING::SetInstance</link>(<link linkend="_class_d_i_o_p_i_n_g">DIOPING</link>*&#32;_instance)
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00387"/>00387 {
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00388"/>00388 &#32;&#32;<emphasis role="keywordflow">if</emphasis>(!_instance)&#32;<emphasis role="keywordflow">return</emphasis>&#32;<emphasis role="keyword">false</emphasis>;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00389"/>00389 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00390"/>00390 &#32;&#32;instance&#32;=&#32;_instance;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00391"/>00391 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00392"/>00392 &#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;(instance)?<emphasis role="keyword">true</emphasis>:<emphasis role="keyword">false</emphasis>;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00393"/>00393 }
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00394"/>00394 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00395"/>00395 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00405"/><link linkend="_group___d_a_t_a_i_o_1gad2d4ca046ecb016cc48e647466f5903c">00405</link> <emphasis role="keywordtype">bool</emphasis>&#32;<link linkend="_group___d_a_t_a_i_o_1gad2d4ca046ecb016cc48e647466f5903c">DIOPING::DelInstance</link>()
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00406"/>00406 {
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00407"/>00407 &#32;&#32;<emphasis role="keywordflow">if</emphasis>(instance)
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00408"/>00408 &#32;&#32;&#32;&#32;{
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00409"/>00409 &#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">delete</emphasis>&#32;instance;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00410"/>00410 &#32;&#32;&#32;&#32;&#32;&#32;instance&#32;=&#32;<link linkend="__x_base_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</link>;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00411"/>00411 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00412"/>00412 &#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;<emphasis role="keyword">true</emphasis>;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00413"/>00413 &#32;&#32;&#32;&#32;}
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00414"/>00414 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00415"/>00415 &#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;<emphasis role="keyword">false</emphasis>;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00416"/>00416 }
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00417"/>00417 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00418"/>00418 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00428"/><link linkend="_group___d_a_t_a_i_o_1gac47afe76a538361c4035400b92b66ae3">00428</link> <link linkend="_class_d_i_o_u_r_l">DIOURL</link>*&#32;<link linkend="_group___d_a_t_a_i_o_1gac47afe76a538361c4035400b92b66ae3">DIOPING::GetTarget</link>()
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00429"/>00429 {
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00430"/>00430 &#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;<link linkend="_class_d_i_o_p_i_n_g_1ac331c897792d0e552de837a98b0c79c2">urltarget</link>;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00431"/>00431 }
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00432"/>00432 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00433"/>00433 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00446"/><link linkend="_group___d_a_t_a_i_o_1gae95d434d0223437b09dac3427b022ad6">00446</link> <emphasis role="keywordtype">bool</emphasis>&#32;<link linkend="_group___d_a_t_a_i_o_1gae95d434d0223437b09dac3427b022ad6">DIOPING::Set</link>(<link linkend="__x_string_8h_1a03209152a681f02e4ba73b6681dd4968">XCHAR</link>*&#32;urltarget&#32;,&#32;<link linkend="__x_string_8h_1a03209152a681f02e4ba73b6681dd4968">XCHAR</link>*&#32;IPLocal)
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00447"/>00447 {
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00448"/>00448 &#32;&#32;<emphasis role="keywordflow">if</emphasis>(this-&gt;urltarget)&#32;(*this-&gt;<link linkend="_class_d_i_o_p_i_n_g_1ac331c897792d0e552de837a98b0c79c2">urltarget</link>)&#32;=&#32;urltarget;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00449"/>00449 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00450"/>00450 &#32;&#32;<emphasis role="keywordflow">if</emphasis>(<link linkend="_class_d_i_o_p_i_n_g_1a34888d98be158ab9e19a7fe9c85444f0">IPLocal</link>)&#32;this-&gt;IPLocal&#32;=&#32;<link linkend="_class_d_i_o_p_i_n_g_1a34888d98be158ab9e19a7fe9c85444f0">IPLocal</link>;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00451"/>00451 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00452"/>00452 &#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;<emphasis role="keyword">true</emphasis>;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00453"/>00453 }
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00454"/>00454 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00455"/>00455 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00468"/><link linkend="_group___d_a_t_a_i_o_1gaa0791cc07c1dc4679d9aaf46f4785e18">00468</link> <emphasis role="keywordtype">bool</emphasis>&#32;<link linkend="_group___d_a_t_a_i_o_1gae95d434d0223437b09dac3427b022ad6">DIOPING::Set</link>(<link linkend="_class_d_i_o_u_r_l">DIOURL</link>&amp;&#32;urltarget,&#32;<link linkend="__x_string_8h_1a03209152a681f02e4ba73b6681dd4968">XCHAR</link>*&#32;IPLocal)
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00469"/>00469 {
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00470"/>00470 &#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;<link linkend="_group___d_a_t_a_i_o_1gae95d434d0223437b09dac3427b022ad6">Set</link>(<link linkend="_class_d_i_o_p_i_n_g_1ac331c897792d0e552de837a98b0c79c2">urltarget</link>.<link linkend="_group___x_u_t_i_l_s_1gad1470753a96f93e2feb3ee54e6fef95f">Get</link>(),&#32;<link linkend="_class_d_i_o_p_i_n_g_1a34888d98be158ab9e19a7fe9c85444f0">IPLocal</link>);
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00471"/>00471 }
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00472"/>00472 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00473"/>00473 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00487"/><link linkend="_group___d_a_t_a_i_o_1ga8d13b667309c587574afb2e4570564f9">00487</link> <emphasis role="keywordtype">bool</emphasis>&#32;<link linkend="_group___d_a_t_a_i_o_1ga8d13b667309c587574afb2e4570564f9">DIOPING::Do</link>(<link linkend="__x_base_8h_1a0e5b572e67f127f1afb599e257c539cf">XDWORD</link>&#32;nretries,&#32;<link linkend="__x_base_8h_1a0e5b572e67f127f1afb599e257c539cf">XDWORD</link>&#32;timebetweenchecks,&#32;<emphasis role="keywordtype">bool</emphasis>&#32;exitfirstgoodreply)
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00488"/>00488 {
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00489"/>00489 &#32;&#32;<emphasis role="keywordflow">if</emphasis>(!<link linkend="_class_d_i_o_p_i_n_g_1ac331c897792d0e552de837a98b0c79c2">urltarget</link>)&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;<emphasis role="keyword">false</emphasis>;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00490"/>00490 &#32;&#32;<emphasis role="keywordflow">if</emphasis>(!<link linkend="_class_d_i_o_p_i_n_g_1ad7348cf5f34bcb13e51b211f8479b54f">xtimer</link>)&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;<emphasis role="keyword">false</emphasis>;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00491"/>00491 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00492"/>00492 &#32;&#32;<emphasis role="keywordflow">if</emphasis>(<link linkend="_class_d_i_o_p_i_n_g_1aaa0cdf7c8bc04f82edfd189d3779a7e9">xmutexping</link>)
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00493"/>00493 &#32;&#32;&#32;&#32;{
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00494"/>00494 &#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_class_d_i_o_p_i_n_g_1aaa0cdf7c8bc04f82edfd189d3779a7e9">xmutexping</link>-&gt;<link linkend="_group___x_u_t_i_l_s_1gae6d5410f1787702c59c2eae9e8b85b74">Lock</link>();
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00495"/>00495 &#32;&#32;&#32;&#32;}
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00496"/>00496 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00497"/>00497 &#32;&#32;<link linkend="_class_d_i_o_s_t_r_e_a_m_i_c_m_p_c_o_n_f_i_g">DIOSTREAMICMPCONFIG</link>&#32;&#32;&#32;diostreamICMPconfig;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00498"/>00498 &#32;&#32;<link linkend="_class_x_s_t_r_i_n_g">XSTRING</link>&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;targetIP;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00499"/>00499 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00500"/>00500 &#32;&#32;<link linkend="_group___d_a_t_a_i_o_1gab0766ead8ed90a8e99e7ecef20ad4deb">DeleteAllReplys</link>();
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00501"/>00501 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00502"/>00502 &#32;&#32;<link linkend="_class_d_i_o_p_i_n_g_1ac331c897792d0e552de837a98b0c79c2">urltarget</link>-&gt;<link linkend="_group___d_a_t_a_i_o_1gaead21c974345fd5c3367a6a4aa093596">ResolveURL</link>(targetIP);
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00503"/>00503 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00504"/>00504 &#32;&#32;diostreamICMPconfig.<link linkend="_group___d_a_t_a_i_o_1ga474dc28409291671862c42e0a0165b7f">GetRemoteURL</link>()-&gt;<link linkend="_group___x_u_t_i_l_s_1ga4e97e075650e9bc8cfb7deb28e4c9ce4">Set</link>(<link linkend="_class_d_i_o_p_i_n_g_1ac331c897792d0e552de837a98b0c79c2">urltarget</link>-&gt;<link linkend="_group___x_u_t_i_l_s_1gad1470753a96f93e2feb3ee54e6fef95f">Get</link>());
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00505"/>00505 &#32;&#32;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00506"/>00506 &#32;&#32;diostreamICMPconfig.<link linkend="_group___d_a_t_a_i_o_1ga458e110078121992cb1597c8a184c02d">SetMode</link>(<link linkend="__d_i_o_stream_config_8h_1ae47ddf801d21b825b353ae3a3008ceccae2f1cd5b3bdb86e59afda7eb0f8a91a8">DIOSTREAMMODE_CLIENT</link>);
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00507"/>00507 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00508"/>00508 &#32;&#32;<link linkend="_class_d_i_o_s_t_r_e_a_m_i_c_m_p">DIOSTREAMICMP</link>*&#32;diostreamICMP&#32;&#32;=&#32;(<link linkend="_class_d_i_o_s_t_r_e_a_m_i_c_m_p">DIOSTREAMICMP</link>*)GEN_DIOFACTORY.CreateStreamIO(&amp;diostreamICMPconfig);
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00509"/>00509 &#32;&#32;<emphasis role="keywordflow">if</emphasis>(!diostreamICMP)&#32;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00510"/>00510 &#32;&#32;&#32;&#32;{
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00511"/>00511 &#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>(<link linkend="_class_d_i_o_p_i_n_g_1aaa0cdf7c8bc04f82edfd189d3779a7e9">xmutexping</link>)
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00512"/>00512 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00513"/>00513 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_class_d_i_o_p_i_n_g_1aaa0cdf7c8bc04f82edfd189d3779a7e9">xmutexping</link>-&gt;<link linkend="_group___x_u_t_i_l_s_1gafed160c15de8de926a73f4ce978f0bc0">UnLock</link>();
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00514"/>00514 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00515"/>00515 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00516"/>00516 &#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;<emphasis role="keyword">false</emphasis>;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00517"/>00517 &#32;&#32;&#32;&#32;}
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00518"/>00518 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00519"/>00519 &#32;&#32;<emphasis role="keywordflow">if</emphasis>(!diostreamICMP-&gt;<link linkend="_class_d_i_o_s_t_r_e_a_m_i_c_m_p_1a04ed899ed05ed7f827f271e23658ed88">Open</link>())
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00520"/>00520 &#32;&#32;&#32;&#32;{
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00521"/>00521 &#32;&#32;&#32;&#32;&#32;&#32;GEN_DIOFACTORY.DeleteStreamIO(diostreamICMP);
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00522"/>00522 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00523"/>00523 &#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>(<link linkend="_class_d_i_o_p_i_n_g_1aaa0cdf7c8bc04f82edfd189d3779a7e9">xmutexping</link>)
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00524"/>00524 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00525"/>00525 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_class_d_i_o_p_i_n_g_1aaa0cdf7c8bc04f82edfd189d3779a7e9">xmutexping</link>-&gt;<link linkend="_group___x_u_t_i_l_s_1gafed160c15de8de926a73f4ce978f0bc0">UnLock</link>();
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00526"/>00526 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00527"/>00527 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00528"/>00528 &#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;<emphasis role="keyword">false</emphasis>;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00529"/>00529 &#32;&#32;&#32;&#32;}
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00530"/>00530 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00531"/>00531 &#32;&#32;<emphasis role="keywordflow">if</emphasis>(!diostreamICMP-&gt;<link linkend="_group___d_a_t_a_i_o_1gacff76db4bc54a48fe2d2ceb165835c2f">WaitToConnected</link>(5))
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00532"/>00532 &#32;&#32;&#32;&#32;{
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00533"/>00533 &#32;&#32;&#32;&#32;&#32;&#32;diostreamICMP-&gt;<link linkend="_class_d_i_o_s_t_r_e_a_m_i_c_m_p_1a1ab09be0aa3dbbeb0adb662130c5bb3b">Close</link>();
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00534"/>00534 &#32;&#32;&#32;&#32;&#32;&#32;GEN_DIOFACTORY.DeleteStreamIO(diostreamICMP);
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00535"/>00535 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00536"/>00536 &#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>(<link linkend="_class_d_i_o_p_i_n_g_1aaa0cdf7c8bc04f82edfd189d3779a7e9">xmutexping</link>)
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00537"/>00537 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00538"/>00538 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_class_d_i_o_p_i_n_g_1aaa0cdf7c8bc04f82edfd189d3779a7e9">xmutexping</link>-&gt;<link linkend="_group___x_u_t_i_l_s_1gafed160c15de8de926a73f4ce978f0bc0">UnLock</link>();
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00539"/>00539 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00540"/>00540 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00541"/>00541 &#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;<emphasis role="keyword">false</emphasis>;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00542"/>00542 &#32;&#32;&#32;&#32;}
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00543"/>00543 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00544"/>00544 &#32;&#32;<link linkend="_struct_d_i_o_p_i_n_g___e_c_h_o_r_e_q_u_e_s_t">DIOPING_ECHOREQUEST</link>&#32;echorequest;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00545"/>00545 &#32;&#32;<emphasis role="keywordtype">int</emphasis>&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;ID&#32;&#32;&#32;&#32;=&#32;0xCAFE;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00546"/>00546 &#32;&#32;<emphasis role="keywordtype">int</emphasis>&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;nseq&#32;&#32;=&#32;2;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00547"/>00547 &#32;&#32;<emphasis role="keywordtype">int</emphasis>&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;nloop&#32;=&#32;<link linkend="_class_d_i_o_p_i_n_g_1a5632688c224c7d908908a291890fd69e">nretries</link>;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00548"/>00548 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00549"/>00549 &#32;&#32;<emphasis role="keywordflow">while</emphasis>(nloop)
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00550"/>00550 &#32;&#32;&#32;&#32;{
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00551"/>00551 &#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_class_h_a_s_h_c_r_c32">HASHCRC32</link>&#32;crc32;&#32;&#32;&#32;&#32;&#32;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00552"/>00552 &#32;&#32;&#32;&#32;&#32;&#32;<link linkend="__x_base_8h_1a0e5b572e67f127f1afb599e257c539cf">XDWORD</link>&#32;&#32;&#32;&#32;crc32result;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00553"/>00553 &#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_class_x_s_t_r_i_n_g">XSTRING</link>&#32;&#32;&#32;address;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00554"/>00554 &#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_class_x_b_u_f_f_e_r">XBUFFER</link>&#32;&#32;&#32;xbuffer;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00555"/>00555 &#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordtype">bool</emphasis>&#32;&#32;&#32;&#32;&#32;&#32;status&#32;&#32;&#32;&#32;&#32;&#32;&#32;=&#32;<emphasis role="keyword">false</emphasis>;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00556"/>00556 &#32;&#32;&#32;&#32;&#32;&#32;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00557"/>00557 &#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_class_x_r_a_n_d">XRAND</link>*&#32;GEN_XFACTORY_CREATE(xrand,&#32;CreateRand())
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00558"/>00558 &#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>(!xrand)&#32;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00559"/>00559 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00560"/>00560 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">break</emphasis>;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00561"/>00561 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00562"/>00562 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00563"/>00563 &#32;&#32;&#32;&#32;&#32;&#32;memset((<link linkend="__x_base_8h_1a7ba3d378cab4450418bec78e604d47da">XBYTE</link>*)&amp;echorequest,&#32;0,&#32;<emphasis role="keyword">sizeof</emphasis>(<link linkend="_struct_d_i_o_p_i_n_g___e_c_h_o_r_e_q_u_e_s_t">DIOPING_ECHOREQUEST</link>));
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00564"/>00564 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00565"/>00565 &#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;Fill&#32;in&#32;echo&#32;request</emphasis>
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00566"/>00566 &#32;&#32;&#32;&#32;&#32;&#32;echorequest.icmphdr.type&#32;&#32;&#32;&#32;&#32;&#32;=&#32;<link linkend="__d_i_o_ping_8h_1a00c3643f127cec6beb9b9d897baebd4b">DIOPING_ICMP_ECHOREQ</link>;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00567"/>00567 &#32;&#32;&#32;&#32;&#32;&#32;echorequest.icmphdr.code&#32;&#32;&#32;&#32;&#32;&#32;=&#32;0;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00568"/>00568 &#32;&#32;&#32;&#32;&#32;&#32;echorequest.icmphdr.ID&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;=&#32;ID;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00569"/>00569 &#32;&#32;&#32;&#32;&#32;&#32;echorequest.icmphdr.seq&#32;&#32;&#32;&#32;&#32;&#32;&#32;=&#32;nseq++;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00570"/>00570 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00571"/>00571 &#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//Fill&#32;in&#32;some&#32;data&#32;to&#32;send</emphasis>
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00572"/>00572 &#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">for</emphasis>(<emphasis role="keywordtype">int</emphasis>&#32;nret=0;&#32;nret&lt;<link linkend="__d_i_o_ping_8h_1af4945925c0becb45fab8235dcb4f81b8">DIOPING_REQ_TICKETSIZE</link>;&#32;nret++)
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00573"/>00573 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00574"/>00574 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;echorequest.cdata[nret]&#32;=&#32;xrand-&gt;Max(255);
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00575"/>00575 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00576"/>00576 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00577"/>00577 &#32;&#32;&#32;&#32;&#32;&#32;GEN_XFACTORY.DeleteRand(xrand);
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00578"/>00578 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00579"/>00579 &#32;&#32;&#32;&#32;&#32;&#32;crc32.<link linkend="_group___c_i_p_h_e_r_1gab01cc6a04a2c4ee67dcca98c7b233913">ResetResult</link>();
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00580"/>00580 &#32;&#32;&#32;&#32;&#32;&#32;crc32.<link linkend="_group___c_i_p_h_e_r_1ga170fa5c716219e92d4724553d6e8e0ce">Do</link>((<link linkend="__x_base_8h_1a7ba3d378cab4450418bec78e604d47da">XBYTE</link>*)echorequest.cdata,&#32;<link linkend="__d_i_o_ping_8h_1af4945925c0becb45fab8235dcb4f81b8">DIOPING_REQ_TICKETSIZE</link>);
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00581"/>00581 &#32;&#32;&#32;&#32;&#32;&#32;crc32result&#32;=&#32;crc32.<link linkend="_group___c_i_p_h_e_r_1gab33e363f6374a0e559e99f2f80e5abf6">GetResultCRC32</link>();
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00582"/>00582 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00583"/>00583 &#32;&#32;&#32;&#32;&#32;&#32;echorequest.applicationID&#32;&#32;&#32;&#32;&#32;=&#32;<link linkend="_class_d_i_o_p_i_n_g_1a60f169aaddf8119cf8f3f217fdbcbbdf">applicationID</link>;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00584"/>00584 &#32;&#32;&#32;&#32;&#32;&#32;echorequest.time&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;=&#32;(<link linkend="__x_base_8h_1a0e5b572e67f127f1afb599e257c539cf">XDWORD</link>)<link linkend="_class_d_i_o_p_i_n_g_1ad7348cf5f34bcb13e51b211f8479b54f">xtimer</link>-&gt;<link linkend="_group___x_u_t_i_l_s_1gaf717958e388241b795608d32b7a1d836">GetMicroSecondsTickCounter</link>();&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;Save&#32;tick&#32;count&#32;when&#32;sent</emphasis>
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00585"/>00585 &#32;&#32;&#32;&#32;&#32;&#32;echorequest.icmphdr.checksum&#32;&#32;=&#32;<link linkend="_group___d_a_t_a_i_o_1ga97ffe8656f207daa9e6e174ee835bd96">CalculeCheckSum</link>((<link linkend="__x_base_8h_1a3f1fe1487089bc987e3d549a9064e653">XWORD</link>&#32;*)&amp;echorequest,&#32;<emphasis role="keyword">sizeof</emphasis>(<link linkend="_struct_d_i_o_p_i_n_g___e_c_h_o_r_e_q_u_e_s_t">DIOPING_ECHOREQUEST</link>));&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;Put&#32;data&#32;in&#32;packet&#32;and&#32;compute&#32;checksum</emphasis>
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00586"/>00586 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00587"/>00587 &#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>(echorequest.icmphdr.checksum)
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00588"/>00588 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00589"/>00589 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;diostreamICMP-&gt;<link linkend="_group___d_a_t_a_i_o_1gaa48e892d5c3e70987015f1858d4df326">GetInXBuffer</link>()-&gt;<link linkend="_group___x_u_t_i_l_s_1ga0395231705663a2aeeee3b4be9d292bb">Delete</link>();
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00590"/>00590 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;diostreamICMP-&gt;<link linkend="_group___d_a_t_a_i_o_1gabba2f238a0d8360b0208fca4041a52d0">GetOutXBuffer</link>()-&gt;<link linkend="_group___x_u_t_i_l_s_1ga0395231705663a2aeeee3b4be9d292bb">Delete</link>();
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00591"/>00591 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;diostreamICMP-&gt;<link linkend="_group___d_a_t_a_i_o_1ga6eec33e0c90488c0e5409107b48c2187">DeleteAllDatagrams</link>();
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00592"/>00592 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00593"/>00593 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;status&#32;=&#32;diostreamICMP-&gt;<link linkend="_group___d_a_t_a_i_o_1ga195b2f6b4b7beeee2db4a3a85da71b00">WriteDatagram</link>(targetIP,&#32;(<link linkend="__x_base_8h_1a7ba3d378cab4450418bec78e604d47da">XBYTE</link>*)&amp;echorequest,&#32;<emphasis role="keyword">sizeof</emphasis>(<link linkend="_struct_d_i_o_p_i_n_g___e_c_h_o_r_e_q_u_e_s_t">DIOPING_ECHOREQUEST</link>));
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00594"/>00594 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>(status)&#32;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00595"/>00595 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00596"/>00596 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;status&#32;=&#32;diostreamICMP-&gt;<link linkend="_group___d_a_t_a_i_o_1ga59dc380e213dd083940c80663667dae7">WaitToFlushOutXBuffer</link>(3);
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00597"/>00597 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00598"/>00598 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00599"/>00599 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00600"/>00600 &#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>(!status)
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00601"/>00601 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00602"/>00602 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//XTRACE_PRINTCOLOR(XTRACE_COLOR_RED,&#32;__L(&quot;[Ping]&#32;not&#32;write&#32;packet!&#32;%s&quot;),&#32;targetIP.Get());</emphasis>
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00603"/>00603 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">break</emphasis>;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00604"/>00604 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00605"/>00605 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00606"/>00606 &#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">while</emphasis>(1)
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00607"/>00607 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00608"/>00608 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;status&#32;=&#32;diostreamICMP-&gt;<link linkend="_group___d_a_t_a_i_o_1ga6e20f03ff391343123fda221a5c2ed85">WaitToFilledReadingBuffer</link>(<emphasis role="keyword">sizeof</emphasis>(<link linkend="_struct_d_i_o_p_i_n_g___e_c_h_o_r_e_p_l_y">DIOPING_ECHOREPLY</link>),&#32;1);
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00609"/>00609 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>(!status)
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00610"/>00610 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00611"/>00611 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//XTRACE_PRINTCOLOR(XTRACE_COLOR_RED,&#32;__L(&quot;[Ping]&#32;not&#32;ready&#32;packet!&#32;%s&quot;),&#32;targetIP.Get());</emphasis>
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00612"/>00612 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>(exitfirstgoodreply)&#32;&#32;nloop&#32;=&#32;0;&#32;&#32;<emphasis role="keywordflow">else</emphasis>&#32;nloop--;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00613"/>00613 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">break</emphasis>;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00614"/>00614 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00615"/>00615 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00616"/>00616 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;status&#32;=&#32;diostreamICMP-&gt;<link linkend="_group___d_a_t_a_i_o_1gad79833b68ef4c3432ff7321c7c8761f8">ReadDatagram</link>(address,&#32;xbuffer);
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00617"/>00617 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>(!status)
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00618"/>00618 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00619"/>00619 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//XTRACE_PRINTCOLOR(XTRACE_COLOR_RED,&#32;__L(&quot;[Ping]&#32;not&#32;read&#32;packet!&#32;%s&quot;),&#32;targetIP.Get());</emphasis>
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00620"/>00620 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>(exitfirstgoodreply)&#32;&#32;nloop&#32;=&#32;0;&#32;&#32;<emphasis role="keywordflow">else</emphasis>&#32;nloop--;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00621"/>00621 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">break</emphasis>;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00622"/>00622 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00623"/>00623 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00624"/>00624 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>(xbuffer.<link linkend="_group___x_u_t_i_l_s_1ga726a6143d8a9293a199f8033c8198a0a">GetSize</link>()&#32;&lt;&#32;<emphasis role="keyword">sizeof</emphasis>(<link linkend="_struct_d_i_o_p_i_n_g___e_c_h_o_r_e_p_l_y">DIOPING_ECHOREPLY</link>))
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00625"/>00625 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00626"/>00626 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//XTRACE_PRINTCOLOR(XTRACE_COLOR_RED,&#32;__L(&quot;[Ping]&#32;invalid&#32;size&#32;packet!&#32;%s,&#32;&quot;),&#32;targetIP.Get());</emphasis>
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00627"/>00627 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">continue</emphasis>;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00628"/>00628 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00629"/>00629 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00630"/>00630 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_struct_d_i_o_p_i_n_g___e_c_h_o_r_e_p_l_y">DIOPING_ECHOREPLY</link>&#32;echoreply;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00631"/>00631 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00632"/>00632 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;memcpy((<link linkend="__x_base_8h_1a7ba3d378cab4450418bec78e604d47da">XBYTE</link>*)&amp;echoreply.<link linkend="_struct_d_i_o_p_i_n_g___e_c_h_o_r_e_p_l_y_1ab620e1d38257ac0de4febfa17e2f4065">iphdr</link>,&#32;xbuffer.<link linkend="_group___x_u_t_i_l_s_1ga59d2c2b8d1c32098920f5d3eba0a5971">Get</link>(),&#32;<emphasis role="keyword">sizeof</emphasis>(<link linkend="_struct_d_i_o_p_i_n_g___e_c_h_o_r_e_p_l_y">DIOPING_ECHOREPLY</link>));
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00633"/>00633 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00634"/>00634 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>(echoreply.<link linkend="_struct_d_i_o_p_i_n_g___e_c_h_o_r_e_p_l_y_1a7c0366b44e7c56d812b14cf55df81916">echorequest</link>.<link linkend="_struct_d_i_o_p_i_n_g___e_c_h_o_r_e_q_u_e_s_t_1ade6c586ad84d1c25419633c31e696d5f">icmphdr</link>.<link linkend="_struct_d_i_o_p_i_n_g___i_c_m_p_h_d_r_1a76c5ad4e8ebcf4da4eddc23ce92d33cd">type</link>&#32;==&#32;<link linkend="__d_i_o_ping_8h_1a459246088a8e8372b988cf4fc2e8b023">DIOPING_ICMP_ECHOREPLY</link>)
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00635"/>00635 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00636"/>00636 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;crc32.<link linkend="_group___c_i_p_h_e_r_1gab01cc6a04a2c4ee67dcca98c7b233913">ResetResult</link>();
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00637"/>00637 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;crc32.<link linkend="_group___c_i_p_h_e_r_1ga170fa5c716219e92d4724553d6e8e0ce">Do</link>((<link linkend="__x_base_8h_1a7ba3d378cab4450418bec78e604d47da">XBYTE</link>*)echoreply.<link linkend="_struct_d_i_o_p_i_n_g___e_c_h_o_r_e_p_l_y_1a7c0366b44e7c56d812b14cf55df81916">echorequest</link>.<link linkend="_struct_d_i_o_p_i_n_g___e_c_h_o_r_e_q_u_e_s_t_1a0f429a37f421f1508c27f6f521a9ef5b">cdata</link>,&#32;<link linkend="__d_i_o_ping_8h_1af4945925c0becb45fab8235dcb4f81b8">DIOPING_REQ_TICKETSIZE</link>);
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00638"/>00638 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00639"/>00639 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>(crc32result&#32;==&#32;crc32.<link linkend="_group___c_i_p_h_e_r_1gab33e363f6374a0e559e99f2f80e5abf6">GetResultCRC32</link>())
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00640"/>00640 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00641"/>00641 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="__x_base_8h_1a3f1fe1487089bc987e3d549a9064e653">XWORD</link>&#32;checksum&#32;=&#32;<link linkend="_group___d_a_t_a_i_o_1ga97ffe8656f207daa9e6e174ee835bd96">CalculeCheckSum</link>((<link linkend="__x_base_8h_1a3f1fe1487089bc987e3d549a9064e653">XWORD</link>&#32;*)&amp;echoreply.<link linkend="_struct_d_i_o_p_i_n_g___e_c_h_o_r_e_p_l_y_1a7c0366b44e7c56d812b14cf55df81916">echorequest</link>,&#32;<emphasis role="keyword">sizeof</emphasis>(<link linkend="_struct_d_i_o_p_i_n_g___e_c_h_o_r_e_q_u_e_s_t">DIOPING_ECHOREQUEST</link>));
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00642"/>00642 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>(!checksum)
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00643"/>00643 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00644"/>00644 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_class_d_i_o_i_p">DIOIP</link>&#32;&#32;&#32;&#32;ip;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00645"/>00645 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_class_x_s_t_r_i_n_g">XSTRING</link>&#32;&#32;fromIP;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00646"/>00646 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00647"/>00647 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;&#32;Calculate&#32;elapsed&#32;time</emphasis>
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00648"/>00648 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00649"/>00649 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;ip.<link linkend="_group___d_a_t_a_i_o_1ga1955ea08de61edcd19d7806e64ed9aaa">Set</link>(echoreply.<link linkend="_struct_d_i_o_p_i_n_g___e_c_h_o_r_e_p_l_y_1ab620e1d38257ac0de4febfa17e2f4065">iphdr</link>.<link linkend="_struct_d_i_o_p_i_n_g___i_p_h_d_r_1a738312cbce77c3775aafa8dc5a4f81d1">iasource</link>.<link linkend="_struct_d_i_o_p_i_n_g___i_n_a_d_d_r_1a710321eb3403a094828ae1925bb19468">INADDR_UNION</link>.<link linkend="_struct_d_i_o_p_i_n_g___i_n_a_d_d_r_1a95a65f90ba2664abeced8cd3573b5e2c">addrbyte</link>.<link linkend="_struct_d_i_o_p_i_n_g___a_d_d_r___b_y_t_e_1aaa48afca72c87d24e4595c98c4c5240d">s_b1</link>,
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00650"/>00650 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;echoreply.<link linkend="_struct_d_i_o_p_i_n_g___e_c_h_o_r_e_p_l_y_1ab620e1d38257ac0de4febfa17e2f4065">iphdr</link>.<link linkend="_struct_d_i_o_p_i_n_g___i_p_h_d_r_1a738312cbce77c3775aafa8dc5a4f81d1">iasource</link>.<link linkend="_struct_d_i_o_p_i_n_g___i_n_a_d_d_r_1a710321eb3403a094828ae1925bb19468">INADDR_UNION</link>.<link linkend="_struct_d_i_o_p_i_n_g___i_n_a_d_d_r_1a95a65f90ba2664abeced8cd3573b5e2c">addrbyte</link>.<link linkend="_struct_d_i_o_p_i_n_g___a_d_d_r___b_y_t_e_1a56a06b1d125b2fa32db9e0c6f744f7d8">s_b2</link>,
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00651"/>00651 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;echoreply.<link linkend="_struct_d_i_o_p_i_n_g___e_c_h_o_r_e_p_l_y_1ab620e1d38257ac0de4febfa17e2f4065">iphdr</link>.<link linkend="_struct_d_i_o_p_i_n_g___i_p_h_d_r_1a738312cbce77c3775aafa8dc5a4f81d1">iasource</link>.<link linkend="_struct_d_i_o_p_i_n_g___i_n_a_d_d_r_1a710321eb3403a094828ae1925bb19468">INADDR_UNION</link>.<link linkend="_struct_d_i_o_p_i_n_g___i_n_a_d_d_r_1a95a65f90ba2664abeced8cd3573b5e2c">addrbyte</link>.<link linkend="_struct_d_i_o_p_i_n_g___a_d_d_r___b_y_t_e_1ad081a801a2208446035d917cc7e04ba3">s_b3</link>,
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00652"/>00652 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;echoreply.<link linkend="_struct_d_i_o_p_i_n_g___e_c_h_o_r_e_p_l_y_1ab620e1d38257ac0de4febfa17e2f4065">iphdr</link>.<link linkend="_struct_d_i_o_p_i_n_g___i_p_h_d_r_1a738312cbce77c3775aafa8dc5a4f81d1">iasource</link>.<link linkend="_struct_d_i_o_p_i_n_g___i_n_a_d_d_r_1a710321eb3403a094828ae1925bb19468">INADDR_UNION</link>.<link linkend="_struct_d_i_o_p_i_n_g___i_n_a_d_d_r_1a95a65f90ba2664abeced8cd3573b5e2c">addrbyte</link>.<link linkend="_struct_d_i_o_p_i_n_g___a_d_d_r___b_y_t_e_1a5d794426bccc6d797192f580a06c98fa">s_b4</link>);
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00653"/>00653 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00654"/>00654 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;ip.<link linkend="_group___d_a_t_a_i_o_1ga6a266ef4ef9e43473e91acc37a816725">GetXString</link>(fromIP);
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00655"/>00655 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00656"/>00656 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>(!fromIP.<link linkend="_group___x_u_t_i_l_s_1gaa41b9d6abe3eca02494d6eb043ed50c2">Compare</link>(targetIP))
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00657"/>00657 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00658"/>00658 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>(echoreply.<link linkend="_struct_d_i_o_p_i_n_g___e_c_h_o_r_e_p_l_y_1a7c0366b44e7c56d812b14cf55df81916">echorequest</link>.<link linkend="_struct_d_i_o_p_i_n_g___e_c_h_o_r_e_q_u_e_s_t_1aac6fa9905269ccd1dfe1f788f09a6474">applicationID</link>&#32;==&#32;<link linkend="_class_d_i_o_p_i_n_g_1a60f169aaddf8119cf8f3f217fdbcbbdf">applicationID</link>)
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00659"/>00659 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00660"/>00660 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="__x_base_8h_1a0e5b572e67f127f1afb599e257c539cf">XDWORD</link>&#32;&#32;&#32;elapsed;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00661"/>00661 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00662"/>00662 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;elapsed&#32;=&#32;((<link linkend="__x_base_8h_1a0e5b572e67f127f1afb599e257c539cf">XDWORD</link>)<link linkend="_class_d_i_o_p_i_n_g_1ad7348cf5f34bcb13e51b211f8479b54f">xtimer</link>-&gt;<link linkend="_group___x_u_t_i_l_s_1gaf717958e388241b795608d32b7a1d836">GetMicroSecondsTickCounter</link>()&#32;-&#32;echoreply.<link linkend="_struct_d_i_o_p_i_n_g___e_c_h_o_r_e_p_l_y_1a7c0366b44e7c56d812b14cf55df81916">echorequest</link>.<link linkend="_struct_d_i_o_p_i_n_g___e_c_h_o_r_e_q_u_e_s_t_1a8bf3f167a923b6f3ec77842590ff270a">time</link>);
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00663"/>00663 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00664"/>00664 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_group___d_a_t_a_i_o_1gaafbc2930f30e0a73d2e08f6181135a4a">AddReply</link>(nloop+1,&#32;fromIP.<link linkend="_group___x_u_t_i_l_s_1gad1470753a96f93e2feb3ee54e6fef95f">Get</link>(),&#32;<link linkend="__d_i_o_ping_8h_1af4945925c0becb45fab8235dcb4f81b8">DIOPING_REQ_TICKETSIZE</link>,&#32;(elapsed/1000),&#32;echoreply.<link linkend="_struct_d_i_o_p_i_n_g___e_c_h_o_r_e_p_l_y_1ab620e1d38257ac0de4febfa17e2f4065">iphdr</link>.<link linkend="_struct_d_i_o_p_i_n_g___i_p_h_d_r_1a5c0629b81bb2965950726ef2c7b12161">TTL</link>);
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00665"/>00665 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00666"/>00666 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_class_d_i_o_p_i_n_g___x_e_v_e_n_t">DIOPING_XEVENT</link>&#32;xevent(<emphasis role="keyword">this</emphasis>,&#32;<link linkend="__d_i_o_ping___x_event_8h_1af257017f982acb3d112970c96cad1155a5dc351afb5794b3d65438ec7b5fd73e5">DIOPING_XEVENT_TYPE_DOPING</link>);
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00667"/>00667 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;xevent.<link linkend="_group___d_a_t_a_i_o_1ga46405120a253428299bb5fe07acee435">SetPingReply</link>((<link linkend="_class_d_i_o_p_i_n_g_r_e_p_l_y">DIOPINGREPLY</link>*)<link linkend="_class_d_i_o_p_i_n_g_1a580e9e8b83582e723cf860b062470203">replys</link>.<link linkend="_class_x_v_e_c_t_o_r_1a2af4855d7fe0bc28201f6967110d064e">Get</link>(<link linkend="_class_d_i_o_p_i_n_g_1a580e9e8b83582e723cf860b062470203">replys</link>.<link linkend="_class_x_v_e_c_t_o_r_1ab9cec1d9ae7a1f5699f9dde55ccde2bf">GetSize</link>()-1));
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00668"/>00668 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_group___x_u_t_i_l_s_1gadb65926d5f56410c9243d2f7c69a87a3">PostEvent</link>(&amp;xevent);
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00669"/>00669 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00670"/>00670 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//XTRACE_PRINTCOLOR(XTRACE_COLOR_BLUE,&#32;__L(&quot;[Ping]&#32;received!&#32;%s&#32;%s&#32;(elapsed&#32;time&#32;%d)&quot;),&#32;fromIP.Get(),&#32;targetIP.Get(),&#32;elapsed);</emphasis>
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00671"/>00671 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00672"/>00672 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>(exitfirstgoodreply)
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00673"/>00673 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00674"/>00674 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;nloop&#32;=&#32;0;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00675"/>00675 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">break</emphasis>;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00676"/>00676 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00677"/>00677 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00678"/>00678 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;GEN_XSLEEP.MilliSeconds(<link linkend="_class_d_i_o_p_i_n_g_1a9122a99069ee3a57e22c0367fc8439f6">timebetweenchecks</link>);
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00679"/>00679 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00680"/>00680 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;nloop--;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00681"/>00681 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">break</emphasis>;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00682"/>00682 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00683"/>00683 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">else</emphasis>
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00684"/>00684 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00685"/>00685 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//XTRACE_PRINTCOLOR(XTRACE_COLOR_RED,&#32;__L(&quot;[Ping]&#32;application&#32;ID&#32;not&#32;equal!&#32;%s&#32;%s&quot;),&#32;fromIP.Get(),&#32;targetIP.Get());</emphasis>
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00686"/>00686 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00687"/>00687 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00688"/>00688 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">else</emphasis>
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00689"/>00689 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00690"/>00690 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//XTRACE_PRINTCOLOR(XTRACE_COLOR_RED,&#32;__L(&quot;[Ping]&#32;not&#32;IP&#32;equal!&#32;%s&#32;%s&quot;),&#32;fromIP.Get(),&#32;targetIP.Get());</emphasis>
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00691"/>00691 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00692"/>00692 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00693"/>00693 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00694"/>00694 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">else</emphasis>
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00695"/>00695 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00696"/>00696 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//XTRACE_PRINTCOLOR(XTRACE_COLOR_RED,&#32;__L(&quot;[Ping]&#32;error&#32;Checksum!&#32;%s&#32;&quot;),&#32;targetIP.Get());</emphasis>
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00697"/>00697 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00698"/>00698 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00699"/>00699 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">else</emphasis>
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00700"/>00700 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00701"/>00701 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//XTRACE_PRINTCOLOR(XTRACE_COLOR_RED,&#32;__L(&quot;[Ping]&#32;error&#32;CRC!&#32;%s&#32;&quot;),&#32;targetIP.Get());</emphasis>
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00702"/>00702 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00703"/>00703 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00704"/>00704 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">else</emphasis>
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00705"/>00705 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00706"/>00706 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//XTRACE_PRINTCOLOR(XTRACE_COLOR_RED,&#32;__L(&quot;[Ping]&#32;Is&#32;not&#32;reply&#32;packet!&#32;%s&#32;&quot;),&#32;targetIP.Get());</emphasis>
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00707"/>00707 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00708"/>00708 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00709"/>00709 &#32;&#32;&#32;}
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00710"/>00710 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00711"/>00711 &#32;&#32;diostreamICMP-&gt;<link linkend="_class_d_i_o_s_t_r_e_a_m_i_c_m_p_1a1ab09be0aa3dbbeb0adb662130c5bb3b">Close</link>();
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00712"/>00712 &#32;&#32;GEN_DIOFACTORY.DeleteStreamIO(diostreamICMP);
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00713"/>00713 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00714"/>00714 &#32;&#32;<emphasis role="keywordtype">bool</emphasis>&#32;status&#32;=&#32;<link linkend="_group___d_a_t_a_i_o_1ga91c32e5ae67c80c62d1eb79b5be312ac">WasConnected</link>();
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00715"/>00715 &#32;&#32;<emphasis role="keywordflow">if</emphasis>(!status)
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00716"/>00716 &#32;&#32;&#32;&#32;{
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00717"/>00717 &#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//XTRACE_PRINTCOLOR((status?XTRACE_COLOR_BLUE:XTRACE_COLOR_RED),&#32;__L(&quot;[Ping]&#32;to&#32;[%s]:&#32;%s&quot;),&#32;targetIP.Get(),&#32;(status?__L(&quot;Ok.&quot;):&#32;__L(&quot;ERROR!&quot;)));</emphasis>
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00718"/>00718 &#32;&#32;&#32;&#32;}
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00719"/>00719 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00720"/>00720 &#32;&#32;<emphasis role="keywordflow">if</emphasis>(<link linkend="_class_d_i_o_p_i_n_g_1aaa0cdf7c8bc04f82edfd189d3779a7e9">xmutexping</link>)
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00721"/>00721 &#32;&#32;&#32;&#32;{
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00722"/>00722 &#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_class_d_i_o_p_i_n_g_1aaa0cdf7c8bc04f82edfd189d3779a7e9">xmutexping</link>-&gt;<link linkend="_group___x_u_t_i_l_s_1gafed160c15de8de926a73f4ce978f0bc0">UnLock</link>();
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00723"/>00723 &#32;&#32;&#32;&#32;}
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00724"/>00724 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00725"/>00725 &#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;status;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00726"/>00726 }
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00727"/>00727 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00728"/>00728 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00738"/><link linkend="_group___d_a_t_a_i_o_1ga91c32e5ae67c80c62d1eb79b5be312ac">00738</link> <emphasis role="keywordtype">bool</emphasis>&#32;<link linkend="_group___d_a_t_a_i_o_1ga91c32e5ae67c80c62d1eb79b5be312ac">DIOPING::WasConnected</link>()
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00739"/>00739 {
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00740"/>00740 &#32;&#32;<emphasis role="keywordflow">if</emphasis>(!<link linkend="_class_d_i_o_p_i_n_g_1a12b0479761b5d9f37a0890dd9fc28bcb">xmutexreplys</link>)&#32;<emphasis role="keywordflow">return</emphasis>&#32;<emphasis role="keyword">false</emphasis>;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00741"/>00741 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00742"/>00742 &#32;&#32;<emphasis role="keywordtype">bool</emphasis>&#32;status&#32;=&#32;<emphasis role="keyword">false</emphasis>;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00743"/>00743 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00744"/>00744 &#32;&#32;<link linkend="_class_d_i_o_p_i_n_g_1a12b0479761b5d9f37a0890dd9fc28bcb">xmutexreplys</link>-&gt;<link linkend="_group___x_u_t_i_l_s_1gae6d5410f1787702c59c2eae9e8b85b74">Lock</link>();
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00745"/>00745 &#32;&#32;<emphasis role="keywordflow">if</emphasis>(!<link linkend="_class_d_i_o_p_i_n_g_1a580e9e8b83582e723cf860b062470203">replys</link>.<link linkend="_class_x_v_e_c_t_o_r_1acfb28e72022a067c3a4635f0c14734fb">IsEmpty</link>())&#32;status&#32;=&#32;<emphasis role="keyword">true</emphasis>;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00746"/>00746 &#32;&#32;<link linkend="_class_d_i_o_p_i_n_g_1a12b0479761b5d9f37a0890dd9fc28bcb">xmutexreplys</link>-&gt;<link linkend="_group___x_u_t_i_l_s_1gafed160c15de8de926a73f4ce978f0bc0">UnLock</link>();
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00747"/>00747 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00748"/>00748 &#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;status;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00749"/>00749 }
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00750"/>00750 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00751"/>00751 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00761"/><link linkend="_group___d_a_t_a_i_o_1ga4b8171fb6898f40f0408116fa3f3261c">00761</link> <link linkend="_class_x_v_e_c_t_o_r">XVECTOR&lt;DIOPINGREPLY*&gt;</link>*&#32;<link linkend="_group___d_a_t_a_i_o_1ga4b8171fb6898f40f0408116fa3f3261c">DIOPING::GetReplys</link>()
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00762"/>00762 {
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00763"/>00763 &#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;&amp;<link linkend="_class_d_i_o_p_i_n_g_1a580e9e8b83582e723cf860b062470203">replys</link>;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00764"/>00764 }
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00765"/>00765 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00766"/>00766 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00776"/><link linkend="_group___d_a_t_a_i_o_1ga9a4d00e086c20af6a13693cb6b2df8a7">00776</link> <link linkend="__x_base_8h_1a0e5b572e67f127f1afb599e257c539cf">XDWORD</link>&#32;<link linkend="_group___d_a_t_a_i_o_1ga9a4d00e086c20af6a13693cb6b2df8a7">DIOPING::CalculateMeanTime</link>()
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00777"/>00777 {
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00778"/>00778 &#32;&#32;<emphasis role="keywordflow">if</emphasis>(!<link linkend="_class_d_i_o_p_i_n_g_1a12b0479761b5d9f37a0890dd9fc28bcb">xmutexreplys</link>)&#32;<emphasis role="keywordflow">return</emphasis>&#32;0;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00779"/>00779 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00780"/>00780 &#32;&#32;<link linkend="__x_base_8h_1a0e5b572e67f127f1afb599e257c539cf">XDWORD</link>&#32;meantime&#32;=&#32;0;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00781"/>00781 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00782"/>00782 &#32;&#32;<link linkend="_class_d_i_o_p_i_n_g_1a12b0479761b5d9f37a0890dd9fc28bcb">xmutexreplys</link>-&gt;<link linkend="_group___x_u_t_i_l_s_1gae6d5410f1787702c59c2eae9e8b85b74">Lock</link>();
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00783"/>00783 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00784"/>00784 &#32;&#32;<emphasis role="keywordflow">if</emphasis>(!<link linkend="_class_d_i_o_p_i_n_g_1a580e9e8b83582e723cf860b062470203">replys</link>.<link linkend="_class_x_v_e_c_t_o_r_1acfb28e72022a067c3a4635f0c14734fb">IsEmpty</link>())
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00785"/>00785 &#32;&#32;&#32;&#32;{
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00786"/>00786 &#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">for</emphasis>(<link linkend="__x_base_8h_1a0e5b572e67f127f1afb599e257c539cf">XDWORD</link>&#32;c=0;c&lt;<link linkend="_class_d_i_o_p_i_n_g_1a580e9e8b83582e723cf860b062470203">replys</link>.<link linkend="_class_x_v_e_c_t_o_r_1ab9cec1d9ae7a1f5699f9dde55ccde2bf">GetSize</link>();c++)
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00787"/>00787 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00788"/>00788 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_class_d_i_o_p_i_n_g_r_e_p_l_y">DIOPINGREPLY</link>*&#32;pinganswer&#32;=&#32;(<link linkend="_class_d_i_o_p_i_n_g_r_e_p_l_y">DIOPINGREPLY</link>*)<link linkend="_class_d_i_o_p_i_n_g_1a580e9e8b83582e723cf860b062470203">replys</link>.<link linkend="_class_x_v_e_c_t_o_r_1a2af4855d7fe0bc28201f6967110d064e">Get</link>(c);
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00789"/>00789 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>(pinganswer)
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00790"/>00790 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00791"/>00791 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;meantime&#32;+=&#32;pinganswer-&gt;<link linkend="_group___d_a_t_a_i_o_1ga6620f5f01afec5b11f79f36252609e3a">GetTimeElapsed</link>();
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00792"/>00792 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00793"/>00793 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00794"/>00794 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00795"/>00795 &#32;&#32;&#32;&#32;&#32;&#32;meantime&#32;/=&#32;<link linkend="_class_d_i_o_p_i_n_g_1a580e9e8b83582e723cf860b062470203">replys</link>.<link linkend="_class_x_v_e_c_t_o_r_1ab9cec1d9ae7a1f5699f9dde55ccde2bf">GetSize</link>();
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00796"/>00796 &#32;&#32;&#32;&#32;}
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00797"/>00797 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00798"/>00798 &#32;&#32;<link linkend="_class_d_i_o_p_i_n_g_1a12b0479761b5d9f37a0890dd9fc28bcb">xmutexreplys</link>-&gt;<link linkend="_group___x_u_t_i_l_s_1gafed160c15de8de926a73f4ce978f0bc0">UnLock</link>();
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00799"/>00799 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00800"/>00800 &#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;meantime;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00801"/>00801 }
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00802"/>00802 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00803"/>00803 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00813"/><link linkend="_group___d_a_t_a_i_o_1gab0766ead8ed90a8e99e7ecef20ad4deb">00813</link> <emphasis role="keywordtype">bool</emphasis>&#32;<link linkend="_group___d_a_t_a_i_o_1gab0766ead8ed90a8e99e7ecef20ad4deb">DIOPING::DeleteAllReplys</link>()
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00814"/>00814 {
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00815"/>00815 &#32;&#32;<emphasis role="keywordflow">if</emphasis>(!<link linkend="_class_d_i_o_p_i_n_g_1a12b0479761b5d9f37a0890dd9fc28bcb">xmutexreplys</link>)&#32;<emphasis role="keywordflow">return</emphasis>&#32;<emphasis role="keyword">false</emphasis>;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00816"/>00816 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00817"/>00817 &#32;&#32;<emphasis role="keywordtype">bool</emphasis>&#32;status&#32;=&#32;<emphasis role="keyword">false</emphasis>;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00818"/>00818 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00819"/>00819 &#32;&#32;<link linkend="_class_d_i_o_p_i_n_g_1a12b0479761b5d9f37a0890dd9fc28bcb">xmutexreplys</link>-&gt;<link linkend="_group___x_u_t_i_l_s_1gae6d5410f1787702c59c2eae9e8b85b74">Lock</link>();
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00820"/>00820 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00821"/>00821 &#32;&#32;<emphasis role="keywordflow">if</emphasis>(!<link linkend="_class_d_i_o_p_i_n_g_1a580e9e8b83582e723cf860b062470203">replys</link>.<link linkend="_class_x_v_e_c_t_o_r_1acfb28e72022a067c3a4635f0c14734fb">IsEmpty</link>())
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00822"/>00822 &#32;&#32;&#32;&#32;{
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00823"/>00823 &#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_class_d_i_o_p_i_n_g_1a580e9e8b83582e723cf860b062470203">replys</link>.<link linkend="_class_x_v_e_c_t_o_r_1abae5097402824f18f274e21e18b23bea">DeleteContents</link>();
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00824"/>00824 &#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_class_d_i_o_p_i_n_g_1a580e9e8b83582e723cf860b062470203">replys</link>.<link linkend="_class_x_v_e_c_t_o_r_1a57c72ab04fd14c60d1026e0a7b4a1887">DeleteAll</link>();
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00825"/>00825 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00826"/>00826 &#32;&#32;&#32;&#32;&#32;&#32;status&#32;=&#32;<emphasis role="keyword">true</emphasis>;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00827"/>00827 &#32;&#32;&#32;&#32;}
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00828"/>00828 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00829"/>00829 &#32;&#32;<link linkend="_class_d_i_o_p_i_n_g_1a12b0479761b5d9f37a0890dd9fc28bcb">xmutexreplys</link>-&gt;<link linkend="_group___x_u_t_i_l_s_1gafed160c15de8de926a73f4ce978f0bc0">UnLock</link>();
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00830"/>00830 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00831"/>00831 &#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;status;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00832"/>00832 }
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00833"/>00833 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00834"/>00834 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00850"/><link linkend="_group___d_a_t_a_i_o_1gaafbc2930f30e0a73d2e08f6181135a4a">00850</link> <emphasis role="keywordtype">bool</emphasis>&#32;<link linkend="_group___d_a_t_a_i_o_1gaafbc2930f30e0a73d2e08f6181135a4a">DIOPING::AddReply</link>(<link linkend="__x_base_8h_1a3f1fe1487089bc987e3d549a9064e653">XWORD</link>&#32;sequence,&#32;<link linkend="__x_string_8h_1a03209152a681f02e4ba73b6681dd4968">XCHAR</link>*&#32;fromIP,&#32;<link linkend="__x_base_8h_1a0e5b572e67f127f1afb599e257c539cf">XDWORD</link>&#32;sizerequest,&#32;<link linkend="__x_base_8h_1a0e5b572e67f127f1afb599e257c539cf">XDWORD</link>&#32;timeelapsed,&#32;<link linkend="__x_base_8h_1a7ba3d378cab4450418bec78e604d47da">XBYTE</link>&#32;TTL)
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00851"/>00851 {
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00852"/>00852 &#32;&#32;<emphasis role="keywordflow">if</emphasis>(!<link linkend="_class_d_i_o_p_i_n_g_1a12b0479761b5d9f37a0890dd9fc28bcb">xmutexreplys</link>)&#32;<emphasis role="keywordflow">return</emphasis>&#32;<emphasis role="keyword">false</emphasis>;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00853"/>00853 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00854"/>00854 &#32;&#32;<emphasis role="keywordtype">bool</emphasis>&#32;status&#32;=&#32;<emphasis role="keyword">false</emphasis>;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00855"/>00855 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00856"/>00856 &#32;&#32;<link linkend="_class_d_i_o_p_i_n_g_1a12b0479761b5d9f37a0890dd9fc28bcb">xmutexreplys</link>-&gt;<link linkend="_group___x_u_t_i_l_s_1gae6d5410f1787702c59c2eae9e8b85b74">Lock</link>();
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00857"/>00857 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00858"/>00858 &#32;&#32;<link linkend="_class_d_i_o_p_i_n_g_r_e_p_l_y">DIOPINGREPLY</link>*&#32;pinganswer&#32;=&#32;<emphasis role="keyword">new</emphasis>&#32;<link linkend="_class_d_i_o_p_i_n_g_r_e_p_l_y">DIOPINGREPLY</link>();
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00859"/>00859 &#32;&#32;<emphasis role="keywordflow">if</emphasis>(pinganswer)
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00860"/>00860 &#32;&#32;&#32;&#32;{
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00861"/>00861 &#32;&#32;&#32;&#32;&#32;&#32;pinganswer-&gt;<link linkend="_group___d_a_t_a_i_o_1gad15ef5ac477f5238e62ad8b6cf1b6986">SetSequence</link>(sequence);
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00862"/>00862 &#32;&#32;&#32;&#32;&#32;&#32;pinganswer-&gt;<link linkend="_group___d_a_t_a_i_o_1ga7a8f2de1e2dc081a6d647063e68163d0">GetFromIP</link>()-&gt;<link linkend="_group___x_u_t_i_l_s_1ga4e97e075650e9bc8cfb7deb28e4c9ce4">Set</link>(fromIP);
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00863"/>00863 &#32;&#32;&#32;&#32;&#32;&#32;pinganswer-&gt;<link linkend="_group___d_a_t_a_i_o_1gae64e6edc7bf76eb880c1d9fa6babb41a">SetSizeRequest</link>(sizerequest);
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00864"/>00864 &#32;&#32;&#32;&#32;&#32;&#32;pinganswer-&gt;<link linkend="_group___d_a_t_a_i_o_1ga8008eb7761c3231c19ad0c4ff96ecbf6">SetTimeElapsed</link>(timeelapsed);
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00865"/>00865 &#32;&#32;&#32;&#32;&#32;&#32;pinganswer-&gt;<link linkend="_group___d_a_t_a_i_o_1gaf8102ba313a8d529fc71673802cd2eb1">SetTTL</link>(TTL);
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00866"/>00866 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00867"/>00867 &#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_class_d_i_o_p_i_n_g_1a580e9e8b83582e723cf860b062470203">replys</link>.<link linkend="_class_x_v_e_c_t_o_r_1a51a790aac8efd4603aee608ddcc83423">Add</link>(pinganswer);
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00868"/>00868 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00869"/>00869 &#32;&#32;&#32;&#32;&#32;&#32;status&#32;=&#32;<emphasis role="keyword">true</emphasis>;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00870"/>00870 &#32;&#32;&#32;&#32;}
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00871"/>00871 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00872"/>00872 &#32;&#32;<link linkend="_class_d_i_o_p_i_n_g_1a12b0479761b5d9f37a0890dd9fc28bcb">xmutexreplys</link>-&gt;<link linkend="_group___x_u_t_i_l_s_1gafed160c15de8de926a73f4ce978f0bc0">UnLock</link>();
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00873"/>00873 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00874"/>00874 &#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;status;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00875"/>00875 }
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00876"/>00876 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00877"/>00877 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00890"/><link linkend="_group___d_a_t_a_i_o_1ga97ffe8656f207daa9e6e174ee835bd96">00890</link> <link linkend="__x_base_8h_1a3f1fe1487089bc987e3d549a9064e653">XWORD</link>&#32;<link linkend="_group___d_a_t_a_i_o_1ga97ffe8656f207daa9e6e174ee835bd96">DIOPING::CalculeCheckSum</link>(<link linkend="__x_base_8h_1a3f1fe1487089bc987e3d549a9064e653">XWORD</link>*&#32;addr,&#32;<emphasis role="keywordtype">int</emphasis>&#32;len)
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00891"/>00891 {
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00892"/>00892 &#32;&#32;<emphasis role="keywordtype">int</emphasis>&#32;&#32;&#32;&#32;&#32;nleft&#32;&#32;&#32;=&#32;len;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00893"/>00893 &#32;&#32;<link linkend="__x_base_8h_1a3f1fe1487089bc987e3d549a9064e653">XWORD</link>*&#32;&#32;w&#32;&#32;&#32;&#32;&#32;&#32;&#32;=&#32;addr;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00894"/>00894 &#32;&#32;<link linkend="__x_base_8h_1a3f1fe1487089bc987e3d549a9064e653">XWORD</link>&#32;&#32;&#32;answer;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00895"/>00895 &#32;&#32;<emphasis role="keywordtype">int</emphasis>&#32;&#32;&#32;&#32;&#32;sum&#32;&#32;&#32;&#32;&#32;=&#32;0;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00896"/>00896 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00897"/>00897 &#32;&#32;<emphasis role="comment">//&#32;Our&#32;algorithm&#32;is&#32;simple,&#32;using&#32;a&#32;32&#32;bit&#32;accumulator&#32;(sum),</emphasis>
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00898"/>00898 &#32;&#32;<emphasis role="comment">//&#32;we&#32;add&#32;sequential&#32;16&#32;bit&#32;words&#32;to&#32;it,&#32;and&#32;at&#32;the&#32;end,&#32;fold</emphasis>
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00899"/>00899 &#32;&#32;<emphasis role="comment">//&#32;back&#32;all&#32;the&#32;carry&#32;bits&#32;from&#32;the&#32;top&#32;16&#32;bits&#32;into&#32;the&#32;lower</emphasis>
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00900"/>00900 &#32;&#32;<emphasis role="comment">//&#32;16&#32;bits.</emphasis>
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00901"/>00901 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00902"/>00902 &#32;&#32;<emphasis role="keywordflow">while</emphasis>(nleft&gt;1)
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00903"/>00903 &#32;&#32;&#32;&#32;{
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00904"/>00904 &#32;&#32;&#32;&#32;&#32;&#32;sum&#32;&#32;&#32;+=&#32;*w++;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00905"/>00905 &#32;&#32;&#32;&#32;&#32;&#32;nleft&#32;-=&#32;2;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00906"/>00906 &#32;&#32;&#32;&#32;}
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00907"/>00907 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00908"/>00908 &#32;&#32;<emphasis role="comment">//&#32;mop&#32;up&#32;an&#32;odd&#32;byte,&#32;if&#32;necessary</emphasis>
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00909"/>00909 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00910"/>00910 &#32;&#32;<emphasis role="keywordflow">if</emphasis>(&#32;nleft&#32;==&#32;1&#32;)
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00911"/>00911 &#32;&#32;&#32;&#32;{
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00912"/>00912 &#32;&#32;&#32;&#32;&#32;&#32;<link linkend="__x_base_8h_1a3f1fe1487089bc987e3d549a9064e653">XWORD</link>&#32;u&#32;=&#32;0;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00913"/>00913 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00914"/>00914 &#32;&#32;&#32;&#32;&#32;&#32;*(<link linkend="__x_base_8h_1a7ba3d378cab4450418bec78e604d47da">XBYTE</link>*)(&amp;u)&#32;=&#32;*(<link linkend="__x_base_8h_1a7ba3d378cab4450418bec78e604d47da">XBYTE</link>*)w&#32;;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00915"/>00915 &#32;&#32;&#32;&#32;&#32;&#32;sum&#32;+=&#32;u;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00916"/>00916 &#32;&#32;&#32;&#32;}
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00917"/>00917 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00918"/>00918 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00919"/>00919 &#32;&#32;<emphasis role="comment">//&#32;add&#32;back&#32;carry&#32;outs&#32;from&#32;top&#32;16&#32;bits&#32;to&#32;low&#32;16&#32;bits</emphasis>
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00920"/>00920 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00921"/>00921 &#32;&#32;sum&#32;&#32;&#32;&#32;&#32;=&#32;(sum&#32;&gt;&gt;&#32;16)&#32;+&#32;(sum&#32;&amp;&#32;0xffff);&#32;&#32;&#32;<emphasis role="comment">//&#32;add&#32;hi&#32;16&#32;to&#32;low&#32;16</emphasis>
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00922"/>00922 &#32;&#32;sum&#32;&#32;&#32;&#32;+=&#32;(sum&#32;&gt;&gt;&#32;16);&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;add&#32;carry</emphasis>
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00923"/>00923 &#32;&#32;answer&#32;&#32;=&#32;~sum;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;truncate&#32;to&#32;16&#32;bits</emphasis>
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00924"/>00924 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00925"/>00925 &#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;answer;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00926"/>00926 }
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00927"/>00927 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00928"/>00928 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00937"/>00937 <emphasis role="keywordtype">void</emphasis>&#32;DIOPING::Clean()
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00938"/>00938 {
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00939"/>00939 &#32;&#32;<link linkend="_class_d_i_o_p_i_n_g_1ad7348cf5f34bcb13e51b211f8479b54f">xtimer</link>&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;=&#32;<link linkend="__x_base_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</link>;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00940"/>00940 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00941"/>00941 &#32;&#32;<link linkend="_class_d_i_o_p_i_n_g_1ac331c897792d0e552de837a98b0c79c2">urltarget</link>&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;=&#32;<link linkend="__x_base_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</link>;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00942"/>00942 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00943"/>00943 &#32;&#32;<link linkend="_class_d_i_o_p_i_n_g_1aaa0cdf7c8bc04f82edfd189d3779a7e9">xmutexping</link>&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;=&#32;<link linkend="__x_base_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</link>;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00944"/>00944 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00945"/>00945 &#32;&#32;<link linkend="_class_d_i_o_p_i_n_g_1a60f169aaddf8119cf8f3f217fdbcbbdf">applicationID</link>&#32;&#32;&#32;&#32;&#32;&#32;&#32;=&#32;0;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00946"/>00946 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00947"/>00947 &#32;&#32;<link linkend="_class_d_i_o_p_i_n_g_1a34888d98be158ab9e19a7fe9c85444f0">IPLocal</link>.<link linkend="_group___x_u_t_i_l_s_1ga9275997c1605fa79646c301e63a77d06">Empty</link>();
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00948"/>00948 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00949"/>00949 &#32;&#32;<link linkend="_class_d_i_o_p_i_n_g_1a12b0479761b5d9f37a0890dd9fc28bcb">xmutexreplys</link>&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;=&#32;<link linkend="__x_base_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</link>;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00950"/>00950 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00951"/>00951 &#32;&#32;<link linkend="_class_d_i_o_p_i_n_g_1a5632688c224c7d908908a291890fd69e">nretries</link>&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;=&#32;0;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00952"/>00952 &#32;&#32;<link linkend="_class_d_i_o_p_i_n_g_1a9122a99069ee3a57e22c0367fc8439f6">timebetweenchecks</link>&#32;&#32;&#32;=&#32;0;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00953"/>00953 }
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00954"/>00954 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00955"/>00955 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00956"/>00956 <emphasis role="preprocessor">#pragma&#32;endregion</emphasis>
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00957"/>00957 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00958"/>00958 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00959"/>00959 <emphasis role="preprocessor">#pragma&#32;endregion</emphasis>
</programlisting></section>
