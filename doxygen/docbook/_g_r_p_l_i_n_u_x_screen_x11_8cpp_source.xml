<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<section xmlns="http://docbook.org/ns/docbook" version="5.0" xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source" xml:lang="en-US">
<title>GRPLINUXScreenX11.cpp</title>
<indexterm><primary>D:/Projects/GENFrameWork/GEN/Platforms/Linux/GRPLINUXScreenX11.cpp</primary></indexterm>
Go to the documentation of this file.<programlisting linenumbering="unnumbered"><anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00001"/>00001 
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00029"/>00029 <emphasis role="comment">/*----&#32;PRECOMPILATION&#32;INCLUDES&#32;----------------------------------------------------------------------------------------*/</emphasis>
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00030"/>00030 <emphasis role="preprocessor">#pragma&#32;region&#32;PRECOMPILATION_INCLUDES</emphasis>
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00031"/>00031 
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00032"/>00032 <emphasis role="preprocessor">#include&#32;&quot;<link linkend="__g_e_n___defines_8h">GEN_Defines.h</link>&quot;</emphasis>
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00033"/>00033 
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00034"/>00034 <emphasis role="preprocessor">#pragma&#32;endregion</emphasis>
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00035"/>00035 
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00036"/>00036 
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00037"/>00037 <emphasis role="preprocessor">#ifdef&#32;LINUX_X11_ACTIVE</emphasis>
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00038"/>00038 
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00039"/>00039 
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00040"/>00040 <emphasis role="comment">/*----&#32;INCLUDES&#32;------------------------------------------------------------------------------------------------------*/</emphasis>
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00041"/>00041 <emphasis role="preprocessor">#pragma&#32;region&#32;INCLUDES</emphasis>
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00042"/>00042 
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00043"/>00043 <emphasis role="preprocessor">#include&#32;&quot;<link linkend="__g_r_p_l_i_n_u_x_screen_x11_8h">GRPLINUXScreenX11.h</link>&quot;</emphasis>
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00044"/>00044 
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00045"/>00045 <emphasis role="preprocessor">#include&#32;&quot;<link linkend="__x_trace_8h">XTrace.h</link>&quot;</emphasis>
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00046"/>00046 
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00047"/>00047 <emphasis role="preprocessor">#include&#32;&quot;<link linkend="__g_r_p_canvas_8h">GRPCanvas.h</link>&quot;</emphasis>
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00048"/>00048 
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00049"/>00049 <emphasis role="preprocessor">#include&#32;&quot;<link linkend="__x_memory___control_8h">XMemory_Control.h</link>&quot;</emphasis>
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00050"/>00050 
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00051"/>00051 <emphasis role="preprocessor">#pragma&#32;endregion</emphasis>
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00052"/>00052 
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00053"/>00053 
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00054"/>00054 <emphasis role="comment">/*----&#32;GENERAL&#32;VARIABLE&#32;----------------------------------------------------------------------------------------------*/</emphasis>
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00055"/>00055 <emphasis role="preprocessor">#pragma&#32;region&#32;GENERAL_VARIABLE</emphasis>
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00056"/>00056 
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00057"/>00057 <emphasis role="preprocessor">#pragma&#32;endregion</emphasis>
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00058"/>00058 
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00059"/>00059 
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00060"/>00060 <emphasis role="comment">/*----&#32;CLASS&#32;MEMBERS&#32;-------------------------------------------------------------------------------------------------*/</emphasis>
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00061"/>00061 <emphasis role="preprocessor">#pragma&#32;region&#32;CLASS_MEMBERS</emphasis>
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00062"/>00062 
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00063"/>00063 
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00073"/>00073 GRPLINUXSCREENX11::GRPLINUXSCREENX11():&#32;<link linkend="_class_g_r_p_s_c_r_e_e_n">GRPSCREEN</link>()
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00074"/>00074 {
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00075"/>00075 &#32;&#32;Clean();
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00076"/>00076 
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00077"/>00077 &#32;&#32;type&#32;=&#32;<link linkend="__g_r_p_screen_8h_1a13ec223f83fb0f13672bfa7b4f0abcb2a826707b209cf4cb191d70a9d2ca9750a">GRPSCREENTYPE_LINUX_X11</link>;
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00078"/>00078 
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00079"/>00079 &#32;&#32;display&#32;=&#32;XOpenDisplay(<link linkend="__x_base_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</link>);
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00080"/>00080 &#32;&#32;<emphasis role="keywordflow">if</emphasis>(display)
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00081"/>00081 &#32;&#32;&#32;&#32;{
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00082"/>00082 &#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordtype">int</emphasis>&#32;width&#32;&#32;=&#32;DisplayWidth&#32;&#32;(display,&#32;DefaultScreen&#32;(display));
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00083"/>00083 &#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordtype">int</emphasis>&#32;height&#32;=&#32;DisplayHeight&#32;(display,&#32;DefaultScreen&#32;(display));
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00084"/>00084 &#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordtype">int</emphasis>&#32;depth&#32;&#32;=&#32;DefaultDepth&#32;&#32;(display,&#32;DefaultScreen&#32;(display));
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00085"/>00085 
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00086"/>00086 &#32;&#32;&#32;&#32;&#32;&#32;originalwidth&#32;&#32;&#32;=&#32;width;
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00087"/>00087 &#32;&#32;&#32;&#32;&#32;&#32;originalheight&#32;&#32;=&#32;height;
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00088"/>00088 
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00089"/>00089 &#32;&#32;&#32;&#32;&#32;&#32;SetSize(width,&#32;height);
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00090"/>00090 &#32;&#32;&#32;&#32;&#32;&#32;SetMaxSize(width,&#32;height);
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00091"/>00091 
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00092"/>00092 &#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">switch</emphasis>(depth)
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00093"/>00093 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00094"/>00094 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">case</emphasis>&#32;&#32;&#32;8&#32;:&#32;SetMode(<link linkend="__g_r_p_properties_8h_1af987094c3c6c0910d472c6c95a548365a9207ca848d5052d2735cc569785cc701">GRPPROPERTYMODE_08_INDEX</link>);&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">break</emphasis>;
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00095"/>00095 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">case</emphasis>&#32;&#32;16&#32;:&#32;SetMode(<link linkend="__g_r_p_properties_8h_1af987094c3c6c0910d472c6c95a548365a79643bdbeae1e79973771780d48194f1">GRPPROPERTYMODE_16_RGB_565</link>);&#32;&#32;&#32;<emphasis role="keywordflow">break</emphasis>;
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00096"/>00096 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">case</emphasis>&#32;&#32;24&#32;:&#32;SetMode(<link linkend="__g_r_p_properties_8h_1af987094c3c6c0910d472c6c95a548365afd21f0dc81224177cb44aec0fc7fc324">GRPPROPERTYMODE_24_BGR_888</link>);&#32;&#32;&#32;<emphasis role="keywordflow">break</emphasis>;
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00097"/>00097 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">case</emphasis>&#32;&#32;32&#32;:&#32;SetMode(<link linkend="__g_r_p_properties_8h_1af987094c3c6c0910d472c6c95a548365a745e53fb66eed25ca4ee68167c68a48d">GRPPROPERTYMODE_32_BGRA_8888</link>);&#32;<emphasis role="keywordflow">break</emphasis>;
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00098"/>00098 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00099"/>00099 
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00100"/>00100 &#32;&#32;&#32;&#32;&#32;&#32;SetIsBufferInverse(<emphasis role="keyword">true</emphasis>);
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00101"/>00101 &#32;&#32;&#32;&#32;}
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00102"/>00102 }
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00103"/>00103 
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00104"/>00104 
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00115"/>00115 GRPLINUXSCREENX11::~GRPLINUXSCREENX11()
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00116"/>00116 {
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00117"/>00117 &#32;&#32;<emphasis role="keywordflow">if</emphasis>(!display)
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00118"/>00118 &#32;&#32;&#32;&#32;{
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00119"/>00119 &#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>;
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00120"/>00120 &#32;&#32;&#32;&#32;}
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00121"/>00121 &#32;&#32;&#32;&#32;&#32;&#32;
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00122"/>00122 &#32;&#32;ScreenResolution(display,&#32;root,&#32;originalwidth,&#32;originalheight,&#32;60,&#32;<emphasis role="keyword">false</emphasis>);
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00123"/>00123 
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00124"/>00124 &#32;&#32;Delete();
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00125"/>00125 
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00126"/>00126 &#32;&#32;<emphasis role="comment">//XCloseDisplay(display);</emphasis>
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00127"/>00127 &#32;
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00128"/>00128 &#32;&#32;Clean();
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00129"/>00129 }
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00130"/>00130 
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00131"/>00131 
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00143"/>00143 <emphasis role="keywordtype">bool</emphasis>&#32;GRPLINUXSCREENX11::Create(<emphasis role="keywordtype">bool</emphasis>&#32;show)
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00144"/>00144 {
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00145"/>00145 &#32;&#32;<emphasis role="keywordflow">if</emphasis>(!display)&#32;<emphasis role="keywordflow">return</emphasis>&#32;<emphasis role="keyword">false</emphasis>;
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00146"/>00146 
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00147"/>00147 &#32;&#32;<emphasis role="keywordtype">int</emphasis>&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;screen;
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00148"/>00148 &#32;&#32;<emphasis role="keywordtype">int</emphasis>&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;depth;
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00149"/>00149 &#32;&#32;Visual*&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;visual;
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00150"/>00150 &#32;&#32;XSetWindowAttributes&#32;&#32;attributes;
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00151"/>00151 &#32;&#32;<emphasis role="keywordtype">int</emphasis>&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;wndwidth&#32;&#32;=&#32;DisplayWidth&#32;(display,&#32;DefaultScreen&#32;(display));
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00152"/>00152 &#32;&#32;<emphasis role="keywordtype">int</emphasis>&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;wndheight&#32;=&#32;DisplayHeight&#32;(display,&#32;DefaultScreen&#32;(display));
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00153"/>00153 
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00154"/>00154 &#32;&#32;screen&#32;&#32;&#32;&#32;&#32;=&#32;DefaultScreen(display);
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00155"/>00155 &#32;&#32;root&#32;&#32;&#32;&#32;&#32;&#32;&#32;=&#32;RootWindow(display,screen);
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00156"/>00156 &#32;&#32;depth&#32;&#32;&#32;&#32;&#32;&#32;=&#32;DefaultDepth(display,screen);
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00157"/>00157 &#32;&#32;visual&#32;&#32;&#32;&#32;&#32;=&#32;DefaultVisual(display,screen);
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00158"/>00158 
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00159"/>00159 &#32;&#32;attributes.background_pixel&#32;&#32;&#32;=&#32;XBlackPixel(display,screen);
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00160"/>00160 &#32;&#32;attributes.border_pixel&#32;&#32;&#32;&#32;&#32;&#32;&#32;=&#32;XBlackPixel(display,screen);
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00161"/>00161 &#32;&#32;attributes.override_redirect&#32;&#32;=&#32;<emphasis role="keyword">false</emphasis>;
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00162"/>00162 
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00163"/>00163 &#32;&#32;<emphasis role="keywordtype">int</emphasis>&#32;x&#32;=&#32;(wndwidth&#32;&#32;-&#32;width)&#32;&#32;/&#32;2;
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00164"/>00164 &#32;&#32;<emphasis role="keywordtype">int</emphasis>&#32;y&#32;=&#32;(wndheight&#32;-&#32;height)&#32;/&#32;2;
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00165"/>00165 
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00166"/>00166 &#32;&#32;window&#32;=&#32;&#32;XCreateWindow(display,RootWindow(display,screen),x&#32;,y&#32;,&#32;width,&#32;height,&#32;1,depth,&#32;0&#32;<emphasis role="comment">/*InputOutput*/</emphasis>,&#32;visual,&#32;CWBackPixel&#32;|&#32;CWBorderPixel&#32;|&#32;CWOverrideRedirect,&amp;attributes);
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00167"/>00167 &#32;&#32;<emphasis role="keywordflow">if</emphasis>(!window)&#32;<emphasis role="keywordflow">return</emphasis>&#32;<emphasis role="keyword">false</emphasis>;
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00168"/>00168 
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00169"/>00169 &#32;&#32;<emphasis role="keywordflow">if</emphasis>(IsFullScreen())
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00170"/>00170 &#32;&#32;&#32;&#32;{
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00171"/>00171 &#32;&#32;&#32;&#32;&#32;&#32;Atom&#32;wm_state&#32;&#32;&#32;=&#32;XInternAtom&#32;(display,&#32;<emphasis role="stringliteral">&quot;_NET_WM_STATE&quot;</emphasis>,&#32;<emphasis role="keyword">true</emphasis>&#32;);
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00172"/>00172 &#32;&#32;&#32;&#32;&#32;&#32;Atom&#32;wm_fullscreen&#32;=&#32;XInternAtom&#32;(display,&#32;<emphasis role="stringliteral">&quot;_NET_WM_STATE_FULLSCREEN&quot;</emphasis>,&#32;<emphasis role="keyword">true</emphasis>&#32;);
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00173"/>00173 
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00174"/>00174 &#32;&#32;&#32;&#32;&#32;&#32;XChangeProperty(display,&#32;window,&#32;wm_state,&#32;XA_ATOM,&#32;32,&#32;PropModeReplace,&#32;(<emphasis role="keywordtype">unsigned</emphasis>&#32;<emphasis role="keywordtype">char</emphasis>&#32;*)&amp;wm_fullscreen,&#32;1);
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00175"/>00175 
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00176"/>00176 &#32;&#32;&#32;&#32;&#32;&#32;ScreenResolution(display,&#32;root,&#32;width,&#32;height,&#32;60,&#32;<emphasis role="keyword">false</emphasis>);
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00177"/>00177 &#32;&#32;&#32;&#32;}
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00178"/>00178 
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00179"/>00179 &#32;&#32;XMapWindow(display,&#32;window);
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00180"/>00180 &#32;&#32;XMoveWindow(display,&#32;window,x,y);
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00181"/>00181 
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00182"/>00182 &#32;&#32;CreateBuffers();
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00183"/>00183 
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00184"/>00184 &#32;&#32;XFlush(display);
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00185"/>00185 
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00186"/>00186 &#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;<link linkend="_class_g_r_p_s_c_r_e_e_n_1a6fa475c9228a35f6e835dfcd759eafbb">GRPSCREEN::Create</link>(show);
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00187"/>00187 }
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00188"/>00188 
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00189"/>00189 
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00199"/>00199 <emphasis role="keywordtype">bool</emphasis>&#32;GRPLINUXSCREENX11::Update()
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00200"/>00200 {
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00201"/>00201 &#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;<emphasis role="keyword">false</emphasis>;
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00202"/>00202 }
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00203"/>00203 
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00204"/>00204 
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00216"/>00216 <emphasis role="keywordtype">bool</emphasis>&#32;GRPLINUXSCREENX11::Update(<link linkend="_class_g_r_p_c_a_n_v_a_s">GRPCANVAS</link>*&#32;canvas)
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00217"/>00217 {
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00218"/>00218 &#32;&#32;<emphasis role="keywordflow">if</emphasis>(!display)&#32;<emphasis role="keywordflow">return</emphasis>&#32;<emphasis role="keyword">false</emphasis>;
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00219"/>00219 &#32;&#32;<emphasis role="keywordflow">if</emphasis>(!window)&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;<emphasis role="keyword">false</emphasis>;
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00220"/>00220 &#32;&#32;<emphasis role="keywordflow">if</emphasis>(!canvas)&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;<emphasis role="keyword">false</emphasis>;
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00221"/>00221 
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00222"/>00222 &#32;&#32;GC&#32;gc&#32;=&#32;XCreateGC(display,&#32;window,&#32;0,&#32;<link linkend="__x_base_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</link>);
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00223"/>00223 &#32;&#32;<emphasis role="keywordflow">if</emphasis>(gc)
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00224"/>00224 &#32;&#32;&#32;&#32;{
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00225"/>00225 &#32;&#32;&#32;&#32;&#32;&#32;XSync(display,<emphasis role="keyword">false</emphasis>);
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00226"/>00226 
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00227"/>00227 &#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>(IsEqualSizeTo(canvas)&#32;==&#32;<link linkend="__x_base_8h_1a146f6c83bfa09e308b1f8e423085c8d4">ISEQUAL</link>)
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00228"/>00228 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00229"/>00229 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;XImage*&#32;image&#32;=&#32;CreateXImageFromBuffer(display,&#32;DefaultScreen(display),&#32;(<link linkend="__x_base_8h_1a7ba3d378cab4450418bec78e604d47da">XBYTE</link>*)canvas-&gt;<link linkend="_class_g_r_p_c_a_n_v_a_s_1a17c51ff97e0d74bc3510b2eff0dd9abf">GetBuffer</link>(),&#32;width,&#32;height);
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00230"/>00230 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>(image)
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00231"/>00231 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00232"/>00232 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;XPutImage(display,&#32;window,&#32;gc,&#32;image,&#32;0,&#32;0,&#32;0,&#32;0,&#32;width,&#32;height);
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00233"/>00233 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;XDestroyImage(image);
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00234"/>00234 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00235"/>00235 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00236"/>00236 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">else</emphasis>
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00237"/>00237 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00238"/>00238 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;canvas-&gt;<link linkend="_class_g_r_p_c_a_n_v_a_s_1ab887fce477778abe690c6fdc74fc6d8c">CopyBufferRenderToScreen</link>(<emphasis role="keyword">this</emphasis>);
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00239"/>00239 
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00240"/>00240 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;XImage*&#32;image&#32;=&#32;CreateXImageFromBuffer(display,&#32;DefaultScreen(display),&#32;(<link linkend="__x_base_8h_1a7ba3d378cab4450418bec78e604d47da">XBYTE</link>*)buffer,&#32;width,&#32;height);
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00241"/>00241 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>(image)
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00242"/>00242 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00243"/>00243 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;XPutImage(display,&#32;window,&#32;gc,&#32;image,&#32;0,&#32;0,&#32;0,&#32;0,&#32;width,&#32;height);
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00244"/>00244 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;XDestroyImage(image);
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00245"/>00245 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00246"/>00246 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00247"/>00247 
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00248"/>00248 &#32;&#32;&#32;&#32;&#32;&#32;XFreeGC(display,&#32;gc);
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00249"/>00249 &#32;&#32;&#32;&#32;}
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00250"/>00250 
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00251"/>00251 &#32;&#32;XFlush(display);
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00252"/>00252 
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00253"/>00253 &#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;<emphasis role="keyword">true</emphasis>;
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00254"/>00254 }
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00255"/>00255 
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00256"/>00256 
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00266"/>00266 <emphasis role="keywordtype">bool</emphasis>&#32;GRPLINUXSCREENX11::Delete()
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00267"/>00267 {
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00268"/>00268 &#32;&#32;<emphasis role="keywordflow">if</emphasis>(!display)&#32;<emphasis role="keywordflow">return</emphasis>&#32;<emphasis role="keyword">false</emphasis>;
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00269"/>00269 &#32;&#32;<emphasis role="keywordflow">if</emphasis>(!window)&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;<emphasis role="keyword">false</emphasis>;
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00270"/>00270 
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00271"/>00271 &#32;&#32;DeleteBuffers();
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00272"/>00272 
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00273"/>00273 &#32;&#32;XDestroyWindow(display,&#32;window);
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00274"/>00274 
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00275"/>00275 &#32;&#32;isactive&#32;=&#32;<emphasis role="keyword">false</emphasis>;
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00276"/>00276 
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00277"/>00277 &#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;<emphasis role="keyword">true</emphasis>;
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00278"/>00278 }
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00279"/>00279 
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00280"/>00280 
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00293"/>00293 <emphasis role="keywordtype">bool</emphasis>&#32;GRPLINUXSCREENX11::Resize(<emphasis role="keywordtype">int</emphasis>&#32;width,&#32;<emphasis role="keywordtype">int</emphasis>&#32;height)
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00294"/>00294 {
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00295"/>00295 &#32;&#32;XResizeWindow(display,&#32;window,&#32;width,&#32;height);
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00296"/>00296 
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00297"/>00297 &#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;UpdateSize(width,&#32;height);
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00298"/>00298 }
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00299"/>00299 
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00300"/>00300 
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00312"/>00312 <emphasis role="keywordtype">bool</emphasis>&#32;GRPLINUXSCREENX11::Show(<emphasis role="keywordtype">bool</emphasis>&#32;active)
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00313"/>00313 {
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00314"/>00314 &#32;&#32;isshow&#32;&#32;=&#32;active;
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00315"/>00315 
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00316"/>00316 &#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;<emphasis role="keyword">true</emphasis>;
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00317"/>00317 }
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00318"/>00318 
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00319"/>00319 
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00331"/>00331 <emphasis role="keywordtype">bool</emphasis>&#32;GRPLINUXSCREENX11::ShowCursor(<emphasis role="keywordtype">bool</emphasis>&#32;active)
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00332"/>00332 {
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00333"/>00333 &#32;&#32;<emphasis role="keywordflow">if</emphasis>(!active)
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00334"/>00334 &#32;&#32;&#32;&#32;{
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00335"/>00335 &#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;vars&#32;to&#32;make&#32;blank&#32;cursor</emphasis>
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00336"/>00336 &#32;&#32;&#32;&#32;&#32;&#32;Pixmap&#32;&#32;blank;
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00337"/>00337 &#32;&#32;&#32;&#32;&#32;&#32;XColor&#32;&#32;dummy;
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00338"/>00338 &#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordtype">char</emphasis>&#32;&#32;&#32;&#32;data[1]&#32;=&#32;{&#32;0&#32;};
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00339"/>00339 &#32;&#32;&#32;&#32;&#32;&#32;Cursor&#32;&#32;cursor;
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00340"/>00340 
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00341"/>00341 &#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;make&#32;a&#32;blank&#32;cursor</emphasis>
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00342"/>00342 &#32;&#32;&#32;&#32;&#32;&#32;blank&#32;=&#32;XCreateBitmapFromData(display,&#32;window,&#32;data,&#32;1,&#32;1);
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00343"/>00343 &#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>(blank&#32;!=&#32;None)
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00344"/>00344 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00345"/>00345 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;cursor&#32;=&#32;XCreatePixmapCursor(display,&#32;blank,&#32;blank,&#32;&amp;dummy,&#32;&amp;dummy,&#32;0,&#32;0);
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00346"/>00346 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;XFreePixmap(display,&#32;blank);
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00347"/>00347 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;XDefineCursor(display,&#32;window,cursor);
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00348"/>00348 
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00349"/>00349 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}&#32;<emphasis role="keywordflow">else</emphasis>&#32;<emphasis role="keywordflow">return</emphasis>&#32;<emphasis role="keyword">false</emphasis>;
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00350"/>00350 &#32;&#32;&#32;&#32;}
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00351"/>00351 &#32;&#32;&#32;<emphasis role="keywordflow">else</emphasis>
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00352"/>00352 &#32;&#32;&#32;&#32;{
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00353"/>00353 &#32;&#32;&#32;&#32;&#32;&#32;XUndefineCursor(display,&#32;window);
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00354"/>00354 &#32;&#32;&#32;&#32;}
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00355"/>00355 
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00356"/>00356 &#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;<emphasis role="keyword">true</emphasis>;
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00357"/>00357 }
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00358"/>00358 
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00359"/>00359 
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00369"/>00369 <emphasis role="keywordtype">void</emphasis>*&#32;GRPLINUXSCREENX11::GetHandle()
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00370"/>00370 {
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00371"/>00371 &#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;(<emphasis role="keywordtype">void</emphasis>*)window;
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00372"/>00372 
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00373"/>00373 }
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00374"/>00374 
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00375"/>00375 
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00385"/>00385 <emphasis role="keywordtype">bool</emphasis>&#32;&#32;GRPLINUXSCREENX11::IsDesktop()
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00386"/>00386 {
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00387"/>00387 &#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;isdesktop;
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00388"/>00388 }
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00389"/>00389 
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00390"/>00390 
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00402"/>00402 <emphasis role="keywordtype">void</emphasis>&#32;GRPLINUXSCREENX11::SetIsDesktop(<emphasis role="keywordtype">bool</emphasis>&#32;isdesktop)
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00403"/>00403 {
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00404"/>00404 &#32;&#32;this-&gt;isdesktop&#32;=&#32;isdesktop;
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00405"/>00405 }
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00406"/>00406 
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00407"/>00407 
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00417"/>00417 <emphasis role="keywordtype">bool</emphasis>&#32;GRPLINUXSCREENX11::HasFocus()
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00418"/>00418 {
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00419"/>00419 &#32;&#32;Window&#32;focus;
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00420"/>00420 &#32;&#32;<emphasis role="keywordtype">int</emphasis>&#32;&#32;&#32;&#32;status&#32;=&#32;0;
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00421"/>00421 
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00422"/>00422 &#32;&#32;XGetInputFocus(display,&#32;&amp;focus,&#32;&amp;status);
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00423"/>00423 
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00424"/>00424 &#32;&#32;<emphasis role="keywordflow">if</emphasis>(focus&#32;==&#32;&#32;window)&#32;<emphasis role="keywordflow">return</emphasis>&#32;<emphasis role="keyword">true</emphasis>;
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00425"/>00425 
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00426"/>00426 &#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;<emphasis role="keyword">false</emphasis>;
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00427"/>00427 }
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00428"/>00428 
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00429"/>00429 
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00439"/>00439 Display*&#32;GRPLINUXSCREENX11::GetDisplay()
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00440"/>00440 {
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00441"/>00441 &#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;display;
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00442"/>00442 }
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00443"/>00443 
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00444"/>00444 
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00454"/>00454 Window*&#32;GRPLINUXSCREENX11::GetWindow()
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00455"/>00455 {
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00456"/>00456 &#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;&amp;window;
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00457"/>00457 }
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00458"/>00458 
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00459"/>00459 
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00476"/>00476 <emphasis role="keywordtype">int</emphasis>&#32;GRPLINUXSCREENX11::ScreenResolution(Display*&#32;display,&#32;Window&#32;&#32;root,&#32;<emphasis role="keywordtype">int</emphasis>&#32;xsz,&#32;<emphasis role="keywordtype">int</emphasis>&#32;ysz,&#32;<emphasis role="keywordtype">int</emphasis>&#32;rate,&#32;<emphasis role="keywordtype">int</emphasis>&#32;just_checking)
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00477"/>00477 {
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00478"/>00478 &#32;&#32;XRRScreenConfiguration*&#32;&#32;&#32;xrr_config&#32;=&#32;0;
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00479"/>00479 &#32;&#32;<emphasis role="keywordtype">int</emphasis>&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;event_base;
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00480"/>00480 &#32;&#32;<emphasis role="keywordtype">int</emphasis>&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;error_base;
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00481"/>00481 &#32;&#32;<emphasis role="keywordtype">int</emphasis>&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;ver_major;
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00482"/>00482 &#32;&#32;<emphasis role="keywordtype">int</emphasis>&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;ver_minor;
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00483"/>00483 &#32;&#32;<emphasis role="keywordtype">int</emphasis>&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;use_rate;
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00484"/>00484 &#32;&#32;Status&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;result&#32;=&#32;-1;
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00485"/>00485 
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00486"/>00486 &#32;&#32;<emphasis role="keywordflow">if</emphasis>(!display)&#32;<emphasis role="keywordflow">return</emphasis>&#32;-1;
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00487"/>00487 
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00488"/>00488 &#32;&#32;<emphasis role="comment">//&#32;must&#32;check&#32;at&#32;runtime&#32;for&#32;the&#32;availability&#32;of&#32;the&#32;extension</emphasis>
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00489"/>00489 &#32;&#32;<emphasis role="keywordflow">if</emphasis>(!XRRQueryExtension(display,&#32;&amp;event_base,&#32;&amp;error_base))
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00490"/>00490 &#32;&#32;&#32;&#32;{
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00491"/>00491 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;-1;
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00492"/>00492 &#32;&#32;&#32;&#32;}
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00493"/>00493 
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00494"/>00494 &#32;&#32;XRRQueryVersion(display,&#32;&amp;ver_major,&#32;&amp;ver_minor);
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00495"/>00495 
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00496"/>00496 &#32;&#32;<emphasis role="comment">//&#32;we&#32;only&#32;heed&#32;the&#32;rate&#32;if&#32;we&#32;CAN&#32;actually&#32;use&#32;it&#32;(Xrandr&#32;&gt;=&#32;1.1)&#32;and&#32;the&#32;user&#32;actually&#32;cares&#32;about&#32;it&#32;(rate&#32;&gt;&#32;0)</emphasis>
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00497"/>00497 &#32;&#32;use_rate&#32;=&#32;(&#32;rate&#32;&gt;&#32;0&#32;)&#32;&amp;&amp;&#32;(&#32;(&#32;ver_major&#32;&gt;&#32;1&#32;)&#32;||&#32;((&#32;ver_major&#32;==&#32;1&#32;)&#32;&amp;&amp;&#32;(&#32;ver_minor&#32;&gt;=&#32;1&#32;)));
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00498"/>00498 
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00499"/>00499 &#32;&#32;<emphasis role="comment">//&#32;this&#32;loop&#32;is&#32;only&#32;so&#32;that&#32;the&#32;whole&#32;thing&#32;will&#32;be&#32;repeated&#32;if&#32;someone&#32;else&#32;changes&#32;video&#32;mode&#32;between&#32;our&#32;query&#32;of&#32;the&#32;current&#32;information&#32;and&#32;the&#32;attempt&#32;to&#32;change&#32;it.</emphasis>
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00500"/>00500 &#32;&#32;<emphasis role="keywordflow">do</emphasis>{
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00501"/>00501 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;XRRScreenSize*&#32;&#32;ssizes;
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00502"/>00502 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordtype">short</emphasis>*&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;rates;
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00503"/>00503 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Rotation&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;rot;
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00504"/>00504 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordtype">int</emphasis>&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;i;
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00505"/>00505 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordtype">int</emphasis>&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;ssizes_count;
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00506"/>00506 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordtype">int</emphasis>&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;rates_count;
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00507"/>00507 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordtype">int</emphasis>&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;curr;
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00508"/>00508 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordtype">int</emphasis>&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;res_idx&#32;=&#32;-1;
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00509"/>00509 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Time&#32;timestamp,&#32;cfg_timestamp;
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00510"/>00510 
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00511"/>00511 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>(xrr_config)&#32;XRRFreeScreenConfigInfo(xrr_config);
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00512"/>00512 
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00513"/>00513 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>(!(xrr_config&#32;=&#32;XRRGetScreenInfo(display,&#32;root)))
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00514"/>00514 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00515"/>00515 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//fgWarning(&quot;XRRGetScreenInfo&#32;failed&quot;);</emphasis>
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00516"/>00516 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">break</emphasis>;
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00517"/>00517 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00518"/>00518 
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00519"/>00519 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;ssizes&#32;&#32;&#32;&#32;=&#32;XRRConfigSizes(xrr_config,&#32;&amp;ssizes_count);
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00520"/>00520 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;curr&#32;&#32;&#32;&#32;&#32;&#32;=&#32;XRRConfigCurrentConfiguration(xrr_config,&#32;&amp;rot);
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00521"/>00521 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;timestamp&#32;=&#32;XRRConfigTimes(xrr_config,&#32;&amp;cfg_timestamp);
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00522"/>00522 
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00523"/>00523 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;if&#32;either&#32;of&#32;xsz&#32;or&#32;ysz&#32;are&#32;unspecified,&#32;use&#32;the&#32;current&#32;values</emphasis>
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00524"/>00524 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>(xsz&#32;&lt;=&#32;0)&#32;xsz&#32;=&#32;&#32;ssizes[curr].width;
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00525"/>00525 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>(ysz&#32;&lt;=&#32;0)&#32;ysz&#32;=&#32;&#32;ssizes[curr].height;
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00526"/>00526 
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00527"/>00527 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>(xsz&#32;==&#32;ssizes[curr].width&#32;&amp;&amp;&#32;ysz&#32;==&#32;ssizes[curr].height)
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00528"/>00528 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00529"/>00529 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;no&#32;need&#32;to&#32;switch,&#32;we&apos;re&#32;already&#32;in&#32;the&#32;requested&#32;resolution</emphasis>
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00530"/>00530 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;res_idx&#32;=&#32;curr;
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00531"/>00531 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00532"/>00532 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">else</emphasis>
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00533"/>00533 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00534"/>00534 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">for</emphasis>(i=0;&#32;i&lt;ssizes_count;&#32;i++)
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00535"/>00535 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00536"/>00536 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>(ssizes[i].width&#32;==&#32;xsz&#32;&amp;&amp;&#32;ssizes[i].height&#32;==&#32;ysz)
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00537"/>00537 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00538"/>00538 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;res_idx&#32;=&#32;i;
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00539"/>00539 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">break</emphasis>;&#32;&#32;<emphasis role="comment">//&#32;found&#32;it</emphasis>
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00540"/>00540 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00541"/>00541 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00542"/>00542 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00543"/>00543 
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00544"/>00544 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>(res_idx&#32;==&#32;-1)&#32;<emphasis role="keywordflow">break</emphasis>;&#32;&#32;<emphasis role="comment">//&#32;no&#32;matching&#32;resolution</emphasis>
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00545"/>00545 
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00546"/>00546 <emphasis role="preprocessor">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;#if&#32;(&#32;RANDR_MAJOR&#32;&gt;&#32;1&#32;)&#32;||&#32;(&#32;(&#32;RANDR_MAJOR&#32;==&#32;1&#32;)&#32;&amp;&amp;&#32;(&#32;RANDR_MINOR&#32;&gt;=&#32;1&#32;)&#32;)</emphasis>
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00547"/>00547 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>(use_rate)
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00548"/>00548 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00549"/>00549 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;for&#32;the&#32;selected&#32;resolution,&#32;let&apos;s&#32;find&#32;out&#32;if&#32;there&#32;is&#32;a&#32;matching&#32;refresh&#32;rate&#32;available.</emphasis>
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00550"/>00550 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;rates&#32;=&#32;XRRConfigRates(xrr_config,&#32;res_idx,&#32;&amp;rates_count);
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00551"/>00551 
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00552"/>00552 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">for</emphasis>(i=0;&#32;i&lt;rates_count;&#32;i++)
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00553"/>00553 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00554"/>00554 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>(rates[i]&#32;==&#32;rate)
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00555"/>00555 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00556"/>00556 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">break</emphasis>;
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00557"/>00557 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00558"/>00558 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00559"/>00559 
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00560"/>00560 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>(i&#32;==&#32;rates_count)&#32;<emphasis role="keywordflow">break</emphasis>;&#32;<emphasis role="comment">//&#32;no&#32;matching&#32;rate</emphasis>
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00561"/>00561 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00562"/>00562 <emphasis role="preprocessor">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;#endif</emphasis>
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00563"/>00563 
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00564"/>00564 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>(just_checking)
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00565"/>00565 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00566"/>00566 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;result&#32;=&#32;0;
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00567"/>00567 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">break</emphasis>;
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00568"/>00568 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00569"/>00569 
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00570"/>00570 <emphasis role="preprocessor">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;#if&#32;(&#32;RANDR_MAJOR&#32;&gt;&#32;1&#32;)&#32;||&#32;(&#32;(&#32;RANDR_MAJOR&#32;==&#32;1&#32;)&#32;&amp;&amp;&#32;(&#32;RANDR_MINOR&#32;&gt;=&#32;1&#32;)&#32;)</emphasis>
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00571"/>00571 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>(use_rate)
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00572"/>00572 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;result&#32;=&#32;XRRSetScreenConfigAndRate(display,&#32;xrr_config,&#32;root,&#32;res_idx,&#32;rot,&#32;rate,&#32;timestamp);
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00573"/>00573 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">else</emphasis>
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00574"/>00574 <emphasis role="preprocessor">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;#endif</emphasis>
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00575"/>00575 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;result&#32;=&#32;XRRSetScreenConfig(display,&#32;xrr_config,&#32;root,&#32;res_idx,&#32;rot,&#32;timestamp);
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00576"/>00576 
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00577"/>00577 &#32;&#32;&#32;&#32;}&#32;<emphasis role="keywordflow">while</emphasis>(result&#32;==&#32;RRSetConfigInvalidTime);
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00578"/>00578 
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00579"/>00579 &#32;&#32;<emphasis role="keywordflow">if</emphasis>(xrr_config)&#32;XRRFreeScreenConfigInfo(xrr_config);
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00580"/>00580 
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00581"/>00581 &#32;&#32;<emphasis role="keywordflow">if</emphasis>(result&#32;==&#32;0)&#32;<emphasis role="keywordflow">return</emphasis>&#32;0;
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00582"/>00582 
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00583"/>00583 &#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;-1;
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00584"/>00584 }
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00585"/>00585 
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00586"/>00586 
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00602"/>00602 XImage*&#32;GRPLINUXSCREENX11::CreateXImageFromBuffer(Display*&#32;display,&#32;<emphasis role="keywordtype">int</emphasis>&#32;screen,&#32;<link linkend="__x_base_8h_1a7ba3d378cab4450418bec78e604d47da">XBYTE</link>*&#32;buffer,&#32;<emphasis role="keywordtype">int</emphasis>&#32;width,&#32;<emphasis role="keywordtype">int</emphasis>&#32;height)
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00603"/>00603 {
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00604"/>00604 &#32;&#32;XImage*&#32;image&#32;=&#32;<link linkend="__x_base_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</link>;
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00605"/>00605 &#32;&#32;<emphasis role="keywordtype">int</emphasis>&#32;&#32;&#32;&#32;&#32;depth;
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00606"/>00606 &#32;&#32;Visual*&#32;visual;
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00607"/>00607 &#32;&#32;<emphasis role="keywordtype">double</emphasis>&#32;&#32;rratio;
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00608"/>00608 &#32;&#32;<emphasis role="keywordtype">double</emphasis>&#32;&#32;gratio;
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00609"/>00609 &#32;&#32;<emphasis role="keywordtype">double</emphasis>&#32;&#32;bratio;
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00610"/>00610 &#32;&#32;<emphasis role="keywordtype">int</emphasis>&#32;&#32;&#32;&#32;&#32;outindex&#32;&#32;&#32;&#32;&#32;&#32;&#32;=&#32;0;
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00611"/>00611 &#32;&#32;<emphasis role="keywordtype">int</emphasis>&#32;&#32;&#32;&#32;&#32;numbufferbytes&#32;=&#32;(3&#32;*&#32;(width&#32;*&#32;height));
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00612"/>00612 
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00613"/>00613 &#32;&#32;depth&#32;&#32;=&#32;DefaultDepth(display,screen);
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00614"/>00614 &#32;&#32;visual&#32;=&#32;DefaultVisual(display,screen);
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00615"/>00615 
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00616"/>00616 &#32;&#32;rratio&#32;=&#32;visual-&gt;red_mask&#32;&#32;&#32;/&#32;255.0;
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00617"/>00617 &#32;&#32;gratio&#32;=&#32;visual-&gt;green_mask&#32;/&#32;255.0;
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00618"/>00618 &#32;&#32;bratio&#32;=&#32;visual-&gt;blue_mask&#32;&#32;/&#32;255.0;
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00619"/>00619 
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00620"/>00620 &#32;&#32;<emphasis role="keywordflow">if</emphasis>(depth&#32;&gt;=&#32;24)
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00621"/>00621 &#32;&#32;&#32;&#32;{
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00622"/>00622 &#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordtype">int</emphasis>&#32;&#32;&#32;&#32;numnewbufferbytes&#32;=&#32;(4&#32;*&#32;(width&#32;*&#32;height));
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00623"/>00623 &#32;&#32;&#32;&#32;&#32;&#32;<link linkend="__x_base_8h_1a0e5b572e67f127f1afb599e257c539cf">XDWORD</link>*&#32;newbuffer&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;=&#32;(<link linkend="__x_base_8h_1a0e5b572e67f127f1afb599e257c539cf">XDWORD</link>*)malloc(numnewbufferbytes);
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00624"/>00624 
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00625"/>00625 &#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">for</emphasis>(<emphasis role="keywordtype">int</emphasis>&#32;index=0;index&lt;numbufferbytes;)
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00626"/>00626 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00627"/>00627 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="__x_base_8h_1a0e5b572e67f127f1afb599e257c539cf">XDWORD</link>&#32;b&#32;=&#32;(buffer[index++]&#32;*&#32;bratio);
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00628"/>00628 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="__x_base_8h_1a0e5b572e67f127f1afb599e257c539cf">XDWORD</link>&#32;g&#32;=&#32;(buffer[index++]&#32;*&#32;gratio);
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00629"/>00629 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="__x_base_8h_1a0e5b572e67f127f1afb599e257c539cf">XDWORD</link>&#32;r&#32;=&#32;(buffer[index++]&#32;*&#32;rratio);
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00630"/>00630 
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00631"/>00631 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;r&#32;&amp;=&#32;visual-&gt;red_mask;
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00632"/>00632 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;g&#32;&amp;=&#32;visual-&gt;green_mask;
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00633"/>00633 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;b&#32;&amp;=&#32;visual-&gt;blue_mask;
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00634"/>00634 
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00635"/>00635 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;newbuffer[outindex]&#32;=&#32;r&#32;|&#32;g&#32;|&#32;b;
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00636"/>00636 
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00637"/>00637 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;++outindex;
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00638"/>00638 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00639"/>00639 
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00640"/>00640 &#32;&#32;&#32;&#32;&#32;&#32;image&#32;=&#32;XCreateImage&#32;(display,&#32;CopyFromParent,&#32;depth,&#32;&#32;ZPixmap,&#32;0,&#32;(<emphasis role="keywordtype">char</emphasis>&#32;*)newbuffer,width,&#32;height,&#32;32,&#32;0);
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00641"/>00641 &#32;&#32;&#32;&#32;}
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00642"/>00642 &#32;&#32;&#32;&#32;<emphasis role="keywordflow">else</emphasis>
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00643"/>00643 &#32;&#32;&#32;&#32;{
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00644"/>00644 &#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>(depth&#32;&gt;=&#32;15)
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00645"/>00645 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00646"/>00646 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordtype">int</emphasis>&#32;&#32;&#32;numnewbufferbytes&#32;=&#32;(2&#32;*&#32;(width&#32;*&#32;height));
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00647"/>00647 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="__x_base_8h_1a3f1fe1487089bc987e3d549a9064e653">XWORD</link>*&#32;newbuffer&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;=&#32;(<link linkend="__x_base_8h_1a3f1fe1487089bc987e3d549a9064e653">XWORD</link>*)malloc(numnewbufferbytes);
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00648"/>00648 
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00649"/>00649 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">for</emphasis>(<emphasis role="keywordtype">int</emphasis>&#32;index=0;index&lt;numbufferbytes;)
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00650"/>00650 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00651"/>00651 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="__x_base_8h_1a0e5b572e67f127f1afb599e257c539cf">XDWORD</link>&#32;b&#32;=&#32;(buffer[index++]&#32;*&#32;bratio);
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00652"/>00652 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="__x_base_8h_1a0e5b572e67f127f1afb599e257c539cf">XDWORD</link>&#32;g&#32;=&#32;(buffer[index++]&#32;*&#32;gratio);
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00653"/>00653 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="__x_base_8h_1a0e5b572e67f127f1afb599e257c539cf">XDWORD</link>&#32;r&#32;=&#32;(buffer[index++]&#32;*&#32;rratio);
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00654"/>00654 
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00655"/>00655 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;r&#32;&amp;=&#32;visual-&gt;red_mask;
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00656"/>00656 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;g&#32;&amp;=&#32;visual-&gt;green_mask;
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00657"/>00657 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;b&#32;&amp;=&#32;visual-&gt;blue_mask;
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00658"/>00658 
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00659"/>00659 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;newbuffer[outindex]&#32;=&#32;r&#32;|&#32;g&#32;|&#32;b;
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00660"/>00660 
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00661"/>00661 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;++outindex;
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00662"/>00662 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00663"/>00663 
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00664"/>00664 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;image&#32;=&#32;XCreateImage(display,&#32;CopyFromParent,&#32;depth,&#32;ZPixmap,&#32;0,&#32;(<emphasis role="keywordtype">char</emphasis>*)newbuffer,&#32;width,&#32;height,&#32;16,&#32;0);
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00665"/>00665 
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00666"/>00666 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}&#32;&#32;<emphasis role="keywordflow">else</emphasis>&#32;<emphasis role="keywordflow">return</emphasis>&#32;<link linkend="__x_base_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</link>;
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00667"/>00667 &#32;&#32;&#32;&#32;}
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00668"/>00668 
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00669"/>00669 &#32;&#32;XInitImage(image);
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00670"/>00670 
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00671"/>00671 &#32;&#32;<emphasis role="keywordflow">if</emphasis>(LSBFirst&#32;==&#32;GetByteOrder())
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00672"/>00672 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;image-&gt;byte_order&#32;=&#32;LSBFirst;
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00673"/>00673 &#32;&#32;&#32;&#32;<emphasis role="keywordflow">else</emphasis>&#32;image-&gt;byte_order&#32;=&#32;MSBFirst;
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00674"/>00674 
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00675"/>00675 &#32;&#32;image-&gt;bitmap_bit_order&#32;=&#32;MSBFirst;
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00676"/>00676 
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00677"/>00677 &#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;image;
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00678"/>00678 }
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00679"/>00679 
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00680"/>00680 
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00690"/>00690 <emphasis role="keywordtype">int</emphasis>&#32;GRPLINUXSCREENX11::GetByteOrder()
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00691"/>00691 {
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00692"/>00692 &#32;&#32;<emphasis role="keyword">union</emphasis>
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00693"/>00693 &#32;&#32;{
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00694"/>00694 &#32;&#32;&#32;&#32;<emphasis role="keywordtype">char</emphasis>&#32;c[<emphasis role="keyword">sizeof</emphasis>(short)];
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00695"/>00695 &#32;&#32;&#32;&#32;<emphasis role="keywordtype">short</emphasis>&#32;s;
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00696"/>00696 
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00697"/>00697 &#32;&#32;}&#32;order;
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00698"/>00698 
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00699"/>00699 &#32;&#32;order.s&#32;=&#32;1;
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00700"/>00700 &#32;&#32;<emphasis role="keywordflow">if</emphasis>((1&#32;==&#32;order.c[0]))
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00701"/>00701 &#32;&#32;&#32;&#32;{
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00702"/>00702 &#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;LSBFirst;
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00703"/>00703 &#32;&#32;&#32;&#32;}
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00704"/>00704 &#32;&#32;&#32;<emphasis role="keywordflow">else</emphasis>
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00705"/>00705 &#32;&#32;&#32;&#32;{
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00706"/>00706 &#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;MSBFirst;
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00707"/>00707 &#32;&#32;&#32;&#32;}
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00708"/>00708 }
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00709"/>00709 
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00710"/>00710 
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00721"/>00721 <emphasis role="keywordtype">void</emphasis>&#32;GRPLINUXSCREENX11::Clean()
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00722"/>00722 {
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00723"/>00723 &#32;&#32;display&#32;&#32;&#32;=&#32;<link linkend="__x_base_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</link>;
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00724"/>00724 &#32;&#32;window&#32;&#32;&#32;&#32;=&#32;0;
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00725"/>00725 
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00726"/>00726 &#32;&#32;isdesktop&#32;=&#32;<emphasis role="keyword">false</emphasis>;
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00727"/>00727 }
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00728"/>00728 
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00729"/>00729 
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00730"/>00730 <emphasis role="preprocessor">#pragma&#32;endregion</emphasis>
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00731"/>00731 
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00732"/>00732 
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00733"/>00733 <emphasis role="preprocessor">#endif</emphasis>
<anchor xml:id="__g_r_p_l_i_n_u_x_screen_x11_8cpp_source_1l00734"/>00734 
</programlisting></section>
