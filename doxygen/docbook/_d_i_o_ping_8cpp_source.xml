<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<section xmlns="http://docbook.org/ns/docbook" version="5.0" xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="__d_i_o_ping_8cpp_source" xml:lang="en-US">
<title>DIOPing.cpp</title>
<indexterm><primary>D:/Projects/GENFrameWork/GEN/DataIO/Protocols/DIOPing.cpp</primary></indexterm>
Go to the documentation of this file.<programlisting linenumbering="unnumbered"><anchor xml:id="__d_i_o_ping_8cpp_source_1l00001"/>00001 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00029"/>00029 <emphasis role="comment">/*----&#32;PRECOMPILATION&#32;INCLUDES&#32;----------------------------------------------------------------------------------------*/</emphasis>
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00030"/>00030 <emphasis role="preprocessor">#pragma&#32;region&#32;PRECOMPILATION_INCLUDES</emphasis>
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00031"/>00031 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00032"/>00032 <emphasis role="preprocessor">#include&#32;&quot;<link linkend="__g_e_n___defines_8h">GEN_Defines.h</link>&quot;</emphasis>
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00033"/>00033 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00034"/>00034 <emphasis role="preprocessor">#pragma&#32;endregion</emphasis>
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00035"/>00035 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00036"/>00036 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00037"/>00037 <emphasis role="comment">/*----&#32;INCLUDES&#32;------------------------------------------------------------------------------------------------------*/</emphasis>
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00038"/>00038 <emphasis role="preprocessor">#pragma&#32;region&#32;INCLUDES</emphasis>
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00039"/>00039 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00040"/>00040 <emphasis role="preprocessor">#include&#32;&quot;<link linkend="__d_i_o_ping_8h">DIOPing.h</link>&quot;</emphasis>
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00041"/>00041 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00042"/>00042 <emphasis role="preprocessor">#include&#32;&lt;stdio.h&gt;</emphasis>
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00043"/>00043 <emphasis role="preprocessor">#include&#32;&lt;string.h&gt;</emphasis>
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00044"/>00044 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00045"/>00045 <emphasis role="preprocessor">#include&#32;&quot;<link linkend="__x_factory_8h">XFactory.h</link>&quot;</emphasis>
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00046"/>00046 <emphasis role="preprocessor">#include&#32;&quot;<link linkend="__x_timer_8h">XTimer.h</link>&quot;</emphasis>
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00047"/>00047 <emphasis role="preprocessor">#include&#32;&quot;<link linkend="__x_trace_8h">XTrace.h</link>&quot;</emphasis>
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00048"/>00048 <emphasis role="preprocessor">#include&#32;&quot;<link linkend="__x_rand_8h">XRand.h</link>&quot;</emphasis>
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00049"/>00049 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00050"/>00050 <emphasis role="preprocessor">#include&#32;&quot;<link linkend="__d_i_o_stream_i_c_m_p_config_8h">DIOStreamICMPConfig.h</link>&quot;</emphasis>
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00051"/>00051 <emphasis role="preprocessor">#include&#32;&quot;<link linkend="__d_i_o_stream_i_c_m_p_8h">DIOStreamICMP.h</link>&quot;</emphasis>
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00052"/>00052 <emphasis role="preprocessor">#include&#32;&quot;<link linkend="__d_i_o_factory_8h">DIOFactory.h</link>&quot;</emphasis>
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00053"/>00053 <emphasis role="preprocessor">#include&#32;&quot;<link linkend="__hash_c_r_c32_8h">HashCRC32.h</link>&quot;</emphasis>
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00054"/>00054 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00055"/>00055 <emphasis role="preprocessor">#include&#32;&quot;<link linkend="__d_i_o_ping___x_event_8h">DIOPing_XEvent.h</link>&quot;</emphasis>
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00056"/>00056 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00057"/>00057 <emphasis role="preprocessor">#include&#32;&quot;<link linkend="__x_memory___control_8h">XMemory_Control.h</link>&quot;</emphasis>
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00058"/>00058 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00059"/>00059 <emphasis role="preprocessor">#pragma&#32;endregion</emphasis>
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00060"/>00060 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00061"/>00061 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00062"/>00062 <emphasis role="comment">/*----&#32;GENERAL&#32;VARIABLE&#32;----------------------------------------------------------------------------------------------*/</emphasis>
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00063"/>00063 <emphasis role="preprocessor">#pragma&#32;region&#32;GENERAL_VARIABLE</emphasis>
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00064"/>00064 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00065"/>00065 <link linkend="_class_d_i_o_p_i_n_g">DIOPING</link>*&#32;DIOPING::instance&#32;=&#32;<link linkend="__x_base_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</link>;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00066"/>00066 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00067"/>00067 <emphasis role="preprocessor">#pragma&#32;endregion</emphasis>
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00068"/>00068 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00069"/>00069 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00070"/>00070 <emphasis role="comment">/*----&#32;CLASS&#32;MEMBERS&#32;-------------------------------------------------------------------------------------------------*/</emphasis>
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00071"/>00071 <emphasis role="preprocessor">#pragma&#32;region&#32;CLASS_MEMBERS</emphasis>
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00072"/>00072 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00073"/>00073 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00074"/>00074 <emphasis role="preprocessor">#pragma&#32;region&#32;CLASS_DIOPINGREPLY</emphasis>
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00075"/>00075 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00076"/>00076 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00086"/><link linkend="_class_d_i_o_p_i_n_g_r_e_p_l_y_1a0890d88e39001818b125a41de2f22912">00086</link> <link linkend="_class_d_i_o_p_i_n_g_r_e_p_l_y_1a0890d88e39001818b125a41de2f22912">DIOPINGREPLY::DIOPINGREPLY</link>()
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00087"/>00087 {
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00088"/>00088 &#32;&#32;Clean();
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00089"/>00089 }
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00090"/>00090 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00091"/>00091 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00102"/><link linkend="_class_d_i_o_p_i_n_g_r_e_p_l_y_1a5a2cdc37cbbc34d4c49541dc22dd7e23">00102</link> <link linkend="_class_d_i_o_p_i_n_g_r_e_p_l_y_1a5a2cdc37cbbc34d4c49541dc22dd7e23">DIOPINGREPLY::~DIOPINGREPLY</link>()
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00103"/>00103 {
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00104"/>00104 &#32;&#32;Clean();
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00105"/>00105 }
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00106"/>00106 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00107"/>00107 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00117"/><link linkend="_class_d_i_o_p_i_n_g_r_e_p_l_y_1aff9ff783530d47f2130bd42aa5a4276e">00117</link> <link linkend="__x_base_8h_1a0e5b572e67f127f1afb599e257c539cf">XDWORD</link>&#32;<link linkend="_class_d_i_o_p_i_n_g_r_e_p_l_y_1aff9ff783530d47f2130bd42aa5a4276e">DIOPINGREPLY::GetSequence</link>()
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00118"/>00118 {
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00119"/>00119 &#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;sequence;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00120"/>00120 }
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00121"/>00121 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00122"/>00122 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00134"/><link linkend="_class_d_i_o_p_i_n_g_r_e_p_l_y_1ad15ef5ac477f5238e62ad8b6cf1b6986">00134</link> <emphasis role="keywordtype">void</emphasis>&#32;<link linkend="_class_d_i_o_p_i_n_g_r_e_p_l_y_1ad15ef5ac477f5238e62ad8b6cf1b6986">DIOPINGREPLY::SetSequence</link>(<link linkend="__x_base_8h_1a0e5b572e67f127f1afb599e257c539cf">XDWORD</link>&#32;sequence)
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00135"/>00135 {
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00136"/>00136 &#32;&#32;this-&gt;sequence&#32;&#32;=&#32;sequence;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00137"/>00137 }
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00138"/>00138 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00139"/>00139 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00149"/><link linkend="_class_d_i_o_p_i_n_g_r_e_p_l_y_1a7a8f2de1e2dc081a6d647063e68163d0">00149</link> <link linkend="_class_x_s_t_r_i_n_g">XSTRING</link>*&#32;<link linkend="_class_d_i_o_p_i_n_g_r_e_p_l_y_1a7a8f2de1e2dc081a6d647063e68163d0">DIOPINGREPLY::GetFromIP</link>()
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00150"/>00150 {
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00151"/>00151 &#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;&amp;fromIP;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00152"/>00152 }
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00153"/>00153 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00154"/>00154 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00164"/><link linkend="_class_d_i_o_p_i_n_g_r_e_p_l_y_1a46b727d0b1d498ac56c3549162aabd18">00164</link> <link linkend="__x_base_8h_1a0e5b572e67f127f1afb599e257c539cf">XDWORD</link>&#32;<link linkend="_class_d_i_o_p_i_n_g_r_e_p_l_y_1a46b727d0b1d498ac56c3549162aabd18">DIOPINGREPLY::GetSizeRequest</link>()
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00165"/>00165 {
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00166"/>00166 &#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;sizerequest;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00167"/>00167 }
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00168"/>00168 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00169"/>00169 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00181"/><link linkend="_class_d_i_o_p_i_n_g_r_e_p_l_y_1ae64e6edc7bf76eb880c1d9fa6babb41a">00181</link> <emphasis role="keywordtype">void</emphasis>&#32;<link linkend="_class_d_i_o_p_i_n_g_r_e_p_l_y_1ae64e6edc7bf76eb880c1d9fa6babb41a">DIOPINGREPLY::SetSizeRequest</link>(<link linkend="__x_base_8h_1a0e5b572e67f127f1afb599e257c539cf">XDWORD</link>&#32;sizerequest)
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00182"/>00182 {
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00183"/>00183 &#32;&#32;this-&gt;sizerequest&#32;=&#32;sizerequest;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00184"/>00184 }
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00185"/>00185 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00186"/>00186 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00196"/><link linkend="_class_d_i_o_p_i_n_g_r_e_p_l_y_1a6620f5f01afec5b11f79f36252609e3a">00196</link> <link linkend="__x_base_8h_1a0e5b572e67f127f1afb599e257c539cf">XDWORD</link>&#32;<link linkend="_class_d_i_o_p_i_n_g_r_e_p_l_y_1a6620f5f01afec5b11f79f36252609e3a">DIOPINGREPLY::GetTimeElapsed</link>()
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00197"/>00197 {
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00198"/>00198 &#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;timeelapsed;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00199"/>00199 }
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00200"/>00200 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00201"/>00201 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00213"/><link linkend="_class_d_i_o_p_i_n_g_r_e_p_l_y_1a8008eb7761c3231c19ad0c4ff96ecbf6">00213</link> <emphasis role="keywordtype">void</emphasis>&#32;<link linkend="_class_d_i_o_p_i_n_g_r_e_p_l_y_1a8008eb7761c3231c19ad0c4ff96ecbf6">DIOPINGREPLY::SetTimeElapsed</link>(<link linkend="__x_base_8h_1a0e5b572e67f127f1afb599e257c539cf">XDWORD</link>&#32;timeelapsed)
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00214"/>00214 {
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00215"/>00215 &#32;&#32;this-&gt;timeelapsed&#32;=&#32;timeelapsed;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00216"/>00216 }
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00217"/>00217 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00218"/>00218 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00228"/><link linkend="_class_d_i_o_p_i_n_g_r_e_p_l_y_1a9e3e29a50126057214cb1f2262d46b4f">00228</link> <link linkend="__x_base_8h_1a7ba3d378cab4450418bec78e604d47da">XBYTE</link>&#32;<link linkend="_class_d_i_o_p_i_n_g_r_e_p_l_y_1a9e3e29a50126057214cb1f2262d46b4f">DIOPINGREPLY::GetTTL</link>()
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00229"/>00229 {
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00230"/>00230 &#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;TTL;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00231"/>00231 }
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00232"/>00232 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00233"/>00233 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00245"/><link linkend="_class_d_i_o_p_i_n_g_r_e_p_l_y_1af8102ba313a8d529fc71673802cd2eb1">00245</link> <emphasis role="keywordtype">void</emphasis>&#32;<link linkend="_class_d_i_o_p_i_n_g_r_e_p_l_y_1af8102ba313a8d529fc71673802cd2eb1">DIOPINGREPLY::SetTTL</link>(<link linkend="__x_base_8h_1a7ba3d378cab4450418bec78e604d47da">XBYTE</link>&#32;TTL)
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00246"/>00246 {
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00247"/>00247 &#32;&#32;this-&gt;TTL&#32;=&#32;TTL;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00248"/>00248 }
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00249"/>00249 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00250"/>00250 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00261"/>00261 <emphasis role="keywordtype">void</emphasis>&#32;DIOPINGREPLY::Clean()
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00262"/>00262 {
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00263"/>00263 &#32;&#32;sequence&#32;&#32;&#32;&#32;&#32;&#32;=&#32;0;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00264"/>00264 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00265"/>00265 &#32;&#32;fromIP.<link linkend="_class_x_s_t_r_i_n_g_1a9275997c1605fa79646c301e63a77d06">Empty</link>();
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00266"/>00266 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00267"/>00267 &#32;&#32;sizerequest&#32;&#32;&#32;=&#32;0;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00268"/>00268 &#32;&#32;timeelapsed&#32;&#32;&#32;=&#32;0;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00269"/>00269 &#32;&#32;TTL&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;=&#32;0;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00270"/>00270 }
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00271"/>00271 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00272"/>00272 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00273"/>00273 <emphasis role="preprocessor">#pragma&#32;endregion</emphasis>
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00274"/>00274 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00275"/>00275 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00276"/>00276 <emphasis role="preprocessor">#pragma&#32;region&#32;CLASS_DIOPING</emphasis>
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00277"/>00277 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00278"/>00278 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00288"/><link linkend="_class_d_i_o_p_i_n_g_1a87867d2631585df573df31460db7fd67">00288</link> <link linkend="_class_d_i_o_p_i_n_g_1a87867d2631585df573df31460db7fd67">DIOPING::DIOPING</link>()
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00289"/>00289 {
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00290"/>00290 &#32;&#32;Clean();
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00291"/>00291 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00292"/>00292 &#32;&#32;<link linkend="_class_x_s_u_b_j_e_c_t_1ac83006698567c749aecf727dddef5d9c">RegisterEvent</link>(<link linkend="__d_i_o_ping___x_event_8h_1af257017f982acb3d112970c96cad1155a5dc351afb5794b3d65438ec7b5fd73e5">DIOPING_XEVENT_TYPE_DOPING</link>);
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00293"/>00293 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00294"/>00294 &#32;&#32;GEN_XFACTORY_CREATE(<link linkend="_class_d_i_o_p_i_n_g_1ad7348cf5f34bcb13e51b211f8479b54f">xtimer</link>,&#32;CreateTimer())
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00295"/>00295 &#32;&#32;GEN_XFACTORY_CREATE(<link linkend="_class_d_i_o_p_i_n_g_1a12b0479761b5d9f37a0890dd9fc28bcb">xmutexreplys</link>,&#32;Create_Mutex())
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00296"/>00296 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00297"/>00297 &#32;&#32;<link linkend="_class_d_i_o_p_i_n_g_1ac331c897792d0e552de837a98b0c79c2">urltarget</link>&#32;=&#32;<emphasis role="keyword">new</emphasis>&#32;<link linkend="_class_d_i_o_u_r_l">DIOURL</link>();
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00298"/>00298 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00299"/>00299 &#32;&#32;<link linkend="_class_h_a_s_h_c_r_c32">HASHCRC32</link>&#32;crc32;&#32;&#32;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00300"/>00300 &#32;&#32;<link linkend="_class_x_b_u_f_f_e_r">XBUFFER</link>&#32;&#32;&#32;xbuffer;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00301"/>00301 &#32;&#32;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00302"/>00302 &#32;&#32;<link linkend="_class_x_r_a_n_d">XRAND</link>*&#32;GEN_XFACTORY_CREATE(xrand,&#32;CreateRand())
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00303"/>00303 &#32;&#32;<emphasis role="keywordflow">if</emphasis>(xrand)
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00304"/>00304 &#32;&#32;&#32;&#32;{
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00305"/>00305 &#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">for</emphasis>(<emphasis role="keywordtype">int</emphasis>&#32;c=0;&#32;c&lt;128;&#32;c++)
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00306"/>00306 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00307"/>00307 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;xbuffer.<link linkend="_class_x_b_u_f_f_e_r_1a03212e4f31a9d07995ac4f72db1dd0cf">Add</link>((<link linkend="__x_base_8h_1a7ba3d378cab4450418bec78e604d47da">XBYTE</link>)xrand-&gt;Max(255));
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00308"/>00308 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00309"/>00309 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00310"/>00310 &#32;&#32;&#32;&#32;&#32;&#32;crc32.<link linkend="_class_h_a_s_h_c_r_c32_1ab01cc6a04a2c4ee67dcca98c7b233913">ResetResult</link>();
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00311"/>00311 &#32;&#32;&#32;&#32;&#32;&#32;crc32.<link linkend="_class_h_a_s_h_c_r_c32_1a170fa5c716219e92d4724553d6e8e0ce">Do</link>(xbuffer);
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00312"/>00312 &#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_class_d_i_o_p_i_n_g_1a60f169aaddf8119cf8f3f217fdbcbbdf">applicationID</link>&#32;=&#32;crc32.<link linkend="_class_h_a_s_h_c_r_c32_1ab33e363f6374a0e559e99f2f80e5abf6">GetResultCRC32</link>();
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00313"/>00313 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00314"/>00314 &#32;&#32;&#32;&#32;&#32;&#32;GEN_XFACTORY.DeleteRand(xrand);
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00315"/>00315 &#32;&#32;&#32;&#32;}
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00316"/>00316 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00317"/>00317 &#32;&#32;GEN_XFACTORY_CREATE(<link linkend="_class_d_i_o_p_i_n_g_1aaa0cdf7c8bc04f82edfd189d3779a7e9">xmutexping</link>,&#32;Create_Mutex());&#32;&#32;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00318"/>00318 }
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00319"/>00319 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00320"/>00320 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00331"/><link linkend="_class_d_i_o_p_i_n_g_1a1ca67e8a937d684e0759a68a48f3b1c3">00331</link> <link linkend="_class_d_i_o_p_i_n_g_1a1ca67e8a937d684e0759a68a48f3b1c3">DIOPING::~DIOPING</link>()
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00332"/>00332 {
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00333"/>00333 &#32;&#32;<link linkend="_class_x_s_u_b_j_e_c_t_1ab78992063b09d37612e7719e37d415bc">DeRegisterEvent</link>(<link linkend="__d_i_o_ping___x_event_8h_1af257017f982acb3d112970c96cad1155a5dc351afb5794b3d65438ec7b5fd73e5">DIOPING_XEVENT_TYPE_DOPING</link>);
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00334"/>00334 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00335"/>00335 &#32;&#32;<link linkend="_class_d_i_o_p_i_n_g_1ab0766ead8ed90a8e99e7ecef20ad4deb">DeleteAllReplys</link>();
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00336"/>00336 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00337"/>00337 &#32;&#32;<emphasis role="keywordflow">if</emphasis>(<link linkend="_class_d_i_o_p_i_n_g_1ad7348cf5f34bcb13e51b211f8479b54f">xtimer</link>)&#32;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00338"/>00338 &#32;&#32;&#32;&#32;{
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00339"/>00339 &#32;&#32;&#32;&#32;&#32;&#32;GEN_XFACTORY.DeleteTimer(<link linkend="_class_d_i_o_p_i_n_g_1ad7348cf5f34bcb13e51b211f8479b54f">xtimer</link>);
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00340"/>00340 &#32;&#32;&#32;&#32;}
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00341"/>00341 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00342"/>00342 &#32;&#32;<emphasis role="keywordflow">if</emphasis>(<link linkend="_class_d_i_o_p_i_n_g_1ac331c897792d0e552de837a98b0c79c2">urltarget</link>)&#32;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00343"/>00343 &#32;&#32;&#32;&#32;{
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00344"/>00344 &#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">delete</emphasis>&#32;<link linkend="_class_d_i_o_p_i_n_g_1ac331c897792d0e552de837a98b0c79c2">urltarget</link>;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00345"/>00345 &#32;&#32;&#32;&#32;}
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00346"/>00346 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00347"/>00347 &#32;&#32;<emphasis role="keywordflow">if</emphasis>(<link linkend="_class_d_i_o_p_i_n_g_1a12b0479761b5d9f37a0890dd9fc28bcb">xmutexreplys</link>)&#32;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00348"/>00348 &#32;&#32;&#32;&#32;{
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00349"/>00349 &#32;&#32;&#32;&#32;&#32;&#32;GEN_XFACTORY.Delete_Mutex(<link linkend="_class_d_i_o_p_i_n_g_1a12b0479761b5d9f37a0890dd9fc28bcb">xmutexreplys</link>);
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00350"/>00350 &#32;&#32;&#32;&#32;}&#32;&#32;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00351"/>00351 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00352"/>00352 &#32;&#32;<emphasis role="keywordflow">if</emphasis>(<link linkend="_class_d_i_o_p_i_n_g_1aaa0cdf7c8bc04f82edfd189d3779a7e9">xmutexping</link>)&#32;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00353"/>00353 &#32;&#32;&#32;&#32;{
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00354"/>00354 &#32;&#32;&#32;&#32;&#32;&#32;GEN_XFACTORY.Delete_Mutex(<link linkend="_class_d_i_o_p_i_n_g_1aaa0cdf7c8bc04f82edfd189d3779a7e9">xmutexping</link>);
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00355"/>00355 &#32;&#32;&#32;&#32;}&#32;&#32;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00356"/>00356 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00357"/>00357 &#32;&#32;Clean();
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00358"/>00358 }
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00359"/>00359 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00360"/>00360 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00370"/><link linkend="_class_d_i_o_p_i_n_g_1acac150d01fb95af5b450dc451d3fffc8">00370</link> <emphasis role="keywordtype">bool</emphasis>&#32;<link linkend="_class_d_i_o_p_i_n_g_1acac150d01fb95af5b450dc451d3fffc8">DIOPING::GetIsInstanced</link>()
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00371"/>00371 {
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00372"/>00372 &#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;instance!=<link linkend="__x_base_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</link>;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00373"/>00373 }
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00374"/>00374 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00375"/>00375 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00385"/><link linkend="_class_d_i_o_p_i_n_g_1af09b5bfb7a8a33beb77e9011db116282">00385</link> <link linkend="_class_d_i_o_p_i_n_g">DIOPING</link>&amp;&#32;<link linkend="_class_d_i_o_p_i_n_g_1af09b5bfb7a8a33beb77e9011db116282">DIOPING::GetInstance</link>()
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00386"/>00386 {
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00387"/>00387 &#32;&#32;<emphasis role="keywordflow">if</emphasis>(!instance)&#32;instance&#32;=&#32;<emphasis role="keyword">new</emphasis>&#32;<link linkend="_class_d_i_o_p_i_n_g_1a87867d2631585df573df31460db7fd67">DIOPING</link>();
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00388"/>00388 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00389"/>00389 &#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;(*instance);
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00390"/>00390 }
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00391"/>00391 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00392"/>00392 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00404"/><link linkend="_class_d_i_o_p_i_n_g_1a7a251ef02eff6917fb140b776f62e7bd">00404</link> <emphasis role="keywordtype">bool</emphasis>&#32;<link linkend="_class_d_i_o_p_i_n_g_1a7a251ef02eff6917fb140b776f62e7bd">DIOPING::SetInstance</link>(<link linkend="_class_d_i_o_p_i_n_g">DIOPING</link>*&#32;_instance)
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00405"/>00405 {
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00406"/>00406 &#32;&#32;<emphasis role="keywordflow">if</emphasis>(!_instance)&#32;<emphasis role="keywordflow">return</emphasis>&#32;<emphasis role="keyword">false</emphasis>;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00407"/>00407 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00408"/>00408 &#32;&#32;instance&#32;=&#32;_instance;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00409"/>00409 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00410"/>00410 &#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;(instance)?<emphasis role="keyword">true</emphasis>:<emphasis role="keyword">false</emphasis>;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00411"/>00411 }
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00412"/>00412 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00413"/>00413 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00423"/><link linkend="_class_d_i_o_p_i_n_g_1ad2d4ca046ecb016cc48e647466f5903c">00423</link> <emphasis role="keywordtype">bool</emphasis>&#32;<link linkend="_class_d_i_o_p_i_n_g_1ad2d4ca046ecb016cc48e647466f5903c">DIOPING::DelInstance</link>()
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00424"/>00424 {
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00425"/>00425 &#32;&#32;<emphasis role="keywordflow">if</emphasis>(instance)
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00426"/>00426 &#32;&#32;&#32;&#32;{
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00427"/>00427 &#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">delete</emphasis>&#32;instance;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00428"/>00428 &#32;&#32;&#32;&#32;&#32;&#32;instance&#32;=&#32;<link linkend="__x_base_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</link>;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00429"/>00429 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00430"/>00430 &#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;<emphasis role="keyword">true</emphasis>;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00431"/>00431 &#32;&#32;&#32;&#32;}
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00432"/>00432 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00433"/>00433 &#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;<emphasis role="keyword">false</emphasis>;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00434"/>00434 }
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00435"/>00435 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00436"/>00436 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00446"/><link linkend="_class_d_i_o_p_i_n_g_1ac47afe76a538361c4035400b92b66ae3">00446</link> <link linkend="_class_d_i_o_u_r_l">DIOURL</link>*&#32;<link linkend="_class_d_i_o_p_i_n_g_1ac47afe76a538361c4035400b92b66ae3">DIOPING::GetTarget</link>()
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00447"/>00447 {
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00448"/>00448 &#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;<link linkend="_class_d_i_o_p_i_n_g_1ac331c897792d0e552de837a98b0c79c2">urltarget</link>;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00449"/>00449 }
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00450"/>00450 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00451"/>00451 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00464"/><link linkend="_class_d_i_o_p_i_n_g_1ae95d434d0223437b09dac3427b022ad6">00464</link> <emphasis role="keywordtype">bool</emphasis>&#32;<link linkend="_class_d_i_o_p_i_n_g_1ae95d434d0223437b09dac3427b022ad6">DIOPING::Set</link>(<link linkend="__x_string_8h_1a03209152a681f02e4ba73b6681dd4968">XCHAR</link>*&#32;urltarget&#32;,&#32;<link linkend="__x_string_8h_1a03209152a681f02e4ba73b6681dd4968">XCHAR</link>*&#32;IPLocal)
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00465"/>00465 {
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00466"/>00466 &#32;&#32;<emphasis role="keywordflow">if</emphasis>(this-&gt;urltarget)&#32;(*this-&gt;<link linkend="_class_d_i_o_p_i_n_g_1ac331c897792d0e552de837a98b0c79c2">urltarget</link>)&#32;=&#32;urltarget;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00467"/>00467 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00468"/>00468 &#32;&#32;<emphasis role="keywordflow">if</emphasis>(<link linkend="_class_d_i_o_p_i_n_g_1a34888d98be158ab9e19a7fe9c85444f0">IPLocal</link>)&#32;this-&gt;IPLocal&#32;=&#32;<link linkend="_class_d_i_o_p_i_n_g_1a34888d98be158ab9e19a7fe9c85444f0">IPLocal</link>;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00469"/>00469 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00470"/>00470 &#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;<emphasis role="keyword">true</emphasis>;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00471"/>00471 }
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00472"/>00472 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00473"/>00473 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00486"/><link linkend="_class_d_i_o_p_i_n_g_1aa0791cc07c1dc4679d9aaf46f4785e18">00486</link> <emphasis role="keywordtype">bool</emphasis>&#32;<link linkend="_class_d_i_o_p_i_n_g_1ae95d434d0223437b09dac3427b022ad6">DIOPING::Set</link>(<link linkend="_class_d_i_o_u_r_l">DIOURL</link>&amp;&#32;urltarget,&#32;<link linkend="__x_string_8h_1a03209152a681f02e4ba73b6681dd4968">XCHAR</link>*&#32;IPLocal)
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00487"/>00487 {
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00488"/>00488 &#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;<link linkend="_class_d_i_o_p_i_n_g_1ae95d434d0223437b09dac3427b022ad6">Set</link>(<link linkend="_class_d_i_o_p_i_n_g_1ac331c897792d0e552de837a98b0c79c2">urltarget</link>.<link linkend="_class_x_s_t_r_i_n_g_1ad1470753a96f93e2feb3ee54e6fef95f">Get</link>(),&#32;<link linkend="_class_d_i_o_p_i_n_g_1a34888d98be158ab9e19a7fe9c85444f0">IPLocal</link>);
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00489"/>00489 }
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00490"/>00490 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00491"/>00491 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00505"/><link linkend="_class_d_i_o_p_i_n_g_1a8d13b667309c587574afb2e4570564f9">00505</link> <emphasis role="keywordtype">bool</emphasis>&#32;<link linkend="_class_d_i_o_p_i_n_g_1a8d13b667309c587574afb2e4570564f9">DIOPING::Do</link>(<link linkend="__x_base_8h_1a0e5b572e67f127f1afb599e257c539cf">XDWORD</link>&#32;nretries,&#32;<link linkend="__x_base_8h_1a0e5b572e67f127f1afb599e257c539cf">XDWORD</link>&#32;timebetweenchecks,&#32;<emphasis role="keywordtype">bool</emphasis>&#32;exitfirstgoodreply)
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00506"/>00506 {
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00507"/>00507 &#32;&#32;<emphasis role="keywordflow">if</emphasis>(!<link linkend="_class_d_i_o_p_i_n_g_1ac331c897792d0e552de837a98b0c79c2">urltarget</link>)&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;<emphasis role="keyword">false</emphasis>;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00508"/>00508 &#32;&#32;<emphasis role="keywordflow">if</emphasis>(!<link linkend="_class_d_i_o_p_i_n_g_1ad7348cf5f34bcb13e51b211f8479b54f">xtimer</link>)&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;<emphasis role="keyword">false</emphasis>;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00509"/>00509 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00510"/>00510 &#32;&#32;<emphasis role="keywordflow">if</emphasis>(<link linkend="_class_d_i_o_p_i_n_g_1aaa0cdf7c8bc04f82edfd189d3779a7e9">xmutexping</link>)
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00511"/>00511 &#32;&#32;&#32;&#32;{
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00512"/>00512 &#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_class_d_i_o_p_i_n_g_1aaa0cdf7c8bc04f82edfd189d3779a7e9">xmutexping</link>-&gt;<link linkend="_class_x_m_u_t_e_x_1ae6d5410f1787702c59c2eae9e8b85b74">Lock</link>();
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00513"/>00513 &#32;&#32;&#32;&#32;}
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00514"/>00514 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00515"/>00515 &#32;&#32;<link linkend="_class_d_i_o_s_t_r_e_a_m_i_c_m_p_c_o_n_f_i_g">DIOSTREAMICMPCONFIG</link>&#32;&#32;&#32;diostreamICMPconfig;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00516"/>00516 &#32;&#32;<link linkend="_class_x_s_t_r_i_n_g">XSTRING</link>&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;targetIP;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00517"/>00517 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00518"/>00518 &#32;&#32;<link linkend="_class_d_i_o_p_i_n_g_1ab0766ead8ed90a8e99e7ecef20ad4deb">DeleteAllReplys</link>();
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00519"/>00519 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00520"/>00520 &#32;&#32;<link linkend="_class_d_i_o_p_i_n_g_1ac331c897792d0e552de837a98b0c79c2">urltarget</link>-&gt;<link linkend="_class_d_i_o_u_r_l_1aead21c974345fd5c3367a6a4aa093596">ResolveURL</link>(targetIP);
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00521"/>00521 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00522"/>00522 &#32;&#32;diostreamICMPconfig.<link linkend="_class_d_i_o_s_t_r_e_a_m_i_c_m_p_c_o_n_f_i_g_1a474dc28409291671862c42e0a0165b7f">GetRemoteURL</link>()-&gt;<link linkend="_class_x_s_t_r_i_n_g_1a4e97e075650e9bc8cfb7deb28e4c9ce4">Set</link>(<link linkend="_class_d_i_o_p_i_n_g_1ac331c897792d0e552de837a98b0c79c2">urltarget</link>-&gt;<link linkend="_class_x_s_t_r_i_n_g_1ad1470753a96f93e2feb3ee54e6fef95f">Get</link>());
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00523"/>00523 &#32;&#32;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00524"/>00524 &#32;&#32;diostreamICMPconfig.<link linkend="_class_d_i_o_s_t_r_e_a_m_c_o_n_f_i_g_1a458e110078121992cb1597c8a184c02d">SetMode</link>(<link linkend="__d_i_o_stream_config_8h_1ae47ddf801d21b825b353ae3a3008ceccae2f1cd5b3bdb86e59afda7eb0f8a91a8">DIOSTREAMMODE_CLIENT</link>);
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00525"/>00525 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00526"/>00526 &#32;&#32;<link linkend="_class_d_i_o_s_t_r_e_a_m_i_c_m_p">DIOSTREAMICMP</link>*&#32;diostreamICMP&#32;&#32;=&#32;(<link linkend="_class_d_i_o_s_t_r_e_a_m_i_c_m_p">DIOSTREAMICMP</link>*)GEN_DIOFACTORY.CreateStreamIO(&amp;diostreamICMPconfig);
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00527"/>00527 &#32;&#32;<emphasis role="keywordflow">if</emphasis>(!diostreamICMP)&#32;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00528"/>00528 &#32;&#32;&#32;&#32;{
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00529"/>00529 &#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>(<link linkend="_class_d_i_o_p_i_n_g_1aaa0cdf7c8bc04f82edfd189d3779a7e9">xmutexping</link>)
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00530"/>00530 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00531"/>00531 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_class_d_i_o_p_i_n_g_1aaa0cdf7c8bc04f82edfd189d3779a7e9">xmutexping</link>-&gt;<link linkend="_class_x_m_u_t_e_x_1afed160c15de8de926a73f4ce978f0bc0">UnLock</link>();
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00532"/>00532 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00533"/>00533 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00534"/>00534 &#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;<emphasis role="keyword">false</emphasis>;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00535"/>00535 &#32;&#32;&#32;&#32;}
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00536"/>00536 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00537"/>00537 &#32;&#32;<emphasis role="keywordflow">if</emphasis>(!diostreamICMP-&gt;<link linkend="_class_d_i_o_s_t_r_e_a_m_i_c_m_p_1a04ed899ed05ed7f827f271e23658ed88">Open</link>())
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00538"/>00538 &#32;&#32;&#32;&#32;{
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00539"/>00539 &#32;&#32;&#32;&#32;&#32;&#32;GEN_DIOFACTORY.DeleteStreamIO(diostreamICMP);
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00540"/>00540 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00541"/>00541 &#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>(<link linkend="_class_d_i_o_p_i_n_g_1aaa0cdf7c8bc04f82edfd189d3779a7e9">xmutexping</link>)
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00542"/>00542 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00543"/>00543 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_class_d_i_o_p_i_n_g_1aaa0cdf7c8bc04f82edfd189d3779a7e9">xmutexping</link>-&gt;<link linkend="_class_x_m_u_t_e_x_1afed160c15de8de926a73f4ce978f0bc0">UnLock</link>();
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00544"/>00544 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00545"/>00545 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00546"/>00546 &#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;<emphasis role="keyword">false</emphasis>;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00547"/>00547 &#32;&#32;&#32;&#32;}
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00548"/>00548 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00549"/>00549 &#32;&#32;<emphasis role="keywordflow">if</emphasis>(!diostreamICMP-&gt;<link linkend="_class_d_i_o_s_t_r_e_a_m_1acff76db4bc54a48fe2d2ceb165835c2f">WaitToConnected</link>(5))
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00550"/>00550 &#32;&#32;&#32;&#32;{
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00551"/>00551 &#32;&#32;&#32;&#32;&#32;&#32;diostreamICMP-&gt;<link linkend="_class_d_i_o_s_t_r_e_a_m_i_c_m_p_1a1ab09be0aa3dbbeb0adb662130c5bb3b">Close</link>();
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00552"/>00552 &#32;&#32;&#32;&#32;&#32;&#32;GEN_DIOFACTORY.DeleteStreamIO(diostreamICMP);
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00553"/>00553 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00554"/>00554 &#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>(<link linkend="_class_d_i_o_p_i_n_g_1aaa0cdf7c8bc04f82edfd189d3779a7e9">xmutexping</link>)
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00555"/>00555 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00556"/>00556 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_class_d_i_o_p_i_n_g_1aaa0cdf7c8bc04f82edfd189d3779a7e9">xmutexping</link>-&gt;<link linkend="_class_x_m_u_t_e_x_1afed160c15de8de926a73f4ce978f0bc0">UnLock</link>();
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00557"/>00557 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00558"/>00558 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00559"/>00559 &#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;<emphasis role="keyword">false</emphasis>;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00560"/>00560 &#32;&#32;&#32;&#32;}
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00561"/>00561 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00562"/>00562 &#32;&#32;<link linkend="_struct_d_i_o_p_i_n_g___e_c_h_o_r_e_q_u_e_s_t">DIOPING_ECHOREQUEST</link>&#32;echorequest;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00563"/>00563 &#32;&#32;<emphasis role="keywordtype">int</emphasis>&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;ID&#32;&#32;&#32;&#32;=&#32;0xCAFE;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00564"/>00564 &#32;&#32;<emphasis role="keywordtype">int</emphasis>&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;nseq&#32;&#32;=&#32;2;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00565"/>00565 &#32;&#32;<emphasis role="keywordtype">int</emphasis>&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;nloop&#32;=&#32;<link linkend="_class_d_i_o_p_i_n_g_1a5632688c224c7d908908a291890fd69e">nretries</link>;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00566"/>00566 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00567"/>00567 &#32;&#32;<emphasis role="keywordflow">while</emphasis>(nloop)
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00568"/>00568 &#32;&#32;&#32;&#32;{
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00569"/>00569 &#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_class_h_a_s_h_c_r_c32">HASHCRC32</link>&#32;crc32;&#32;&#32;&#32;&#32;&#32;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00570"/>00570 &#32;&#32;&#32;&#32;&#32;&#32;<link linkend="__x_base_8h_1a0e5b572e67f127f1afb599e257c539cf">XDWORD</link>&#32;&#32;&#32;&#32;crc32result;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00571"/>00571 &#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_class_x_s_t_r_i_n_g">XSTRING</link>&#32;&#32;&#32;address;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00572"/>00572 &#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_class_x_b_u_f_f_e_r">XBUFFER</link>&#32;&#32;&#32;xbuffer;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00573"/>00573 &#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordtype">bool</emphasis>&#32;&#32;&#32;&#32;&#32;&#32;status&#32;&#32;&#32;&#32;&#32;&#32;&#32;=&#32;<emphasis role="keyword">false</emphasis>;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00574"/>00574 &#32;&#32;&#32;&#32;&#32;&#32;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00575"/>00575 &#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_class_x_r_a_n_d">XRAND</link>*&#32;GEN_XFACTORY_CREATE(xrand,&#32;CreateRand())
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00576"/>00576 &#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>(!xrand)&#32;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00577"/>00577 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00578"/>00578 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">break</emphasis>;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00579"/>00579 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00580"/>00580 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00581"/>00581 &#32;&#32;&#32;&#32;&#32;&#32;memset((<link linkend="__x_base_8h_1a7ba3d378cab4450418bec78e604d47da">XBYTE</link>*)&amp;echorequest,&#32;0,&#32;<emphasis role="keyword">sizeof</emphasis>(<link linkend="_struct_d_i_o_p_i_n_g___e_c_h_o_r_e_q_u_e_s_t">DIOPING_ECHOREQUEST</link>));
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00582"/>00582 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00583"/>00583 &#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;Fill&#32;in&#32;echo&#32;request</emphasis>
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00584"/>00584 &#32;&#32;&#32;&#32;&#32;&#32;echorequest.icmphdr.type&#32;&#32;&#32;&#32;&#32;&#32;=&#32;<link linkend="__d_i_o_ping_8h_1a00c3643f127cec6beb9b9d897baebd4b">DIOPING_ICMP_ECHOREQ</link>;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00585"/>00585 &#32;&#32;&#32;&#32;&#32;&#32;echorequest.icmphdr.code&#32;&#32;&#32;&#32;&#32;&#32;=&#32;0;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00586"/>00586 &#32;&#32;&#32;&#32;&#32;&#32;echorequest.icmphdr.ID&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;=&#32;ID;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00587"/>00587 &#32;&#32;&#32;&#32;&#32;&#32;echorequest.icmphdr.seq&#32;&#32;&#32;&#32;&#32;&#32;&#32;=&#32;nseq++;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00588"/>00588 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00589"/>00589 &#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//Fill&#32;in&#32;some&#32;data&#32;to&#32;send</emphasis>
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00590"/>00590 &#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">for</emphasis>(<emphasis role="keywordtype">int</emphasis>&#32;nret=0;&#32;nret&lt;<link linkend="__d_i_o_ping_8h_1af4945925c0becb45fab8235dcb4f81b8">DIOPING_REQ_TICKETSIZE</link>;&#32;nret++)
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00591"/>00591 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00592"/>00592 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;echorequest.cdata[nret]&#32;=&#32;xrand-&gt;Max(255);
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00593"/>00593 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00594"/>00594 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00595"/>00595 &#32;&#32;&#32;&#32;&#32;&#32;GEN_XFACTORY.DeleteRand(xrand);
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00596"/>00596 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00597"/>00597 &#32;&#32;&#32;&#32;&#32;&#32;crc32.<link linkend="_class_h_a_s_h_c_r_c32_1ab01cc6a04a2c4ee67dcca98c7b233913">ResetResult</link>();
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00598"/>00598 &#32;&#32;&#32;&#32;&#32;&#32;crc32.<link linkend="_class_h_a_s_h_c_r_c32_1a170fa5c716219e92d4724553d6e8e0ce">Do</link>((<link linkend="__x_base_8h_1a7ba3d378cab4450418bec78e604d47da">XBYTE</link>*)echorequest.cdata,&#32;<link linkend="__d_i_o_ping_8h_1af4945925c0becb45fab8235dcb4f81b8">DIOPING_REQ_TICKETSIZE</link>);
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00599"/>00599 &#32;&#32;&#32;&#32;&#32;&#32;crc32result&#32;=&#32;crc32.<link linkend="_class_h_a_s_h_c_r_c32_1ab33e363f6374a0e559e99f2f80e5abf6">GetResultCRC32</link>();
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00600"/>00600 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00601"/>00601 &#32;&#32;&#32;&#32;&#32;&#32;echorequest.applicationID&#32;&#32;&#32;&#32;&#32;=&#32;<link linkend="_class_d_i_o_p_i_n_g_1a60f169aaddf8119cf8f3f217fdbcbbdf">applicationID</link>;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00602"/>00602 &#32;&#32;&#32;&#32;&#32;&#32;echorequest.time&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;=&#32;(<link linkend="__x_base_8h_1a0e5b572e67f127f1afb599e257c539cf">XDWORD</link>)<link linkend="_class_d_i_o_p_i_n_g_1ad7348cf5f34bcb13e51b211f8479b54f">xtimer</link>-&gt;<link linkend="_class_x_t_i_m_e_r_1af717958e388241b795608d32b7a1d836">GetMicroSecondsTickCounter</link>();&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;Save&#32;tick&#32;count&#32;when&#32;sent</emphasis>
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00603"/>00603 &#32;&#32;&#32;&#32;&#32;&#32;echorequest.icmphdr.checksum&#32;&#32;=&#32;<link linkend="_class_d_i_o_p_i_n_g_1a97ffe8656f207daa9e6e174ee835bd96">CalculeCheckSum</link>((<link linkend="__x_base_8h_1a3f1fe1487089bc987e3d549a9064e653">XWORD</link>&#32;*)&amp;echorequest,&#32;<emphasis role="keyword">sizeof</emphasis>(<link linkend="_struct_d_i_o_p_i_n_g___e_c_h_o_r_e_q_u_e_s_t">DIOPING_ECHOREQUEST</link>));&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;Put&#32;data&#32;in&#32;packet&#32;and&#32;compute&#32;checksum</emphasis>
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00604"/>00604 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00605"/>00605 &#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>(echorequest.icmphdr.checksum)
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00606"/>00606 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00607"/>00607 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;diostreamICMP-&gt;<link linkend="_class_d_i_o_s_t_r_e_a_m_1aa48e892d5c3e70987015f1858d4df326">GetInXBuffer</link>()-&gt;<link linkend="_class_x_b_u_f_f_e_r_1a0395231705663a2aeeee3b4be9d292bb">Delete</link>();
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00608"/>00608 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;diostreamICMP-&gt;<link linkend="_class_d_i_o_s_t_r_e_a_m_1abba2f238a0d8360b0208fca4041a52d0">GetOutXBuffer</link>()-&gt;<link linkend="_class_x_b_u_f_f_e_r_1a0395231705663a2aeeee3b4be9d292bb">Delete</link>();
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00609"/>00609 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;diostreamICMP-&gt;<link linkend="_class_d_i_o_s_t_r_e_a_m_i_c_m_p_1a6eec33e0c90488c0e5409107b48c2187">DeleteAllDatagrams</link>();
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00610"/>00610 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00611"/>00611 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;status&#32;=&#32;diostreamICMP-&gt;<link linkend="_class_d_i_o_s_t_r_e_a_m_i_c_m_p_1a195b2f6b4b7beeee2db4a3a85da71b00">WriteDatagram</link>(targetIP,&#32;(<link linkend="__x_base_8h_1a7ba3d378cab4450418bec78e604d47da">XBYTE</link>*)&amp;echorequest,&#32;<emphasis role="keyword">sizeof</emphasis>(<link linkend="_struct_d_i_o_p_i_n_g___e_c_h_o_r_e_q_u_e_s_t">DIOPING_ECHOREQUEST</link>));
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00612"/>00612 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>(status)&#32;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00613"/>00613 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00614"/>00614 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;status&#32;=&#32;diostreamICMP-&gt;<link linkend="_class_d_i_o_s_t_r_e_a_m_1a59dc380e213dd083940c80663667dae7">WaitToFlushOutXBuffer</link>(3);
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00615"/>00615 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00616"/>00616 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00617"/>00617 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00618"/>00618 &#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>(!status)
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00619"/>00619 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00620"/>00620 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//XTRACE_PRINTCOLOR(XTRACE_COLOR_RED,&#32;__L(&quot;[Ping]&#32;not&#32;write&#32;packet!&#32;%s&quot;),&#32;targetIP.Get());</emphasis>
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00621"/>00621 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">break</emphasis>;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00622"/>00622 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00623"/>00623 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00624"/>00624 &#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">while</emphasis>(1)
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00625"/>00625 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00626"/>00626 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;status&#32;=&#32;diostreamICMP-&gt;<link linkend="_class_d_i_o_s_t_r_e_a_m_1a6e20f03ff391343123fda221a5c2ed85">WaitToFilledReadingBuffer</link>(<emphasis role="keyword">sizeof</emphasis>(<link linkend="_struct_d_i_o_p_i_n_g___e_c_h_o_r_e_p_l_y">DIOPING_ECHOREPLY</link>),&#32;1);
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00627"/>00627 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>(!status)
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00628"/>00628 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00629"/>00629 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//XTRACE_PRINTCOLOR(XTRACE_COLOR_RED,&#32;__L(&quot;[Ping]&#32;not&#32;ready&#32;packet!&#32;%s&quot;),&#32;targetIP.Get());</emphasis>
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00630"/>00630 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>(exitfirstgoodreply)&#32;&#32;nloop&#32;=&#32;0;&#32;&#32;<emphasis role="keywordflow">else</emphasis>&#32;nloop--;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00631"/>00631 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">break</emphasis>;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00632"/>00632 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00633"/>00633 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00634"/>00634 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;status&#32;=&#32;diostreamICMP-&gt;<link linkend="_class_d_i_o_s_t_r_e_a_m_i_c_m_p_1ad79833b68ef4c3432ff7321c7c8761f8">ReadDatagram</link>(address,&#32;xbuffer);
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00635"/>00635 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>(!status)
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00636"/>00636 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00637"/>00637 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//XTRACE_PRINTCOLOR(XTRACE_COLOR_RED,&#32;__L(&quot;[Ping]&#32;not&#32;read&#32;packet!&#32;%s&quot;),&#32;targetIP.Get());</emphasis>
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00638"/>00638 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>(exitfirstgoodreply)&#32;&#32;nloop&#32;=&#32;0;&#32;&#32;<emphasis role="keywordflow">else</emphasis>&#32;nloop--;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00639"/>00639 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">break</emphasis>;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00640"/>00640 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00641"/>00641 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00642"/>00642 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>(xbuffer.<link linkend="_class_x_b_u_f_f_e_r_1a726a6143d8a9293a199f8033c8198a0a">GetSize</link>()&#32;&lt;&#32;<emphasis role="keyword">sizeof</emphasis>(<link linkend="_struct_d_i_o_p_i_n_g___e_c_h_o_r_e_p_l_y">DIOPING_ECHOREPLY</link>))
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00643"/>00643 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00644"/>00644 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//XTRACE_PRINTCOLOR(XTRACE_COLOR_RED,&#32;__L(&quot;[Ping]&#32;invalid&#32;size&#32;packet!&#32;%s,&#32;&quot;),&#32;targetIP.Get());</emphasis>
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00645"/>00645 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">continue</emphasis>;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00646"/>00646 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00647"/>00647 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00648"/>00648 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_struct_d_i_o_p_i_n_g___e_c_h_o_r_e_p_l_y">DIOPING_ECHOREPLY</link>&#32;echoreply;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00649"/>00649 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00650"/>00650 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;memcpy((<link linkend="__x_base_8h_1a7ba3d378cab4450418bec78e604d47da">XBYTE</link>*)&amp;echoreply.<link linkend="_struct_d_i_o_p_i_n_g___e_c_h_o_r_e_p_l_y_1ab620e1d38257ac0de4febfa17e2f4065">iphdr</link>,&#32;xbuffer.<link linkend="_class_x_b_u_f_f_e_r_1a59d2c2b8d1c32098920f5d3eba0a5971">Get</link>(),&#32;<emphasis role="keyword">sizeof</emphasis>(<link linkend="_struct_d_i_o_p_i_n_g___e_c_h_o_r_e_p_l_y">DIOPING_ECHOREPLY</link>));
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00651"/>00651 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00652"/>00652 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>(echoreply.<link linkend="_struct_d_i_o_p_i_n_g___e_c_h_o_r_e_p_l_y_1a7c0366b44e7c56d812b14cf55df81916">echorequest</link>.<link linkend="_struct_d_i_o_p_i_n_g___e_c_h_o_r_e_q_u_e_s_t_1ade6c586ad84d1c25419633c31e696d5f">icmphdr</link>.<link linkend="_struct_d_i_o_p_i_n_g___i_c_m_p_h_d_r_1a76c5ad4e8ebcf4da4eddc23ce92d33cd">type</link>&#32;==&#32;<link linkend="__d_i_o_ping_8h_1a459246088a8e8372b988cf4fc2e8b023">DIOPING_ICMP_ECHOREPLY</link>)
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00653"/>00653 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00654"/>00654 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;crc32.<link linkend="_class_h_a_s_h_c_r_c32_1ab01cc6a04a2c4ee67dcca98c7b233913">ResetResult</link>();
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00655"/>00655 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;crc32.<link linkend="_class_h_a_s_h_c_r_c32_1a170fa5c716219e92d4724553d6e8e0ce">Do</link>((<link linkend="__x_base_8h_1a7ba3d378cab4450418bec78e604d47da">XBYTE</link>*)echoreply.<link linkend="_struct_d_i_o_p_i_n_g___e_c_h_o_r_e_p_l_y_1a7c0366b44e7c56d812b14cf55df81916">echorequest</link>.<link linkend="_struct_d_i_o_p_i_n_g___e_c_h_o_r_e_q_u_e_s_t_1a0f429a37f421f1508c27f6f521a9ef5b">cdata</link>,&#32;<link linkend="__d_i_o_ping_8h_1af4945925c0becb45fab8235dcb4f81b8">DIOPING_REQ_TICKETSIZE</link>);
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00656"/>00656 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00657"/>00657 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>(crc32result&#32;==&#32;crc32.<link linkend="_class_h_a_s_h_c_r_c32_1ab33e363f6374a0e559e99f2f80e5abf6">GetResultCRC32</link>())
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00658"/>00658 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00659"/>00659 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="__x_base_8h_1a3f1fe1487089bc987e3d549a9064e653">XWORD</link>&#32;checksum&#32;=&#32;<link linkend="_class_d_i_o_p_i_n_g_1a97ffe8656f207daa9e6e174ee835bd96">CalculeCheckSum</link>((<link linkend="__x_base_8h_1a3f1fe1487089bc987e3d549a9064e653">XWORD</link>&#32;*)&amp;echoreply.<link linkend="_struct_d_i_o_p_i_n_g___e_c_h_o_r_e_p_l_y_1a7c0366b44e7c56d812b14cf55df81916">echorequest</link>,&#32;<emphasis role="keyword">sizeof</emphasis>(<link linkend="_struct_d_i_o_p_i_n_g___e_c_h_o_r_e_q_u_e_s_t">DIOPING_ECHOREQUEST</link>));
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00660"/>00660 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>(!checksum)
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00661"/>00661 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00662"/>00662 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_class_d_i_o_i_p">DIOIP</link>&#32;&#32;&#32;&#32;ip;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00663"/>00663 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_class_x_s_t_r_i_n_g">XSTRING</link>&#32;&#32;fromIP;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00664"/>00664 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00665"/>00665 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;&#32;Calculate&#32;elapsed&#32;time</emphasis>
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00666"/>00666 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00667"/>00667 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;ip.<link linkend="_class_d_i_o_i_p_a_d_d_r_e_s_s_1a1955ea08de61edcd19d7806e64ed9aaa">Set</link>(echoreply.<link linkend="_struct_d_i_o_p_i_n_g___e_c_h_o_r_e_p_l_y_1ab620e1d38257ac0de4febfa17e2f4065">iphdr</link>.<link linkend="_struct_d_i_o_p_i_n_g___i_p_h_d_r_1a738312cbce77c3775aafa8dc5a4f81d1">iasource</link>.<link linkend="_struct_d_i_o_p_i_n_g___i_n_a_d_d_r_1a710321eb3403a094828ae1925bb19468">INADDR_UNION</link>.<link linkend="_struct_d_i_o_p_i_n_g___i_n_a_d_d_r_1a95a65f90ba2664abeced8cd3573b5e2c">addrbyte</link>.<link linkend="_struct_d_i_o_p_i_n_g___a_d_d_r___b_y_t_e_1aaa48afca72c87d24e4595c98c4c5240d">s_b1</link>,
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00668"/>00668 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;echoreply.<link linkend="_struct_d_i_o_p_i_n_g___e_c_h_o_r_e_p_l_y_1ab620e1d38257ac0de4febfa17e2f4065">iphdr</link>.<link linkend="_struct_d_i_o_p_i_n_g___i_p_h_d_r_1a738312cbce77c3775aafa8dc5a4f81d1">iasource</link>.<link linkend="_struct_d_i_o_p_i_n_g___i_n_a_d_d_r_1a710321eb3403a094828ae1925bb19468">INADDR_UNION</link>.<link linkend="_struct_d_i_o_p_i_n_g___i_n_a_d_d_r_1a95a65f90ba2664abeced8cd3573b5e2c">addrbyte</link>.<link linkend="_struct_d_i_o_p_i_n_g___a_d_d_r___b_y_t_e_1a56a06b1d125b2fa32db9e0c6f744f7d8">s_b2</link>,
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00669"/>00669 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;echoreply.<link linkend="_struct_d_i_o_p_i_n_g___e_c_h_o_r_e_p_l_y_1ab620e1d38257ac0de4febfa17e2f4065">iphdr</link>.<link linkend="_struct_d_i_o_p_i_n_g___i_p_h_d_r_1a738312cbce77c3775aafa8dc5a4f81d1">iasource</link>.<link linkend="_struct_d_i_o_p_i_n_g___i_n_a_d_d_r_1a710321eb3403a094828ae1925bb19468">INADDR_UNION</link>.<link linkend="_struct_d_i_o_p_i_n_g___i_n_a_d_d_r_1a95a65f90ba2664abeced8cd3573b5e2c">addrbyte</link>.<link linkend="_struct_d_i_o_p_i_n_g___a_d_d_r___b_y_t_e_1ad081a801a2208446035d917cc7e04ba3">s_b3</link>,
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00670"/>00670 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;echoreply.<link linkend="_struct_d_i_o_p_i_n_g___e_c_h_o_r_e_p_l_y_1ab620e1d38257ac0de4febfa17e2f4065">iphdr</link>.<link linkend="_struct_d_i_o_p_i_n_g___i_p_h_d_r_1a738312cbce77c3775aafa8dc5a4f81d1">iasource</link>.<link linkend="_struct_d_i_o_p_i_n_g___i_n_a_d_d_r_1a710321eb3403a094828ae1925bb19468">INADDR_UNION</link>.<link linkend="_struct_d_i_o_p_i_n_g___i_n_a_d_d_r_1a95a65f90ba2664abeced8cd3573b5e2c">addrbyte</link>.<link linkend="_struct_d_i_o_p_i_n_g___a_d_d_r___b_y_t_e_1a5d794426bccc6d797192f580a06c98fa">s_b4</link>);
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00671"/>00671 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00672"/>00672 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;ip.<link linkend="_class_d_i_o_i_p_a_d_d_r_e_s_s_1a6a266ef4ef9e43473e91acc37a816725">GetXString</link>(fromIP);
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00673"/>00673 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00674"/>00674 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>(!fromIP.<link linkend="_class_x_s_t_r_i_n_g_1aa41b9d6abe3eca02494d6eb043ed50c2">Compare</link>(targetIP))
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00675"/>00675 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00676"/>00676 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>(echoreply.<link linkend="_struct_d_i_o_p_i_n_g___e_c_h_o_r_e_p_l_y_1a7c0366b44e7c56d812b14cf55df81916">echorequest</link>.<link linkend="_struct_d_i_o_p_i_n_g___e_c_h_o_r_e_q_u_e_s_t_1aac6fa9905269ccd1dfe1f788f09a6474">applicationID</link>&#32;==&#32;<link linkend="_class_d_i_o_p_i_n_g_1a60f169aaddf8119cf8f3f217fdbcbbdf">applicationID</link>)
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00677"/>00677 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00678"/>00678 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="__x_base_8h_1a0e5b572e67f127f1afb599e257c539cf">XDWORD</link>&#32;&#32;&#32;elapsed;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00679"/>00679 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00680"/>00680 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;elapsed&#32;=&#32;((<link linkend="__x_base_8h_1a0e5b572e67f127f1afb599e257c539cf">XDWORD</link>)<link linkend="_class_d_i_o_p_i_n_g_1ad7348cf5f34bcb13e51b211f8479b54f">xtimer</link>-&gt;<link linkend="_class_x_t_i_m_e_r_1af717958e388241b795608d32b7a1d836">GetMicroSecondsTickCounter</link>()&#32;-&#32;echoreply.<link linkend="_struct_d_i_o_p_i_n_g___e_c_h_o_r_e_p_l_y_1a7c0366b44e7c56d812b14cf55df81916">echorequest</link>.<link linkend="_struct_d_i_o_p_i_n_g___e_c_h_o_r_e_q_u_e_s_t_1a8bf3f167a923b6f3ec77842590ff270a">time</link>);
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00681"/>00681 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00682"/>00682 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_class_d_i_o_p_i_n_g_1aafbc2930f30e0a73d2e08f6181135a4a">AddReply</link>(nloop+1,&#32;fromIP.<link linkend="_class_x_s_t_r_i_n_g_1ad1470753a96f93e2feb3ee54e6fef95f">Get</link>(),&#32;<link linkend="__d_i_o_ping_8h_1af4945925c0becb45fab8235dcb4f81b8">DIOPING_REQ_TICKETSIZE</link>,&#32;(elapsed/1000),&#32;echoreply.<link linkend="_struct_d_i_o_p_i_n_g___e_c_h_o_r_e_p_l_y_1ab620e1d38257ac0de4febfa17e2f4065">iphdr</link>.<link linkend="_struct_d_i_o_p_i_n_g___i_p_h_d_r_1a5c0629b81bb2965950726ef2c7b12161">TTL</link>);
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00683"/>00683 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00684"/>00684 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_class_d_i_o_p_i_n_g___x_e_v_e_n_t">DIOPING_XEVENT</link>&#32;xevent(<emphasis role="keyword">this</emphasis>,&#32;<link linkend="__d_i_o_ping___x_event_8h_1af257017f982acb3d112970c96cad1155a5dc351afb5794b3d65438ec7b5fd73e5">DIOPING_XEVENT_TYPE_DOPING</link>);
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00685"/>00685 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;xevent.<link linkend="_class_d_i_o_p_i_n_g___x_e_v_e_n_t_1a46405120a253428299bb5fe07acee435">SetPingReply</link>((<link linkend="_class_d_i_o_p_i_n_g_r_e_p_l_y">DIOPINGREPLY</link>*)<link linkend="_class_d_i_o_p_i_n_g_1a580e9e8b83582e723cf860b062470203">replys</link>.<link linkend="_class_x_v_e_c_t_o_r_1a2af4855d7fe0bc28201f6967110d064e">Get</link>(<link linkend="_class_d_i_o_p_i_n_g_1a580e9e8b83582e723cf860b062470203">replys</link>.<link linkend="_class_x_v_e_c_t_o_r_1ab9cec1d9ae7a1f5699f9dde55ccde2bf">GetSize</link>()-1));
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00686"/>00686 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_class_x_s_u_b_j_e_c_t_1adb65926d5f56410c9243d2f7c69a87a3">PostEvent</link>(&amp;xevent);
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00687"/>00687 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00688"/>00688 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//XTRACE_PRINTCOLOR(XTRACE_COLOR_BLUE,&#32;__L(&quot;[Ping]&#32;received!&#32;%s&#32;%s&#32;(elapsed&#32;time&#32;%d)&quot;),&#32;fromIP.Get(),&#32;targetIP.Get(),&#32;elapsed);</emphasis>
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00689"/>00689 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00690"/>00690 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>(exitfirstgoodreply)
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00691"/>00691 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00692"/>00692 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;nloop&#32;=&#32;0;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00693"/>00693 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">break</emphasis>;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00694"/>00694 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00695"/>00695 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00696"/>00696 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;GEN_XSLEEP.MilliSeconds(<link linkend="_class_d_i_o_p_i_n_g_1a9122a99069ee3a57e22c0367fc8439f6">timebetweenchecks</link>);
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00697"/>00697 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00698"/>00698 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;nloop--;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00699"/>00699 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">break</emphasis>;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00700"/>00700 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00701"/>00701 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">else</emphasis>
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00702"/>00702 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00703"/>00703 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//XTRACE_PRINTCOLOR(XTRACE_COLOR_RED,&#32;__L(&quot;[Ping]&#32;application&#32;ID&#32;not&#32;equal!&#32;%s&#32;%s&quot;),&#32;fromIP.Get(),&#32;targetIP.Get());</emphasis>
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00704"/>00704 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00705"/>00705 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00706"/>00706 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">else</emphasis>
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00707"/>00707 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00708"/>00708 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//XTRACE_PRINTCOLOR(XTRACE_COLOR_RED,&#32;__L(&quot;[Ping]&#32;not&#32;IP&#32;equal!&#32;%s&#32;%s&quot;),&#32;fromIP.Get(),&#32;targetIP.Get());</emphasis>
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00709"/>00709 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00710"/>00710 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00711"/>00711 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00712"/>00712 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">else</emphasis>
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00713"/>00713 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00714"/>00714 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//XTRACE_PRINTCOLOR(XTRACE_COLOR_RED,&#32;__L(&quot;[Ping]&#32;error&#32;Checksum!&#32;%s&#32;&quot;),&#32;targetIP.Get());</emphasis>
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00715"/>00715 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00716"/>00716 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00717"/>00717 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">else</emphasis>
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00718"/>00718 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00719"/>00719 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//XTRACE_PRINTCOLOR(XTRACE_COLOR_RED,&#32;__L(&quot;[Ping]&#32;error&#32;CRC!&#32;%s&#32;&quot;),&#32;targetIP.Get());</emphasis>
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00720"/>00720 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00721"/>00721 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00722"/>00722 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">else</emphasis>
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00723"/>00723 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00724"/>00724 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//XTRACE_PRINTCOLOR(XTRACE_COLOR_RED,&#32;__L(&quot;[Ping]&#32;Is&#32;not&#32;reply&#32;packet!&#32;%s&#32;&quot;),&#32;targetIP.Get());</emphasis>
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00725"/>00725 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00726"/>00726 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00727"/>00727 &#32;&#32;&#32;}
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00728"/>00728 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00729"/>00729 &#32;&#32;diostreamICMP-&gt;<link linkend="_class_d_i_o_s_t_r_e_a_m_i_c_m_p_1a1ab09be0aa3dbbeb0adb662130c5bb3b">Close</link>();
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00730"/>00730 &#32;&#32;GEN_DIOFACTORY.DeleteStreamIO(diostreamICMP);
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00731"/>00731 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00732"/>00732 &#32;&#32;<emphasis role="keywordtype">bool</emphasis>&#32;status&#32;=&#32;<link linkend="_class_d_i_o_p_i_n_g_1a91c32e5ae67c80c62d1eb79b5be312ac">WasConnected</link>();
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00733"/>00733 &#32;&#32;<emphasis role="keywordflow">if</emphasis>(!status)
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00734"/>00734 &#32;&#32;&#32;&#32;{
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00735"/>00735 &#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//XTRACE_PRINTCOLOR((status?XTRACE_COLOR_BLUE:XTRACE_COLOR_RED),&#32;__L(&quot;[Ping]&#32;to&#32;[%s]:&#32;%s&quot;),&#32;targetIP.Get(),&#32;(status?__L(&quot;Ok.&quot;):&#32;__L(&quot;ERROR!&quot;)));</emphasis>
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00736"/>00736 &#32;&#32;&#32;&#32;}
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00737"/>00737 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00738"/>00738 &#32;&#32;<emphasis role="keywordflow">if</emphasis>(<link linkend="_class_d_i_o_p_i_n_g_1aaa0cdf7c8bc04f82edfd189d3779a7e9">xmutexping</link>)
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00739"/>00739 &#32;&#32;&#32;&#32;{
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00740"/>00740 &#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_class_d_i_o_p_i_n_g_1aaa0cdf7c8bc04f82edfd189d3779a7e9">xmutexping</link>-&gt;<link linkend="_class_x_m_u_t_e_x_1afed160c15de8de926a73f4ce978f0bc0">UnLock</link>();
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00741"/>00741 &#32;&#32;&#32;&#32;}
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00742"/>00742 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00743"/>00743 &#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;status;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00744"/>00744 }
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00745"/>00745 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00746"/>00746 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00756"/><link linkend="_class_d_i_o_p_i_n_g_1a91c32e5ae67c80c62d1eb79b5be312ac">00756</link> <emphasis role="keywordtype">bool</emphasis>&#32;<link linkend="_class_d_i_o_p_i_n_g_1a91c32e5ae67c80c62d1eb79b5be312ac">DIOPING::WasConnected</link>()
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00757"/>00757 {
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00758"/>00758 &#32;&#32;<emphasis role="keywordflow">if</emphasis>(!<link linkend="_class_d_i_o_p_i_n_g_1a12b0479761b5d9f37a0890dd9fc28bcb">xmutexreplys</link>)&#32;<emphasis role="keywordflow">return</emphasis>&#32;<emphasis role="keyword">false</emphasis>;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00759"/>00759 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00760"/>00760 &#32;&#32;<emphasis role="keywordtype">bool</emphasis>&#32;status&#32;=&#32;<emphasis role="keyword">false</emphasis>;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00761"/>00761 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00762"/>00762 &#32;&#32;<link linkend="_class_d_i_o_p_i_n_g_1a12b0479761b5d9f37a0890dd9fc28bcb">xmutexreplys</link>-&gt;<link linkend="_class_x_m_u_t_e_x_1ae6d5410f1787702c59c2eae9e8b85b74">Lock</link>();
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00763"/>00763 &#32;&#32;<emphasis role="keywordflow">if</emphasis>(!<link linkend="_class_d_i_o_p_i_n_g_1a580e9e8b83582e723cf860b062470203">replys</link>.<link linkend="_class_x_v_e_c_t_o_r_1acfb28e72022a067c3a4635f0c14734fb">IsEmpty</link>())&#32;status&#32;=&#32;<emphasis role="keyword">true</emphasis>;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00764"/>00764 &#32;&#32;<link linkend="_class_d_i_o_p_i_n_g_1a12b0479761b5d9f37a0890dd9fc28bcb">xmutexreplys</link>-&gt;<link linkend="_class_x_m_u_t_e_x_1afed160c15de8de926a73f4ce978f0bc0">UnLock</link>();
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00765"/>00765 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00766"/>00766 &#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;status;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00767"/>00767 }
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00768"/>00768 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00769"/>00769 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00779"/><link linkend="_class_d_i_o_p_i_n_g_1a4b8171fb6898f40f0408116fa3f3261c">00779</link> <link linkend="_class_x_v_e_c_t_o_r">XVECTOR&lt;DIOPINGREPLY*&gt;</link>*&#32;<link linkend="_class_d_i_o_p_i_n_g_1a4b8171fb6898f40f0408116fa3f3261c">DIOPING::GetReplys</link>()
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00780"/>00780 {
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00781"/>00781 &#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;&amp;<link linkend="_class_d_i_o_p_i_n_g_1a580e9e8b83582e723cf860b062470203">replys</link>;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00782"/>00782 }
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00783"/>00783 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00784"/>00784 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00794"/><link linkend="_class_d_i_o_p_i_n_g_1a9a4d00e086c20af6a13693cb6b2df8a7">00794</link> <link linkend="__x_base_8h_1a0e5b572e67f127f1afb599e257c539cf">XDWORD</link>&#32;<link linkend="_class_d_i_o_p_i_n_g_1a9a4d00e086c20af6a13693cb6b2df8a7">DIOPING::CalculateMeanTime</link>()
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00795"/>00795 {
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00796"/>00796 &#32;&#32;<emphasis role="keywordflow">if</emphasis>(!<link linkend="_class_d_i_o_p_i_n_g_1a12b0479761b5d9f37a0890dd9fc28bcb">xmutexreplys</link>)&#32;<emphasis role="keywordflow">return</emphasis>&#32;0;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00797"/>00797 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00798"/>00798 &#32;&#32;<link linkend="__x_base_8h_1a0e5b572e67f127f1afb599e257c539cf">XDWORD</link>&#32;meantime&#32;=&#32;0;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00799"/>00799 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00800"/>00800 &#32;&#32;<link linkend="_class_d_i_o_p_i_n_g_1a12b0479761b5d9f37a0890dd9fc28bcb">xmutexreplys</link>-&gt;<link linkend="_class_x_m_u_t_e_x_1ae6d5410f1787702c59c2eae9e8b85b74">Lock</link>();
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00801"/>00801 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00802"/>00802 &#32;&#32;<emphasis role="keywordflow">if</emphasis>(!<link linkend="_class_d_i_o_p_i_n_g_1a580e9e8b83582e723cf860b062470203">replys</link>.<link linkend="_class_x_v_e_c_t_o_r_1acfb28e72022a067c3a4635f0c14734fb">IsEmpty</link>())
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00803"/>00803 &#32;&#32;&#32;&#32;{
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00804"/>00804 &#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">for</emphasis>(<link linkend="__x_base_8h_1a0e5b572e67f127f1afb599e257c539cf">XDWORD</link>&#32;c=0;c&lt;<link linkend="_class_d_i_o_p_i_n_g_1a580e9e8b83582e723cf860b062470203">replys</link>.<link linkend="_class_x_v_e_c_t_o_r_1ab9cec1d9ae7a1f5699f9dde55ccde2bf">GetSize</link>();c++)
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00805"/>00805 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00806"/>00806 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_class_d_i_o_p_i_n_g_r_e_p_l_y">DIOPINGREPLY</link>*&#32;pinganswer&#32;=&#32;(<link linkend="_class_d_i_o_p_i_n_g_r_e_p_l_y">DIOPINGREPLY</link>*)<link linkend="_class_d_i_o_p_i_n_g_1a580e9e8b83582e723cf860b062470203">replys</link>.<link linkend="_class_x_v_e_c_t_o_r_1a2af4855d7fe0bc28201f6967110d064e">Get</link>(c);
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00807"/>00807 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>(pinganswer)
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00808"/>00808 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00809"/>00809 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;meantime&#32;+=&#32;pinganswer-&gt;<link linkend="_class_d_i_o_p_i_n_g_r_e_p_l_y_1a6620f5f01afec5b11f79f36252609e3a">GetTimeElapsed</link>();
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00810"/>00810 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00811"/>00811 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00812"/>00812 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00813"/>00813 &#32;&#32;&#32;&#32;&#32;&#32;meantime&#32;/=&#32;<link linkend="_class_d_i_o_p_i_n_g_1a580e9e8b83582e723cf860b062470203">replys</link>.<link linkend="_class_x_v_e_c_t_o_r_1ab9cec1d9ae7a1f5699f9dde55ccde2bf">GetSize</link>();
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00814"/>00814 &#32;&#32;&#32;&#32;}
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00815"/>00815 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00816"/>00816 &#32;&#32;<link linkend="_class_d_i_o_p_i_n_g_1a12b0479761b5d9f37a0890dd9fc28bcb">xmutexreplys</link>-&gt;<link linkend="_class_x_m_u_t_e_x_1afed160c15de8de926a73f4ce978f0bc0">UnLock</link>();
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00817"/>00817 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00818"/>00818 &#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;meantime;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00819"/>00819 }
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00820"/>00820 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00821"/>00821 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00831"/><link linkend="_class_d_i_o_p_i_n_g_1ab0766ead8ed90a8e99e7ecef20ad4deb">00831</link> <emphasis role="keywordtype">bool</emphasis>&#32;<link linkend="_class_d_i_o_p_i_n_g_1ab0766ead8ed90a8e99e7ecef20ad4deb">DIOPING::DeleteAllReplys</link>()
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00832"/>00832 {
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00833"/>00833 &#32;&#32;<emphasis role="keywordflow">if</emphasis>(!<link linkend="_class_d_i_o_p_i_n_g_1a12b0479761b5d9f37a0890dd9fc28bcb">xmutexreplys</link>)&#32;<emphasis role="keywordflow">return</emphasis>&#32;<emphasis role="keyword">false</emphasis>;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00834"/>00834 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00835"/>00835 &#32;&#32;<emphasis role="keywordtype">bool</emphasis>&#32;status&#32;=&#32;<emphasis role="keyword">false</emphasis>;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00836"/>00836 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00837"/>00837 &#32;&#32;<link linkend="_class_d_i_o_p_i_n_g_1a12b0479761b5d9f37a0890dd9fc28bcb">xmutexreplys</link>-&gt;<link linkend="_class_x_m_u_t_e_x_1ae6d5410f1787702c59c2eae9e8b85b74">Lock</link>();
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00838"/>00838 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00839"/>00839 &#32;&#32;<emphasis role="keywordflow">if</emphasis>(!<link linkend="_class_d_i_o_p_i_n_g_1a580e9e8b83582e723cf860b062470203">replys</link>.<link linkend="_class_x_v_e_c_t_o_r_1acfb28e72022a067c3a4635f0c14734fb">IsEmpty</link>())
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00840"/>00840 &#32;&#32;&#32;&#32;{
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00841"/>00841 &#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_class_d_i_o_p_i_n_g_1a580e9e8b83582e723cf860b062470203">replys</link>.<link linkend="_class_x_v_e_c_t_o_r_1abae5097402824f18f274e21e18b23bea">DeleteContents</link>();
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00842"/>00842 &#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_class_d_i_o_p_i_n_g_1a580e9e8b83582e723cf860b062470203">replys</link>.<link linkend="_class_x_v_e_c_t_o_r_1a57c72ab04fd14c60d1026e0a7b4a1887">DeleteAll</link>();
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00843"/>00843 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00844"/>00844 &#32;&#32;&#32;&#32;&#32;&#32;status&#32;=&#32;<emphasis role="keyword">true</emphasis>;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00845"/>00845 &#32;&#32;&#32;&#32;}
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00846"/>00846 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00847"/>00847 &#32;&#32;<link linkend="_class_d_i_o_p_i_n_g_1a12b0479761b5d9f37a0890dd9fc28bcb">xmutexreplys</link>-&gt;<link linkend="_class_x_m_u_t_e_x_1afed160c15de8de926a73f4ce978f0bc0">UnLock</link>();
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00848"/>00848 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00849"/>00849 &#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;status;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00850"/>00850 }
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00851"/>00851 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00852"/>00852 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00868"/><link linkend="_class_d_i_o_p_i_n_g_1aafbc2930f30e0a73d2e08f6181135a4a">00868</link> <emphasis role="keywordtype">bool</emphasis>&#32;<link linkend="_class_d_i_o_p_i_n_g_1aafbc2930f30e0a73d2e08f6181135a4a">DIOPING::AddReply</link>(<link linkend="__x_base_8h_1a3f1fe1487089bc987e3d549a9064e653">XWORD</link>&#32;sequence,&#32;<link linkend="__x_string_8h_1a03209152a681f02e4ba73b6681dd4968">XCHAR</link>*&#32;fromIP,&#32;<link linkend="__x_base_8h_1a0e5b572e67f127f1afb599e257c539cf">XDWORD</link>&#32;sizerequest,&#32;<link linkend="__x_base_8h_1a0e5b572e67f127f1afb599e257c539cf">XDWORD</link>&#32;timeelapsed,&#32;<link linkend="__x_base_8h_1a7ba3d378cab4450418bec78e604d47da">XBYTE</link>&#32;TTL)
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00869"/>00869 {
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00870"/>00870 &#32;&#32;<emphasis role="keywordflow">if</emphasis>(!<link linkend="_class_d_i_o_p_i_n_g_1a12b0479761b5d9f37a0890dd9fc28bcb">xmutexreplys</link>)&#32;<emphasis role="keywordflow">return</emphasis>&#32;<emphasis role="keyword">false</emphasis>;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00871"/>00871 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00872"/>00872 &#32;&#32;<emphasis role="keywordtype">bool</emphasis>&#32;status&#32;=&#32;<emphasis role="keyword">false</emphasis>;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00873"/>00873 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00874"/>00874 &#32;&#32;<link linkend="_class_d_i_o_p_i_n_g_1a12b0479761b5d9f37a0890dd9fc28bcb">xmutexreplys</link>-&gt;<link linkend="_class_x_m_u_t_e_x_1ae6d5410f1787702c59c2eae9e8b85b74">Lock</link>();
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00875"/>00875 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00876"/>00876 &#32;&#32;<link linkend="_class_d_i_o_p_i_n_g_r_e_p_l_y">DIOPINGREPLY</link>*&#32;pinganswer&#32;=&#32;<emphasis role="keyword">new</emphasis>&#32;<link linkend="_class_d_i_o_p_i_n_g_r_e_p_l_y">DIOPINGREPLY</link>();
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00877"/>00877 &#32;&#32;<emphasis role="keywordflow">if</emphasis>(pinganswer)
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00878"/>00878 &#32;&#32;&#32;&#32;{
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00879"/>00879 &#32;&#32;&#32;&#32;&#32;&#32;pinganswer-&gt;<link linkend="_class_d_i_o_p_i_n_g_r_e_p_l_y_1ad15ef5ac477f5238e62ad8b6cf1b6986">SetSequence</link>(sequence);
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00880"/>00880 &#32;&#32;&#32;&#32;&#32;&#32;pinganswer-&gt;<link linkend="_class_d_i_o_p_i_n_g_r_e_p_l_y_1a7a8f2de1e2dc081a6d647063e68163d0">GetFromIP</link>()-&gt;<link linkend="_class_x_s_t_r_i_n_g_1a4e97e075650e9bc8cfb7deb28e4c9ce4">Set</link>(fromIP);
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00881"/>00881 &#32;&#32;&#32;&#32;&#32;&#32;pinganswer-&gt;<link linkend="_class_d_i_o_p_i_n_g_r_e_p_l_y_1ae64e6edc7bf76eb880c1d9fa6babb41a">SetSizeRequest</link>(sizerequest);
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00882"/>00882 &#32;&#32;&#32;&#32;&#32;&#32;pinganswer-&gt;<link linkend="_class_d_i_o_p_i_n_g_r_e_p_l_y_1a8008eb7761c3231c19ad0c4ff96ecbf6">SetTimeElapsed</link>(timeelapsed);
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00883"/>00883 &#32;&#32;&#32;&#32;&#32;&#32;pinganswer-&gt;<link linkend="_class_d_i_o_p_i_n_g_r_e_p_l_y_1af8102ba313a8d529fc71673802cd2eb1">SetTTL</link>(TTL);
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00884"/>00884 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00885"/>00885 &#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_class_d_i_o_p_i_n_g_1a580e9e8b83582e723cf860b062470203">replys</link>.<link linkend="_class_x_v_e_c_t_o_r_1a51a790aac8efd4603aee608ddcc83423">Add</link>(pinganswer);
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00886"/>00886 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00887"/>00887 &#32;&#32;&#32;&#32;&#32;&#32;status&#32;=&#32;<emphasis role="keyword">true</emphasis>;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00888"/>00888 &#32;&#32;&#32;&#32;}
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00889"/>00889 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00890"/>00890 &#32;&#32;<link linkend="_class_d_i_o_p_i_n_g_1a12b0479761b5d9f37a0890dd9fc28bcb">xmutexreplys</link>-&gt;<link linkend="_class_x_m_u_t_e_x_1afed160c15de8de926a73f4ce978f0bc0">UnLock</link>();
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00891"/>00891 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00892"/>00892 &#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;status;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00893"/>00893 }
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00894"/>00894 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00895"/>00895 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00908"/><link linkend="_class_d_i_o_p_i_n_g_1a97ffe8656f207daa9e6e174ee835bd96">00908</link> <link linkend="__x_base_8h_1a3f1fe1487089bc987e3d549a9064e653">XWORD</link>&#32;<link linkend="_class_d_i_o_p_i_n_g_1a97ffe8656f207daa9e6e174ee835bd96">DIOPING::CalculeCheckSum</link>(<link linkend="__x_base_8h_1a3f1fe1487089bc987e3d549a9064e653">XWORD</link>*&#32;addr,&#32;<emphasis role="keywordtype">int</emphasis>&#32;len)
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00909"/>00909 {
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00910"/>00910 &#32;&#32;<emphasis role="keywordtype">int</emphasis>&#32;&#32;&#32;&#32;&#32;nleft&#32;&#32;&#32;=&#32;len;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00911"/>00911 &#32;&#32;<link linkend="__x_base_8h_1a3f1fe1487089bc987e3d549a9064e653">XWORD</link>*&#32;&#32;w&#32;&#32;&#32;&#32;&#32;&#32;&#32;=&#32;addr;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00912"/>00912 &#32;&#32;<link linkend="__x_base_8h_1a3f1fe1487089bc987e3d549a9064e653">XWORD</link>&#32;&#32;&#32;answer;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00913"/>00913 &#32;&#32;<emphasis role="keywordtype">int</emphasis>&#32;&#32;&#32;&#32;&#32;sum&#32;&#32;&#32;&#32;&#32;=&#32;0;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00914"/>00914 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00915"/>00915 &#32;&#32;<emphasis role="comment">//&#32;Our&#32;algorithm&#32;is&#32;simple,&#32;using&#32;a&#32;32&#32;bit&#32;accumulator&#32;(sum),</emphasis>
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00916"/>00916 &#32;&#32;<emphasis role="comment">//&#32;we&#32;add&#32;sequential&#32;16&#32;bit&#32;words&#32;to&#32;it,&#32;and&#32;at&#32;the&#32;end,&#32;fold</emphasis>
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00917"/>00917 &#32;&#32;<emphasis role="comment">//&#32;back&#32;all&#32;the&#32;carry&#32;bits&#32;from&#32;the&#32;top&#32;16&#32;bits&#32;into&#32;the&#32;lower</emphasis>
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00918"/>00918 &#32;&#32;<emphasis role="comment">//&#32;16&#32;bits.</emphasis>
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00919"/>00919 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00920"/>00920 &#32;&#32;<emphasis role="keywordflow">while</emphasis>(nleft&gt;1)
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00921"/>00921 &#32;&#32;&#32;&#32;{
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00922"/>00922 &#32;&#32;&#32;&#32;&#32;&#32;sum&#32;&#32;&#32;+=&#32;*w++;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00923"/>00923 &#32;&#32;&#32;&#32;&#32;&#32;nleft&#32;-=&#32;2;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00924"/>00924 &#32;&#32;&#32;&#32;}
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00925"/>00925 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00926"/>00926 &#32;&#32;<emphasis role="comment">//&#32;mop&#32;up&#32;an&#32;odd&#32;byte,&#32;if&#32;necessary</emphasis>
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00927"/>00927 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00928"/>00928 &#32;&#32;<emphasis role="keywordflow">if</emphasis>(&#32;nleft&#32;==&#32;1&#32;)
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00929"/>00929 &#32;&#32;&#32;&#32;{
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00930"/>00930 &#32;&#32;&#32;&#32;&#32;&#32;<link linkend="__x_base_8h_1a3f1fe1487089bc987e3d549a9064e653">XWORD</link>&#32;u&#32;=&#32;0;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00931"/>00931 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00932"/>00932 &#32;&#32;&#32;&#32;&#32;&#32;*(<link linkend="__x_base_8h_1a7ba3d378cab4450418bec78e604d47da">XBYTE</link>*)(&amp;u)&#32;=&#32;*(<link linkend="__x_base_8h_1a7ba3d378cab4450418bec78e604d47da">XBYTE</link>*)w&#32;;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00933"/>00933 &#32;&#32;&#32;&#32;&#32;&#32;sum&#32;+=&#32;u;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00934"/>00934 &#32;&#32;&#32;&#32;}
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00935"/>00935 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00936"/>00936 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00937"/>00937 &#32;&#32;<emphasis role="comment">//&#32;add&#32;back&#32;carry&#32;outs&#32;from&#32;top&#32;16&#32;bits&#32;to&#32;low&#32;16&#32;bits</emphasis>
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00938"/>00938 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00939"/>00939 &#32;&#32;sum&#32;&#32;&#32;&#32;&#32;=&#32;(sum&#32;&gt;&gt;&#32;16)&#32;+&#32;(sum&#32;&amp;&#32;0xffff);&#32;&#32;&#32;<emphasis role="comment">//&#32;add&#32;hi&#32;16&#32;to&#32;low&#32;16</emphasis>
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00940"/>00940 &#32;&#32;sum&#32;&#32;&#32;&#32;+=&#32;(sum&#32;&gt;&gt;&#32;16);&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;add&#32;carry</emphasis>
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00941"/>00941 &#32;&#32;answer&#32;&#32;=&#32;~sum;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;truncate&#32;to&#32;16&#32;bits</emphasis>
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00942"/>00942 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00943"/>00943 &#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;answer;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00944"/>00944 }
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00945"/>00945 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00946"/>00946 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00957"/>00957 <emphasis role="keywordtype">void</emphasis>&#32;DIOPING::Clean()
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00958"/>00958 {
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00959"/>00959 &#32;&#32;<link linkend="_class_d_i_o_p_i_n_g_1ad7348cf5f34bcb13e51b211f8479b54f">xtimer</link>&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;=&#32;<link linkend="__x_base_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</link>;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00960"/>00960 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00961"/>00961 &#32;&#32;<link linkend="_class_d_i_o_p_i_n_g_1ac331c897792d0e552de837a98b0c79c2">urltarget</link>&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;=&#32;<link linkend="__x_base_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</link>;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00962"/>00962 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00963"/>00963 &#32;&#32;<link linkend="_class_d_i_o_p_i_n_g_1aaa0cdf7c8bc04f82edfd189d3779a7e9">xmutexping</link>&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;=&#32;<link linkend="__x_base_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</link>;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00964"/>00964 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00965"/>00965 &#32;&#32;<link linkend="_class_d_i_o_p_i_n_g_1a60f169aaddf8119cf8f3f217fdbcbbdf">applicationID</link>&#32;&#32;&#32;&#32;&#32;&#32;&#32;=&#32;0;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00966"/>00966 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00967"/>00967 &#32;&#32;<link linkend="_class_d_i_o_p_i_n_g_1a34888d98be158ab9e19a7fe9c85444f0">IPLocal</link>.<link linkend="_class_x_s_t_r_i_n_g_1a9275997c1605fa79646c301e63a77d06">Empty</link>();
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00968"/>00968 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00969"/>00969 &#32;&#32;<link linkend="_class_d_i_o_p_i_n_g_1a12b0479761b5d9f37a0890dd9fc28bcb">xmutexreplys</link>&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;=&#32;<link linkend="__x_base_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</link>;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00970"/>00970 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00971"/>00971 &#32;&#32;<link linkend="_class_d_i_o_p_i_n_g_1a5632688c224c7d908908a291890fd69e">nretries</link>&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;=&#32;0;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00972"/>00972 &#32;&#32;<link linkend="_class_d_i_o_p_i_n_g_1a9122a99069ee3a57e22c0367fc8439f6">timebetweenchecks</link>&#32;&#32;&#32;=&#32;0;
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00973"/>00973 }
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00974"/>00974 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00975"/>00975 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00976"/>00976 <emphasis role="preprocessor">#pragma&#32;endregion</emphasis>
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00977"/>00977 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00978"/>00978 
<anchor xml:id="__d_i_o_ping_8cpp_source_1l00979"/>00979 <emphasis role="preprocessor">#pragma&#32;endregion</emphasis>
</programlisting></section>
