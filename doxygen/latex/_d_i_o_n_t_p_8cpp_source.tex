\doxysection{DIONTP.\+cpp}
\hypertarget{_d_i_o_n_t_p_8cpp_source}{}\label{_d_i_o_n_t_p_8cpp_source}\index{D:/Projects/GENFrameWork/GEN/DataIO/Protocols/DIONTP.cpp@{D:/Projects/GENFrameWork/GEN/DataIO/Protocols/DIONTP.cpp}}
\mbox{\hyperlink{_d_i_o_n_t_p_8cpp}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00001}00001\ }
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00029}00029\ \textcolor{comment}{/*-\/-\/-\/-\/\ PRECOMPILATION\ INCLUDES\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/*/}}
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00030}00030\ \textcolor{preprocessor}{\#pragma\ region\ PRECOMPILATION\_INCLUDES}}
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00031}00031\ }
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00032}00032\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{_g_e_n___defines_8h}{GEN\_Defines.h}}"{}}}
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00033}00033\ }
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00034}00034\ \textcolor{preprocessor}{\#pragma\ endregion}}
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00035}00035\ }
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00036}00036\ }
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00037}00037\ \textcolor{comment}{/*-\/-\/-\/-\/\ INCLUDES\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/*/}}
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00038}00038\ \textcolor{preprocessor}{\#pragma\ region\ INCLUDES}}
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00039}00039\ }
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00040}00040\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{_d_i_o_n_t_p_8h}{DIONTP.h}}"{}}}
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00041}00041\ }
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00042}00042\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{_x_factory_8h}{XFactory.h}}"{}}}
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00043}00043\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{_x_date_time_8h}{XDateTime.h}}"{}}}
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00044}00044\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{_x_timer_8h}{XTimer.h}}"{}}}
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00045}00045\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{_x_trace_8h}{XTrace.h}}"{}}}
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00046}00046\ }
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00047}00047\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{_d_i_o_factory_8h}{DIOFactory.h}}"{}}}
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00048}00048\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{_d_i_o_stream_u_d_p_config_8h}{DIOStreamUDPConfig.h}}"{}}}
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00049}00049\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{_d_i_o_stream_u_d_p_8h}{DIOStreamUDP.h}}"{}}}
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00050}00050\ }
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00051}00051\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{_x_memory___control_8h}{XMemory\_Control.h}}"{}}}
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00052}00052\ }
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00053}00053\ \textcolor{preprocessor}{\#pragma\ endregion}}
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00054}00054\ }
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00055}00055\ }
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00056}00056\ \textcolor{comment}{/*-\/-\/-\/-\/\ GENERAL\ VARIABLE\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/*/}}
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00057}00057\ \textcolor{preprocessor}{\#pragma\ region\ GENERAL\_VARIABLE}}
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00058}00058\ }
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00059}00059\ \textcolor{preprocessor}{\#pragma\ endregion}}
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00060}00060\ }
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00061}00061\ }
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00062}00062\ \textcolor{comment}{/*-\/-\/-\/-\/\ CLASS\ MEMBERS\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/*/}}
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00063}00063\ \textcolor{preprocessor}{\#pragma\ region\ CLASS\_MEMBERS}}
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00064}00064\ }
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00065}00065\ }
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00073}\mbox{\hyperlink{group___d_a_t_a_i_o_ga7ab097a93abeffe11900d4a85a3f2c49}{00073}}\ \mbox{\hyperlink{group___d_a_t_a_i_o_ga7ab097a93abeffe11900d4a85a3f2c49}{DIONTP::DIONTP}}()}
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00074}00074\ \{}
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00075}00075\ \ \ Clean();}
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00076}00076\ }
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00077}00077\ \ \ GEN\_XFACTORY\_CREATE(xtimer,\ CreateTimer())}
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00078}00078\ \ }
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00079}00079\ \ \ diostreamudpcfg\ =\ \textcolor{keyword}{new}\ \mbox{\hyperlink{class_d_i_o_s_t_r_e_a_m_u_d_p_c_o_n_f_i_g}{DIOSTREAMUDPCONFIG}}();}
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00080}00080\ \ \ diostreamudp\ \ \ \ =\ (\mbox{\hyperlink{class_d_i_o_s_t_r_e_a_m_u_d_p}{DIOSTREAMUDP}}*)GEN\_DIOFACTORY.CreateStreamIO(diostreamudpcfg);}
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00081}00081\ \}}
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00082}00082\ }
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00083}00083\ }
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00092}\mbox{\hyperlink{group___d_a_t_a_i_o_gacfee92767416e3a50f5f317f33f1a5ce}{00092}}\ \mbox{\hyperlink{group___d_a_t_a_i_o_gacfee92767416e3a50f5f317f33f1a5ce}{DIONTP::\string~DIONTP}}()}
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00093}00093\ \{}
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00094}00094\ \ \ \textcolor{keywordflow}{if}(xtimer)}
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00095}00095\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00096}00096\ \ \ \ \ \ \ GEN\_XFACTORY.DeleteTimer(xtimer);}
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00097}00097\ \ \ \ \ \ \ xtimer\ =\ \mbox{\hyperlink{_x_base_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}};}
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00098}00098\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00099}00099\ }
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00100}00100\ \ \ \textcolor{keywordflow}{if}(diostreamudpcfg)}
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00101}00101\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00102}00102\ \ \ \ \ \ \ \textcolor{keyword}{delete}\ diostreamudpcfg;}
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00103}00103\ \ \ \ \ \ \ diostreamudpcfg\ =\ \mbox{\hyperlink{_x_base_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}};}
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00104}00104\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00105}00105\ }
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00106}00106\ \ \ \textcolor{keywordflow}{if}(diostreamudp)}
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00107}00107\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00108}00108\ \ \ \ \ \ \ GEN\_DIOFACTORY.DeleteStreamIO(diostreamudp);}
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00109}00109\ \ \ \ \ \ \ diostreamudp\ \ \ \ =\ \mbox{\hyperlink{_x_base_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}};}
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00110}00110\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00111}00111\ }
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00112}00112\ \ \ Clean();}
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00113}00113\ \}}
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00114}00114\ }
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00115}00115\ }
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00130}\mbox{\hyperlink{group___d_a_t_a_i_o_gacd39859e452f4913cd04e0ece36b4a0f}{00130}}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{group___d_a_t_a_i_o_gacd39859e452f4913cd04e0ece36b4a0f}{DIONTP::GetTimeResponse}}(\mbox{\hyperlink{_x_string_8h_a03209152a681f02e4ba73b6681dd4968}{XCHAR}}*\ urlntpserver,\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{_x_l_i_n_u_x_system_8cpp_a493b57f443cc38b3d3df9c1e584d9d82}{timeout}},\ \textcolor{keywordtype}{bool}\ hardwareuselittleendian,\ \mbox{\hyperlink{class_d_i_o_n_t_p_r_e_s_p_o_n_s_e}{DIONTPRESPONSE}}\&\ response)}
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00131}00131\ \{}
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00132}00132\ \ \ \textcolor{keywordflow}{if}(!xtimer)\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00133}00133\ \ \ \textcolor{keywordflow}{if}((!diostreamudpcfg)\ ||\ (!diostreamudp))\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00134}00134\ }
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00135}00135\ \ \ \textcolor{keywordtype}{bool}\ status\ \ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00136}00136\ }
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00137}00137\ \ \ memset(\&response,\ 0,\ \textcolor{keyword}{sizeof}(\mbox{\hyperlink{class_d_i_o_n_t_p_r_e_s_p_o_n_s_e}{DIONTPRESPONSE}}));}
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00138}00138\ }
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00139}00139\ \ \ diostreamudpcfg-\/>\mbox{\hyperlink{group___d_a_t_a_i_o_ga458e110078121992cb1597c8a184c02d}{SetMode}}(\mbox{\hyperlink{_d_i_o_stream_config_8h_ae47ddf801d21b825b353ae3a3008ceccae2f1cd5b3bdb86e59afda7eb0f8a91a8}{DIOSTREAMMODE\_CLIENT}});}
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00140}00140\ \ \ diostreamudpcfg-\/>\mbox{\hyperlink{group___d_a_t_a_i_o_ga7b848570dc12aadbd8f1564a094ca13a}{SetIsUsedDatagrams}}(\textcolor{keyword}{false});}
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00141}00141\ \ \ diostreamudpcfg-\/>\mbox{\hyperlink{group___d_a_t_a_i_o_gacf6fa77ab365f7b646a9f701568cc916}{GetRemoteURL}}()-\/>\mbox{\hyperlink{group___x_u_t_i_l_s_ga4e97e075650e9bc8cfb7deb28e4c9ce4}{Set}}(urlntpserver);}
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00142}00142\ \ \ diostreamudpcfg-\/>\mbox{\hyperlink{group___d_a_t_a_i_o_ga5d3d2983d54913f4ce5d5118eb629a68}{SetRemotePort}}(\mbox{\hyperlink{_d_i_o_n_t_p_8h_ae11c73b29a2802b1ad5252d88f477d3c}{DIONTP\_DEFAULTPORT}});}
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00143}00143\ }
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00144}00144\ \ \ \textcolor{keywordflow}{if}(!diostreamudp-\/>\mbox{\hyperlink{group___d_a_t_a_i_o_ga8a6d7369be30f160abf2c060c2a76ece}{Open}}())\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00145}00145\ }
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00146}00146\ \ \ \mbox{\hyperlink{class_d_i_o_n_t_p_b_a_s_i_c_i_n_f_o}{DIONTPBASICINFO}}\ basicinfo;}
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00147}00147\ }
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00148}00148\ \ \ memset((\mbox{\hyperlink{_x_base_8h_a7ba3d378cab4450418bec78e604d47da}{XBYTE}}*)\&basicinfo,\ 0,\ \textcolor{keyword}{sizeof}(\mbox{\hyperlink{class_d_i_o_n_t_p_b_a_s_i_c_i_n_f_o}{DIONTPBASICINFO}}));}
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00149}00149\ }
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00150}00150\ \ \ basicinfo.\mbox{\hyperlink{class_d_i_o_n_t_p_b_a_s_i_c_i_n_f_o_aa04d2aa614569ba319fe59129234fddd}{livnmode}}\ =\ 27;\ \textcolor{comment}{//Encoded\ representation\ which\ represents\ NTP\ Client\ Request\ \&\ NTP\ version\ 3.0}}
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00151}00151\ }
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00152}00152\ \ \ \textcolor{keywordflow}{if}(diostreamudp-\/>\mbox{\hyperlink{group___d_a_t_a_i_o_gac04f4ad8ff28b97128a876063103dd50}{Write}}((\mbox{\hyperlink{_x_base_8h_a7ba3d378cab4450418bec78e604d47da}{XBYTE}}*)\&basicinfo,\textcolor{keyword}{sizeof}(\mbox{\hyperlink{class_d_i_o_n_t_p_b_a_s_i_c_i_n_f_o}{DIONTPBASICINFO}})))}
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00153}00153\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00154}00154\ \ \ \ \ \ \ xtimer-\/>\mbox{\hyperlink{group___x_u_t_i_l_s_ga461fee3826d400d29bc47f58f2c5d898}{Reset}}();}
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00155}00155\ }
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00156}00156\ \ \ \ \ \ \ \mbox{\hyperlink{class_d_i_o_n_t_p_f_u_l_l_p_a_c_k_e_t}{DIONTPFULLPACKET}}\ fullpacket;\ \ \ \ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00157}00157\ \ \ \ \ \ \ \mbox{\hyperlink{_x_base_8h_a0e5b572e67f127f1afb599e257c539cf}{XDWORD}}\ \ \ \ \ \ \ \ \ \ \ br\ =\ 0;}
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00158}00158\ \ \ \ \ \ \ \textcolor{keywordflow}{while}(!br)}
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00159}00159\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00160}00160\ \ \ \ \ \ \ \ \ \ \ memset((\mbox{\hyperlink{_x_base_8h_a7ba3d378cab4450418bec78e604d47da}{XBYTE}}*)\&fullpacket,0\ ,\textcolor{keyword}{sizeof}(\mbox{\hyperlink{class_d_i_o_n_t_p_f_u_l_l_p_a_c_k_e_t}{DIONTPFULLPACKET}}));}
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00161}00161\ }
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00162}00162\ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_x_base_8h_a0e5b572e67f127f1afb599e257c539cf}{XDWORD}}\ size\ \ =\ diostreamudp-\/>\mbox{\hyperlink{group___d_a_t_a_i_o_gaa48e892d5c3e70987015f1858d4df326}{GetInXBuffer}}()-\/>\mbox{\hyperlink{group___x_u_t_i_l_s_ga726a6143d8a9293a199f8033c8198a0a}{GetSize}}();}
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00163}00163\ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(size\ >=\ \textcolor{keyword}{sizeof}(\mbox{\hyperlink{class_d_i_o_n_t_p_b_a_s_i_c_i_n_f_o}{DIONTPBASICINFO}}))}
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00164}00164\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00165}00165\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ br\ =\ diostreamudp-\/>\mbox{\hyperlink{group___d_a_t_a_i_o_ga20cd6c3635818f96468dee8bc601aec1}{Read}}((\mbox{\hyperlink{_x_base_8h_a7ba3d378cab4450418bec78e604d47da}{XBYTE}}*)\&fullpacket,\ size);\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00166}00166\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(br)}
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00167}00167\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{\ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00168}00168\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ response.\mbox{\hyperlink{class_d_i_o_n_t_p_r_e_s_p_o_n_s_e_a6e12db58dd4b197c6d544df991701b0d}{stratum}}\ \ \ \ \ \ \ \ \ \ \ =\ fullpacket.basic.stratum;}
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00169}00169\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ response.\mbox{\hyperlink{class_d_i_o_n_t_p_r_e_s_p_o_n_s_e_a1f718b1df7b304e49d26db87bccd2355}{leapindicator}}\ \ \ \ \ =\ (fullpacket.basic.livnmode\ \&\ 0xC0)\ >>\ 6;}
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00170}00170\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ response.\mbox{\hyperlink{class_d_i_o_n_t_p_r_e_s_p_o_n_s_e_aa9c48401e96909943479cc7b499005f6}{originatetime}}\ \ \ \ \ =\ ConvertTimePacket(fullpacket.basic.originatetimestamp\ \ ,\ hardwareuselittleendian);}
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00171}00171\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ response.\mbox{\hyperlink{class_d_i_o_n_t_p_r_e_s_p_o_n_s_e_a5b69c0e809fdf136e3961c9d9f6a9877}{receivetime}}\ \ \ \ \ \ \ =\ ConvertTimePacket(fullpacket.basic.receivetimestamp\ \ \ \ ,\ hardwareuselittleendian);}
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00172}00172\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ response.\mbox{\hyperlink{class_d_i_o_n_t_p_r_e_s_p_o_n_s_e_a7fdc86d6584e95dff73be90c0c8f17a6}{transmittime}}\ \ \ \ \ \ =\ ConvertTimePacket(fullpacket.basic.transmittimestamp\ \ \ ,\ hardwareuselittleendian);}
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00173}00173\ }
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00174}00174\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long}\ roundtripdelay\ \ \ =\ (\textcolor{keywordtype}{long}\ long)(response.\mbox{\hyperlink{class_d_i_o_n_t_p_r_e_s_p_o_n_s_e_a0bc27807ec47755a77cfdb8fcf21b974}{destinationtime}}\ -\/\ response.\mbox{\hyperlink{class_d_i_o_n_t_p_r_e_s_p_o_n_s_e_aa9c48401e96909943479cc7b499005f6}{originatetime}})\ -\/\ (\textcolor{keywordtype}{long}\ long)(response.\mbox{\hyperlink{class_d_i_o_n_t_p_r_e_s_p_o_n_s_e_a5b69c0e809fdf136e3961c9d9f6a9877}{receivetime}}\ -\/\ response.\mbox{\hyperlink{class_d_i_o_n_t_p_r_e_s_p_o_n_s_e_a7fdc86d6584e95dff73be90c0c8f17a6}{transmittime}});}
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00175}00175\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long}\ localclockoffset\ =\ (\textcolor{keywordtype}{long}\ long)(response.\mbox{\hyperlink{class_d_i_o_n_t_p_r_e_s_p_o_n_s_e_a5b69c0e809fdf136e3961c9d9f6a9877}{receivetime}}\ -\/\ response.\mbox{\hyperlink{class_d_i_o_n_t_p_r_e_s_p_o_n_s_e_aa9c48401e96909943479cc7b499005f6}{originatetime}})\ \ \ \ \ +\ (\textcolor{keywordtype}{long}\ long)(response.\mbox{\hyperlink{class_d_i_o_n_t_p_r_e_s_p_o_n_s_e_a7fdc86d6584e95dff73be90c0c8f17a6}{transmittime}}\ -\/\ response.\mbox{\hyperlink{class_d_i_o_n_t_p_r_e_s_p_o_n_s_e_a0bc27807ec47755a77cfdb8fcf21b974}{destinationtime}});}
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00176}00176\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ response.\mbox{\hyperlink{class_d_i_o_n_t_p_r_e_s_p_o_n_s_e_a2a132fa5db47e52f5b94734a9ca27dcd}{roundtripdelay}}\ \ \ \ =\ (double)(roundtripdelay);}
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00177}00177\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ response.\mbox{\hyperlink{class_d_i_o_n_t_p_r_e_s_p_o_n_s_e_a67b40ab1cb75986277418793d6dab2a4}{localclockoffset}}\ \ =\ (double)(localclockoffset/2);}
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00178}00178\ }
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00179}00179\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ status\ \ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00180}00180\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00181}00181\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}\ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00182}00182\ \ \ \ \ \ \ \ \ \ \ \ \ \}\ }
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00183}00183\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00184}00184\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00185}00185\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//XTRACE\_PRINTCOLOR(XTRACE\_COLOR\_PURPLE,\ \_\_L("{}ntp\ [\%d]\ \%d"{}),\ sizeof(DIONTPBASICINFO),\ \ size);}}
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00186}00186\ \ \ \ \ \ \ \ \ \ \ \ \ \}\ }
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00187}00187\ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00188}00188\ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}((\textcolor{keywordtype}{int})xtimer-\/>\mbox{\hyperlink{group___x_u_t_i_l_s_ga02ae3c82df51ec1ed16288fe102d9d8b}{GetMeasureSeconds}}()>=\ \mbox{\hyperlink{_x_l_i_n_u_x_system_8cpp_a493b57f443cc38b3d3df9c1e584d9d82}{timeout}})}
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00189}00189\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00190}00190\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ status\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00191}00191\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00192}00192\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00193}00193\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00194}00194\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00195}00195\ }
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00196}00196\ \ \ diostreamudp-\/>\mbox{\hyperlink{group___d_a_t_a_i_o_ga42f9eb4342ba828c033258fae3ceafa6}{Close}}();}
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00197}00197\ }
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00198}00198\ \ \ \textcolor{keywordflow}{return}\ status;}
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00199}00199\ \}}
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00200}00200\ }
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00201}00201\ }
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00216}\mbox{\hyperlink{group___d_a_t_a_i_o_gaa48706db8e8cf70a3e6c742843b5614a}{00216}}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{group___d_a_t_a_i_o_gacd39859e452f4913cd04e0ece36b4a0f}{DIONTP::GetTimeResponse}}(\mbox{\hyperlink{class_d_i_o_u_r_l}{DIOURL}}\&\ urlntpserver,\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{_x_l_i_n_u_x_system_8cpp_a493b57f443cc38b3d3df9c1e584d9d82}{timeout}},\ \textcolor{keywordtype}{bool}\ hardwareuselittleendian,\ \mbox{\hyperlink{class_d_i_o_n_t_p_r_e_s_p_o_n_s_e}{DIONTPRESPONSE}}\&\ response)}
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00217}00217\ \{}
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00218}00218\ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{group___d_a_t_a_i_o_gacd39859e452f4913cd04e0ece36b4a0f}{GetTimeResponse}}(urlntpserver.\mbox{\hyperlink{group___x_u_t_i_l_s_gad1470753a96f93e2feb3ee54e6fef95f}{Get}}(),\ \mbox{\hyperlink{_x_l_i_n_u_x_system_8cpp_a493b57f443cc38b3d3df9c1e584d9d82}{timeout}},\ hardwareuselittleendian,\ response);}
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00219}00219\ \}}
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00220}00220\ }
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00221}00221\ }
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00236}\mbox{\hyperlink{group___d_a_t_a_i_o_gabf44bd03f5a3068ddb13dddd447aa2ab}{00236}}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{group___d_a_t_a_i_o_gabf44bd03f5a3068ddb13dddd447aa2ab}{DIONTP::GetTimeSeconds}}(\mbox{\hyperlink{_x_string_8h_a03209152a681f02e4ba73b6681dd4968}{XCHAR}}*\ urlntpserver,\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{_x_l_i_n_u_x_system_8cpp_a493b57f443cc38b3d3df9c1e584d9d82}{timeout}},\ \textcolor{keywordtype}{bool}\ hardwareuselittleendian,\ \mbox{\hyperlink{_x_base_8h_a86128ef639d896f7b12288868ddb7ad5}{XQWORD}}\&\ timeseconds)}
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00237}00237\ \{}
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00238}00238\ \ \ \mbox{\hyperlink{class_d_i_o_n_t_p_r_e_s_p_o_n_s_e}{DIONTPRESPONSE}}\ response;}
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00239}00239\ }
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00240}00240\ \ \ timeseconds\ =\ 0;}
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00241}00241\ }
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00242}00242\ \ \ \textcolor{keywordflow}{if}(\mbox{\hyperlink{group___d_a_t_a_i_o_gacd39859e452f4913cd04e0ece36b4a0f}{GetTimeResponse}}(urlntpserver,\mbox{\hyperlink{_x_l_i_n_u_x_system_8cpp_a493b57f443cc38b3d3df9c1e584d9d82}{timeout}},\ hardwareuselittleendian,\ response))}
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00243}00243\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00244}00244\ \ \ \ \ \ \ timeseconds\ =\ (response.\mbox{\hyperlink{class_d_i_o_n_t_p_r_e_s_p_o_n_s_e_a5b69c0e809fdf136e3961c9d9f6a9877}{receivetime}}\ >>\ 32);}
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00245}00245\ }
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00246}00246\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00247}00247\ }
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00248}00248\ \ \ \textcolor{keywordflow}{return}\ timeseconds?\textcolor{keyword}{true}:\textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00249}00249\ \}}
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00250}00250\ }
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00251}00251\ }
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00266}\mbox{\hyperlink{group___d_a_t_a_i_o_ga5cff9f652eb43b213d036c65da187d6e}{00266}}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{group___d_a_t_a_i_o_gabf44bd03f5a3068ddb13dddd447aa2ab}{DIONTP::GetTimeSeconds}}(\mbox{\hyperlink{class_d_i_o_u_r_l}{DIOURL}}\&\ urlntpserver,\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{_x_l_i_n_u_x_system_8cpp_a493b57f443cc38b3d3df9c1e584d9d82}{timeout}},\ \textcolor{keywordtype}{bool}\ hardwareuselittleendian,\ \mbox{\hyperlink{_x_base_8h_a86128ef639d896f7b12288868ddb7ad5}{XQWORD}}\&\ timeseconds)}
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00267}00267\ \{}
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00268}00268\ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{group___d_a_t_a_i_o_gabf44bd03f5a3068ddb13dddd447aa2ab}{GetTimeSeconds}}(urlntpserver.\mbox{\hyperlink{group___x_u_t_i_l_s_gad1470753a96f93e2feb3ee54e6fef95f}{Get}}(),\ \mbox{\hyperlink{_x_l_i_n_u_x_system_8cpp_a493b57f443cc38b3d3df9c1e584d9d82}{timeout}},\ hardwareuselittleendian,\ timeseconds);}
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00269}00269\ \}}
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00270}00270\ }
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00271}00271\ }
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00286}\mbox{\hyperlink{group___d_a_t_a_i_o_ga0847c0f480200299a8d7dc297343df90}{00286}}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{group___d_a_t_a_i_o_ga0847c0f480200299a8d7dc297343df90}{DIONTP::GetTime}}(\mbox{\hyperlink{_x_string_8h_a03209152a681f02e4ba73b6681dd4968}{XCHAR}}*\ urlntpserver,\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{_x_l_i_n_u_x_system_8cpp_a493b57f443cc38b3d3df9c1e584d9d82}{timeout}},\ \textcolor{keywordtype}{bool}\ hardwareuselittleendian,\ \mbox{\hyperlink{class_x_d_a_t_e_t_i_m_e}{XDATETIME}}\&\ xdatetime)}
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00287}00287\ \{}
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00288}00288\ \ \ \mbox{\hyperlink{_x_base_8h_a86128ef639d896f7b12288868ddb7ad5}{XQWORD}}\ timeseconds;}
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00289}00289\ }
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00290}00290\ \ \ \textcolor{keywordtype}{bool}\ status\ =\ \mbox{\hyperlink{group___d_a_t_a_i_o_gabf44bd03f5a3068ddb13dddd447aa2ab}{GetTimeSeconds}}(urlntpserver,\ \mbox{\hyperlink{_x_l_i_n_u_x_system_8cpp_a493b57f443cc38b3d3df9c1e584d9d82}{timeout}},\ hardwareuselittleendian,\ timeseconds);}
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00291}00291\ \ \ \textcolor{keywordflow}{if}(status)}
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00292}00292\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00293}00293\ \ \ \ \ \ \ \mbox{\hyperlink{_x_base_8h_a0e5b572e67f127f1afb599e257c539cf}{XDWORD}}\ sec\ =\ (\mbox{\hyperlink{_x_base_8h_a0e5b572e67f127f1afb599e257c539cf}{XDWORD}})timeseconds;}
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00294}00294\ }
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00295}00295\ \ \ \ \ \ \ \textcolor{comment}{//if(xdatetime.IsDayLigthSavingTime())\ sec\ +=\ 3600;}}
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00296}00296\ \ \ \ \ \ \ \textcolor{comment}{//sec\ +=\ (xdatetime.GetDifferenceGMT()*3600);}}
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00297}00297\ }
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00298}00298\ \ \ \ \ \ \ xdatetime.\mbox{\hyperlink{group___x_u_t_i_l_s_ga464db2ab1abdcf3f515de690340f518e}{SetSeconds}}((\mbox{\hyperlink{_x_base_8h_a3f1fe1487089bc987e3d549a9064e653}{XWORD}})(sec\ \%\ 60));\ \ \ sec\ /=\ 60;}
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00299}00299\ \ \ \ \ \ \ xdatetime.\mbox{\hyperlink{group___x_u_t_i_l_s_ga69173332be1d9f8c586e1a88417b0515}{SetMinutes}}((\mbox{\hyperlink{_x_base_8h_a3f1fe1487089bc987e3d549a9064e653}{XWORD}})(sec\ \%\ 60));\ \ \ sec\ /=\ 60;}
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00300}00300\ \ \ \ \ \ \ xdatetime.\mbox{\hyperlink{group___x_u_t_i_l_s_ga13a958415b92d0fd57f4cbac8851a88d}{SetHours}}((\mbox{\hyperlink{_x_base_8h_a3f1fe1487089bc987e3d549a9064e653}{XWORD}})(sec\ \%\ 24));\ \ \ \ \ sec\ /=\ 24;}
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00301}00301\ }
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00302}00302\ \ \ \ \ \ \ \textcolor{keywordtype}{long}\ JD\ =\ sec\ +\ \mbox{\hyperlink{_d_i_o_n_t_p_8h_ab0fb717fa4a84bee885aa38bd1da1d3e}{DIONTP\_JAN1ST1900}};}
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00303}00303\ }
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00304}00304\ \ \ \ \ \ \ xdatetime.\mbox{\hyperlink{group___x_u_t_i_l_s_ga1300a113a438cf34914c33ed43b89bdb}{GetDateFromNDays}}(JD,\ \textcolor{keyword}{false});}
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00305}00305\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00306}00306\ }
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00307}00307\ \ \ \textcolor{keywordflow}{return}\ status;}
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00308}00308\ \}}
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00309}00309\ }
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00310}00310\ }
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00325}\mbox{\hyperlink{group___d_a_t_a_i_o_gad7738c073eb1aff2ad03fdce2ef59053}{00325}}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{group___d_a_t_a_i_o_ga0847c0f480200299a8d7dc297343df90}{DIONTP::GetTime}}(\mbox{\hyperlink{class_d_i_o_u_r_l}{DIOURL}}\&\ urlntpserver,\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{_x_l_i_n_u_x_system_8cpp_a493b57f443cc38b3d3df9c1e584d9d82}{timeout}},\ \textcolor{keywordtype}{bool}\ hardwareuselittleendian,\ \mbox{\hyperlink{class_x_d_a_t_e_t_i_m_e}{XDATETIME}}\&\ xtime)}
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00326}00326\ \{}
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00327}00327\ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{group___d_a_t_a_i_o_ga0847c0f480200299a8d7dc297343df90}{GetTime}}(urlntpserver.\mbox{\hyperlink{group___x_u_t_i_l_s_gad1470753a96f93e2feb3ee54e6fef95f}{Get}}(),\ \mbox{\hyperlink{_x_l_i_n_u_x_system_8cpp_a493b57f443cc38b3d3df9c1e584d9d82}{timeout}},\ hardwareuselittleendian,\ xtime);}
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00328}00328\ \}}
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00329}00329\ }
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00330}00330\ }
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00343}00343\ \mbox{\hyperlink{_x_base_8h_a86128ef639d896f7b12288868ddb7ad5}{XQWORD}}\ DIONTP::ConvertTimePacket(\mbox{\hyperlink{class_d_i_o_t_i_m_e_p_a_c_k_e_t}{DIOTIMEPACKET}}\&\ timepacket,\ \textcolor{keywordtype}{bool}\ hardwareuselittleendian)}
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00344}00344\ \{}
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00345}00345\ \ \ \mbox{\hyperlink{_x_base_8h_a0e5b572e67f127f1afb599e257c539cf}{XDWORD}}\ \ dwhigh\ \ \ =\ \ (hardwareuselittleendian)?\mbox{\hyperlink{_x_base_8cpp_a4d1da17fcb47e6bff9f2dbc0e680d593}{SwapDWORD}}(timepacket.\mbox{\hyperlink{class_d_i_o_t_i_m_e_p_a_c_k_e_t_ac6c0cb03ce04b0cbe07f6dd3b40dc751}{integer}})\ \ \ \ :\ timepacket.\mbox{\hyperlink{class_d_i_o_t_i_m_e_p_a_c_k_e_t_ac6c0cb03ce04b0cbe07f6dd3b40dc751}{integer}};}
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00346}00346\ \ \ \mbox{\hyperlink{_x_base_8h_a0e5b572e67f127f1afb599e257c539cf}{XDWORD}}\ \ dwlow\ \ \ \ =\ \ (hardwareuselittleendian)?\mbox{\hyperlink{_x_base_8cpp_a4d1da17fcb47e6bff9f2dbc0e680d593}{SwapDWORD}}(timepacket.\mbox{\hyperlink{class_d_i_o_t_i_m_e_p_a_c_k_e_t_a4b364666f5e53c502b0fe54555e93aad}{fractional}})\ :\ timepacket.\mbox{\hyperlink{class_d_i_o_t_i_m_e_p_a_c_k_e_t_a4b364666f5e53c502b0fe54555e93aad}{fractional}};}
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00347}00347\ \ \ \mbox{\hyperlink{_x_base_8h_a86128ef639d896f7b12288868ddb7ad5}{XQWORD}}\ \ timedata;}
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00348}00348\ }
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00349}00349\ \ \ timedata\ \ =\ ((\mbox{\hyperlink{_x_base_8h_a86128ef639d896f7b12288868ddb7ad5}{XQWORD}})\ dwhigh)\ <<\ 32;}
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00350}00350\ \ \ timedata\ |=\ dwlow;}
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00351}00351\ }
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00352}00352\ \ \ \textcolor{keywordflow}{return}\ timedata;}
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00353}00353\ \}}
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00354}00354\ }
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00355}00355\ }
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00364}00364\ \textcolor{keywordtype}{void}\ DIONTP::Clean()}
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00365}00365\ \{}
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00366}00366\ \ \ xtimer\ \ \ \ \ \ \ \ \ \ =\ \mbox{\hyperlink{_x_base_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}};}
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00367}00367\ }
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00368}00368\ \ \ diostreamudpcfg\ =\ \mbox{\hyperlink{_x_base_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}};}
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00369}00369\ \ \ diostreamudp\ \ \ \ =\ \mbox{\hyperlink{_x_base_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}};}
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00370}00370\ \}}
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00371}00371\ }
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00372}00372\ }
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00373}00373\ \textcolor{preprocessor}{\#pragma\ endregion}}
\DoxyCodeLine{\Hypertarget{_d_i_o_n_t_p_8cpp_source_l00374}00374\ }

\end{DoxyCode}
